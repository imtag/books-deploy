import{_ as s,c as a,o as e,d as n}from"./app.c4f45da1.js";const h=JSON.parse('{"title":"\u4F18\u5316 webpack \u914D\u7F6E\uFF08\u4E00\uFF09-\u63D0\u5347\u5F00\u53D1\u4F53\u9A8C","description":"","frontmatter":{},"headers":[{"level":2,"title":"HMR \u6A21\u5757\u70ED\u66FF\u6362","slug":"hmr-\u6A21\u5757\u70ED\u66FF\u6362","link":"#hmr-\u6A21\u5757\u70ED\u66FF\u6362","children":[]},{"level":2,"title":"\u533A\u5206\u73AF\u5883","slug":"\u533A\u5206\u73AF\u5883","link":"#\u533A\u5206\u73AF\u5883","children":[]},{"level":2,"title":"\u6784\u5EFA\u65F6\u95F4","slug":"\u6784\u5EFA\u65F6\u95F4","link":"#\u6784\u5EFA\u65F6\u95F4","children":[]},{"level":2,"title":"\u51CF\u5C11\u6267\u884C\u6784\u5EFA\u7684\u6A21\u5757","slug":"\u51CF\u5C11\u6267\u884C\u6784\u5EFA\u7684\u6A21\u5757","link":"#\u51CF\u5C11\u6267\u884C\u6784\u5EFA\u7684\u6A21\u5757","children":[{"level":3,"title":"\u7F29\u5C0F\u6587\u4EF6\u7684\u641C\u7D22\u8303","slug":"\u7F29\u5C0F\u6587\u4EF6\u7684\u641C\u7D22\u8303","link":"#\u7F29\u5C0F\u6587\u4EF6\u7684\u641C\u7D22\u8303","children":[]},{"level":3,"title":"DllPlugin","slug":"dllplugin","link":"#dllplugin","children":[]},{"level":3,"title":"Externals","slug":"externals","link":"#externals","children":[]}]},{"level":2,"title":"\u63D0\u5347\u5355\u4E2A\u6A21\u5757\u6784\u5EFA\u7684\u901F\u5EA6","slug":"\u63D0\u5347\u5355\u4E2A\u6A21\u5757\u6784\u5EFA\u7684\u901F\u5EA6","link":"#\u63D0\u5347\u5355\u4E2A\u6A21\u5757\u6784\u5EFA\u7684\u901F\u5EA6","children":[{"level":3,"title":"\u4F18\u5316 loader \u914D\u7F6E","slug":"\u4F18\u5316-loader-\u914D\u7F6E","link":"#\u4F18\u5316-loader-\u914D\u7F6E","children":[]},{"level":3,"title":"SourceMap","slug":"sourcemap","link":"#sourcemap","children":[]}]},{"level":2,"title":"\u5E76\u884C\u6784\u5EFA\u4EE5\u63D0\u5347\u603B\u4F53\u6548\u7387","slug":"\u5E76\u884C\u6784\u5EFA\u4EE5\u63D0\u5347\u603B\u4F53\u6548\u7387","link":"#\u5E76\u884C\u6784\u5EFA\u4EE5\u63D0\u5347\u603B\u4F53\u6548\u7387","children":[{"level":3,"title":"HappyPack","slug":"happypack","link":"#happypack","children":[]},{"level":3,"title":"Thread-loader","slug":"thread-loader","link":"#thread-loader","children":[]}]},{"level":2,"title":"\u5E76\u884C\u538B\u7F29","slug":"\u5E76\u884C\u538B\u7F29","link":"#\u5E76\u884C\u538B\u7F29","children":[{"level":3,"title":"UglifyjsWebpackPlugin\u3001TerserWebpackPlugin \u5F00\u542F paralle","slug":"uglifyjswebpackplugin\u3001terserwebpackplugin-\u5F00\u542F-paralle","link":"#uglifyjswebpackplugin\u3001terserwebpackplugin-\u5F00\u542F-paralle","children":[]},{"level":3,"title":"ParallelUglifyPlugin","slug":"paralleluglifyplugin","link":"#paralleluglifyplugin","children":[]}]},{"level":2,"title":"\u7F13\u5B58","slug":"\u7F13\u5B58","link":"#\u7F13\u5B58","children":[{"level":3,"title":"babel-loader \u5F00\u542F\u7F13\u5B58","slug":"babel-loader-\u5F00\u542F\u7F13\u5B58","link":"#babel-loader-\u5F00\u542F\u7F13\u5B58","children":[]},{"level":3,"title":"cache-loader \u6216\u8005 HardSourceWebpackPlugin","slug":"cache-loader-\u6216\u8005-hardsourcewebpackplugin","link":"#cache-loader-\u6216\u8005-hardsourcewebpackplugin","children":[]}]}],"relativePath":"\u5DE5\u7A0B\u5316/\u521D\u63A2\u524D\u7AEF\u5DE5\u7A0B\u5316/\u4F18\u5316 webpack \u914D\u7F6E\uFF08\u4E00\uFF09-\u63D0\u5347\u5F00\u53D1\u4F53\u9A8C.md"}'),l={name:"\u5DE5\u7A0B\u5316/\u521D\u63A2\u524D\u7AEF\u5DE5\u7A0B\u5316/\u4F18\u5316 webpack \u914D\u7F6E\uFF08\u4E00\uFF09-\u63D0\u5347\u5F00\u53D1\u4F53\u9A8C.md"},p=n(`<h1 id="\u4F18\u5316-webpack-\u914D\u7F6E\uFF08\u4E00\uFF09-\u63D0\u5347\u5F00\u53D1\u4F53\u9A8C" tabindex="-1">\u4F18\u5316 webpack \u914D\u7F6E\uFF08\u4E00\uFF09-\u63D0\u5347\u5F00\u53D1\u4F53\u9A8C <a class="header-anchor" href="#\u4F18\u5316-webpack-\u914D\u7F6E\uFF08\u4E00\uFF09-\u63D0\u5347\u5F00\u53D1\u4F53\u9A8C" aria-hidden="true">#</a></h1><hr><p>\u524D\u9762\u6211\u4EEC\u8BB2\u4E86\u5E38\u89C1\u7684\u6784\u5EFA\u5DE5\u5177\u4EE5\u53CA\u5176\u5BF9\u6BD4\uFF0C\u76EE\u524D\u800C\u8A00\uFF0C\u6700\u6D41\u884C\u7684\u6A21\u5757\u5316\u6253\u5305\u5DE5\u5177\u975E webpack \u83AB\u5C5E\uFF0Cwebpack \u5360\u636E\u4E86\u5DE8\u5927\u7684\u5E02\u573A\u4EFD\u989D\u3002\u6240\u4EE5\u672C\u7BC7\u6587\u7AE0\u548C\u4E0B\u4E00\u7BC7\u6587\u7AE0\u4E3B\u8981\u5C31 webpack \u6765\u7ED9\u5927\u5BB6\u5206\u4EAB\u4E0B\u5982\u4F55\u4ECE\u5F00\u53D1\u4F53\u9A8C\u548C\u8F93\u51FA\u8D28\u91CF\u4E24\u65B9\u9762\u6765\u4F18\u5316\u9879\u76EE\u4E2D\u7684 webpack \u914D\u7F6E\u3002</p><p>\u672C\u7BC7\u6587\u7AE0\u6211\u4EEC\u5148\u6765\u770B\u4E00\u4E0B\u5982\u4F55\u4F18\u5316\u63D0\u5347 webpack \u7684\u5F00\u53D1\u4F53\u9A8C\uFF0C\u4F18\u5316\u5F00\u53D1\u4F53\u9A8C\u4E3B\u8981\u76EE\u7684\u662F\u63D0\u5347\u5F00\u53D1\u6548\u7387\uFF0C\u8BA9\u6211\u4EEC\u4E0D\u5FC5\u8981\u6BCF\u6B21\u8981\u53BB\u62BD\u4E00\u652F\u70DF\u624D\u80FD\u7B49\u5230\u9879\u76EE\u542F\u52A8\u6216\u8005\u6784\u5EFA\u5B8C\u6210\u3002\u540C\u65F6\uFF0C\u4E5F\u9700\u8981\u4F7F\u7528\u5DE5\u7A0B\u5316\u7684\u624B\u6BB5\u907F\u514D\u91CD\u590D\u6027\u52B3\u52A8\u3002\u4E0B\u9762\u662F\u672C\u7BC7\u6587\u7AE0\u7684\u8111\u56FE\uFF08\u8D76\u7D27\u53F3\u952E\u4FDD\u5B58\u4E0B\u6765(\u3065\uFF61\u25D5\u203F\u203F\u25D5\uFF61)\u3065\uFF09</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/012ce48d90be4428a44f2586104df9df~tplv-k3u1fbpfcp-watermark.image?" alt="\u5982\u4F55\u63D0\u5347 webpack \u5F00\u53D1\u4F53\u9A8C.png"></p><h1 id="\u4F18\u5316\u5F00\u53D1\u4F53\u9A8C" tabindex="-1">\u4F18\u5316\u5F00\u53D1\u4F53\u9A8C <a class="header-anchor" href="#\u4F18\u5316\u5F00\u53D1\u4F53\u9A8C" aria-hidden="true">#</a></h1><h2 id="hmr-\u6A21\u5757\u70ED\u66FF\u6362" tabindex="-1">HMR \u6A21\u5757\u70ED\u66FF\u6362 <a class="header-anchor" href="#hmr-\u6A21\u5757\u70ED\u66FF\u6362" aria-hidden="true">#</a></h2><p>\u6A21\u5757\u70ED\u66FF\u6362(<code>Hot Module Replacement</code> \u6216 HMR)\u662F <code>webpack</code> \u63D0\u4F9B\u7684\u6700\u6709\u7528\u7684\u529F\u80FD\u4E4B\u4E00\u3002\u5B83\u5141\u8BB8\u5728\u8FD0\u884C\u65F6\u66F4\u65B0\u5404\u79CD\u6A21\u5757\uFF0C\u800C\u65E0\u9700\u5237\u65B0\u6D4F\u89C8\u5668\u3002</p><p>\u5728\u6211\u4EEC\u5E73\u65F6\u5F00\u53D1\u4E2D\uFF0C\u6700\u5E38\u505A\u7684\u64CD\u4F5C\u5C31\u662F\u4FEE\u6539\u4EE3\u7801\uFF0C\u5BF9\u4E8E\u7F51\u9875\u5F00\u53D1\u6765\u8BF4\uFF0C\u5927\u90E8\u5206\u65F6\u5019\u90FD\u9700\u8981\u6211\u4EEC\u5B9E\u65F6\u5728\u6D4F\u89C8\u5668\u4E2D\u53BB\u67E5\u770B\u4FEE\u6539\u7684\u7ED3\u679C\u3002\u90A3\u4E48\uFF0C\u6211\u4EEC\u5C31\u9700\u8981\u7B49\u7F16\u8BD1\u5B8C\u6210\u540E\u624B\u52A8\u5237\u65B0\u6D4F\u89C8\u5668\uFF0C\u5728\u5DE5\u7A0B\u5316\u4E2D\uFF0C\u6211\u4EEC\u5B8C\u5168\u53EF\u4EE5\u5C06\u8FD9\u4E9B\u91CD\u590D\u7684\u64CD\u4F5C\u4F7F\u7528\u5DE5\u7A0B\u5316\u7684\u80FD\u529B\u6765\u5E2E\u52A9\u6211\u4EEC\u63D0\u6548\u3002</p><p>\u76F8\u4FE1\u4F7F\u7528\u8FC7 webpack \u7684\u540C\u5B66\u5E94\u8BE5\u90FD\u77E5\u9053 webpack \u6709\u4E00\u4E2A\u7279\u522B\u597D\u7528\u7684\u529F\u80FD\uFF1A\u6A21\u5757\u70ED\u66FF\u6362(<code>Hot Module Replacement</code> \u6216 HMR \u6216\u70ED\u66F4\u65B0)\uFF0C\u5176\u53EF\u4EE5\u5728\u76D1\u542C\u5230\u672C\u5730\u6E90\u6587\u4EF6\u53D1\u751F\u53D8\u5316\u7684\u65F6\u5019\uFF0C\u505A\u5230\u4E0D\u5237\u65B0\u6D4F\u89C8\u5668\u9875\u9762\u7684\u60C5\u51B5\u4E0B\uFF0C\u5C06\u7F16\u8BD1\u597D\u7684\u4EE3\u7801\u63A8\u9001\u5230\u6D4F\u89C8\u5668\uFF0C\u7136\u540E\u5B9E\u65F6\u66F4\u65B0\u5185\u5BB9\u3002</p><p>\u6709\u4E86\u6A21\u5757\u70ED\u66FF\u6362\uFF0C\u6211\u4EEC\u4E0D\u4EC5\u53EF\u4EE5\u8282\u7701\u5B9E\u65F6\u9884\u89C8\u7684\u7B49\u5F85\u65F6\u95F4\uFF0C\u8FD8\u6709\u4E00\u4E2A\u5F88\u91CD\u8981\u7684\u539F\u56E0\u662F\u5728\u4E0D\u5237\u65B0\u6D4F\u89C8\u5668\u9875\u9762\u7684\u60C5\u51B5\u4E0B\uFF0C\u6211\u4EEC\u5C31\u53EF\u4EE5\u5C3D\u53EF\u80FD\u7684\u4FDD\u5B58\u5F53\u524D\u9875\u9762\u7684\u8FD0\u884C\u72B6\u6001\uFF0C\u4F8B\u5982\u8868\u5355\u7684\u586B\u5199\u548C Redux \u72B6\u6001\u7BA1\u7406\u3002\u8FD9\u6837\u4E0D\u81F3\u4E8E\u4FEE\u6539\u4E00\u4E2A\u6837\u5F0F\u5C31\u9700\u8981\u91CD\u65B0\u586B\u5199\u6570\u636E\u3002</p><p>\u6A21\u5757\u70ED\u66FF\u6362\u7684\u539F\u7406\u4E5F\u5F88\u7B80\u5355\uFF0C\u5927\u81F4\u6B65\u9AA4\u5982\u4E0B\uFF1A</p><ul><li>webpack \u5728\u70ED\u66F4\u65B0\u6A21\u5F0F\u4E0B\u4F1A\u542F\u52A8\u4E00\u4E2A dev \u670D\u52A1\u5668\uFF0C\u8BA9\u6D4F\u89C8\u5668\u53EF\u4EE5\u8BF7\u6C42\u672C\u5730\u7684\u9759\u6001\u8D44\u6E90\uFF0C\u672C\u5730 server \u542F\u52A8\u4E4B\u540E\uFF0C\u670D\u52A1\u7AEF\u5C31\u4F1A\u5EFA\u7ACB\u4E00\u4E2A\u548C\u5BA2\u6237\u7AEF\u4E4B\u95F4\u7684\u957F\u94FE\u63A5\uFF08<code>websocket</code> \u670D\u52A1\uFF09\u3002</li><li>\u6BCF\u5F53\u6587\u4EF6\u4FEE\u6539\u540E\uFF0C\u670D\u52A1\u7AEF\u5C31\u4F1A\u901A\u8FC7\u957F\u94FE\u63A5\u5411\u5BA2\u6237\u7AEF\u63A8\u9001\u6D88\u606F\u544A\u8BC9\u5BA2\u6237\u7AEF\u6709\u6E90\u6587\u4EF6\u8FDB\u884C\u4E86\u4FEE\u6539\uFF0C\u4F60\u9700\u8981\u63A5\u6536\u6587\u4EF6\u3002</li><li>\u5BA2\u6237\u7AEF\u6536\u5230\u8BF7\u6C42\u4E4B\u540E\uFF0C\u91CD\u65B0\u8BF7\u6C42\u4E00\u4E2A JS \u6587\u4EF6\uFF0C\u8BE5\u6587\u4EF6\u4F1A\u66FF\u6362\u6389 <code>__webpack_modules__</code> \u4E2D\u7684\u90E8\u5206\u4EE3\u7801\u3002</li></ul><p><a href="https://www.webpackjs.com/guides/hot-module-replacement/#%E5%90%AF%E7%94%A8-hmr" target="_blank" rel="noreferrer">\u4F7F\u7528 XMR \u7684\u59FF\u52BF</a> webpack \u5B98\u7F51\u4E0A\u4E5F\u4ECB\u7ECD\u7684\u6BD4\u8F83\u8BE6\u7EC6\uFF0C\u5927\u5BB6\u53EF\u4EE5\u81EA\u884C\u67E5\u9605\uFF0C\u8FD9\u91CC\u5C31\u4E0D\u5C55\u5F00\u8BB2\u4E86\u3002</p><h2 id="\u533A\u5206\u73AF\u5883" tabindex="-1">\u533A\u5206\u73AF\u5883 <a class="header-anchor" href="#\u533A\u5206\u73AF\u5883" aria-hidden="true">#</a></h2><p>\u56E0\u4E3A\u6211\u4EEC\u5728\u5F00\u53D1\u9636\u6BB5\u7684\u76EE\u6807\u548C\u4EE3\u7801\u5728\u751F\u4EA7\u73AF\u5883\u8FD0\u884C\u7684\u76EE\u6807\u662F\u4E0D\u4E00\u81F4\u7684\uFF0C\u6240\u4EE5\u5728\u6211\u4EEC\u7684\u9879\u76EE\u4E2D\uFF0C\u6700\u5C11\u662F\u8981\u6709\u4E24\u5957\u73AF\u5883\u7684\uFF1A\u5373\u5F00\u53D1\u73AF\u5883\u548C\u751F\u4EA7\u73AF\u5883\u3002</p><p>\u5728\u5F00\u53D1\u9636\u6BB5\uFF0C\u6211\u4EEC\u8981\u8FDB\u884C\u5F00\u53D1\u548C\u8C03\u8BD5\uFF0C\u8FD9\u5C31\u9700\u8981\u4FDD\u7559\u9519\u8BEF\u65E5\u5FD7\u548C\u8C03\u8BD5\u5DE5\u5177\u3002\u4F46\u662F\u5728\u751F\u4EA7\u73AF\u5883\u4E2D\uFF0C\u6211\u4EEC\u9700\u8981\u5C3D\u53EF\u80FD\u7F29\u5C0F\u4EE3\u7801\u4F53\u79EF\u4EE5\u51CF\u5C11\u7F51\u7EDC\u4F20\u8F93\uFF0C\u5E76\u4E14\u4E0D\u5E94\u8BE5\u5C06\u4E00\u4E9B\u5F00\u53D1\u65F6\u5019\u7684 log \u6216\u8005\u62A5\u9519\u4FE1\u606F\u5728\u7528\u6237\u9762\u524D\u5C55\u793A\u3002\u6BD4\u5982 React\uFF0C\u5176\u5728\u5F00\u53D1\u73AF\u5883\u4E0B\u4F1A\u5305\u542B\u7C7B\u578B\u68C0\u67E5\u3001HTML \u68C0\u67E5\u7B49\u9488\u5BF9\u5F00\u53D1\u8005\u7684\u8B66\u544A\u65E5\u5FD7\uFF0C\u5E76\u4F1A\u5C06\u62A5\u9519\u629B\u51FA\uFF0C\u4F46\u662F\u5728\u751F\u4EA7\u73AF\u5883\u4E0B\u5C31\u4E0D\u4F1A\u3002\u540C\u65F6\uFF0C\u5F00\u53D1\u73AF\u5883\u548C\u6D4B\u8BD5\u73AF\u5883\u9700\u8981\u4F7F\u7528\u7684\u6570\u636E\u4E5F\u5E94\u8BE5\u662F\u9694\u79BB\u7684\u3002</p><p>\u4E3A\u4E86\u66F4\u597D\u7684\u590D\u7528\u4EE3\u7801\uFF0C\u6240\u4EE5\u5728 webpack \u4E2D\uFF0C\u53EF\u4EE5\u4F7F\u7528\u4E00\u5957\u6E90\u4EE3\u7801\uFF0C\u901A\u8FC7\u8BBE\u7F6E\u73AF\u5883\u53D8\u91CF\u8F93\u51FA\u4E0D\u540C\u7684\u4EE3\u7801\u3002<code>webpack</code> \u53EF\u4EE5\u901A\u8FC7\u5728\u547D\u4EE4\u884C\u65B0\u589E <code>--env</code> \u53C2\u6570\u7684\u65B9\u5F0F\u4F20\u5165\u73AF\u5883\u53D8\u91CF\u3002\u7136\u540E\u5728 <code>webpack.config.js</code> \u4E2D\u53EF\u4EE5\u8BBF\u95EE\u5230\u8FD9\u4E9B\u73AF\u5883\u53D8\u91CF\u3002\u76F8\u5173\u4EE3\u7801\u5982\u4E0B\uFF1A</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">// \u547D\u4EE4\u884C</span></span>
<span class="line"><span style="color:#A6ACCD;">npx webpack --env goal=local --env production --progress</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">// webpack.config.js</span></span>
<span class="line"><span style="color:#A6ACCD;">const path = require(&#39;path&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">module.exports = (env) =&gt; {</span></span>
<span class="line"><span style="color:#A6ACCD;">  // Use env.&lt;YOUR VARIABLE&gt; here:</span></span>
<span class="line"><span style="color:#A6ACCD;">  console.log(&#39;Goal: &#39;, env.goal); // &#39;local&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">  console.log(&#39;Production: &#39;, env.production); // true</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  return {</span></span>
<span class="line"><span style="color:#A6ACCD;">    entry: &#39;./src/index.js&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">    output: {</span></span>
<span class="line"><span style="color:#A6ACCD;">      filename: &#39;bundle.js&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">      path: path.resolve(__dirname, &#39;dist&#39;),</span></span>
<span class="line"><span style="color:#A6ACCD;">    },</span></span>
<span class="line"><span style="color:#A6ACCD;">  };</span></span>
<span class="line"><span style="color:#A6ACCD;">};</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>\u6211\u4EEC\u8FD8\u53EF\u4EE5\u518D package.json \u7684\u811A\u672C\u6587\u4EF6\u4E2D\u8BBE\u7F6E\u73AF\u5883\u53D8\u91CF\u3002</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">// package.json</span></span>
<span class="line"><span style="color:#A6ACCD;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  ...,</span></span>
<span class="line"><span style="color:#A6ACCD;">  &quot;scripts&quot;: {</span></span>
<span class="line"><span style="color:#A6ACCD;">    &quot;start&quot;: &quot;npm run dev&quot;,</span></span>
<span class="line"><span style="color:#A6ACCD;">    &quot;dev&quot;: &quot;cross-env NODE_ENV=development webpack serve --config ./config/webpack.config.js&quot;,</span></span>
<span class="line"><span style="color:#A6ACCD;">    &quot;build:test&quot;: &quot;cross-env NODE_ENV=test  webpack --config ./config/webpack.config.js&quot;,</span></span>
<span class="line"><span style="color:#A6ACCD;">    &quot;build:pro&quot;: &quot;cross-env NODE_ENV=production  webpack --config ./config/webpack.config.js&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  },</span></span>
<span class="line"><span style="color:#A6ACCD;">  ...</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h1 id="\u63D0\u5347-webpack-\u7684\u6784\u5EFA\u901F\u5EA6" tabindex="-1">\u63D0\u5347 webpack \u7684\u6784\u5EFA\u901F\u5EA6 <a class="header-anchor" href="#\u63D0\u5347-webpack-\u7684\u6784\u5EFA\u901F\u5EA6" aria-hidden="true">#</a></h1><h2 id="\u6784\u5EFA\u65F6\u95F4" tabindex="-1">\u6784\u5EFA\u65F6\u95F4 <a class="header-anchor" href="#\u6784\u5EFA\u65F6\u95F4" aria-hidden="true">#</a></h2><p>\u4F18\u5316 webpack \u6784\u5EFA\u901F\u5EA6\u7684\u7B2C\u4E00\u6B65\u662F\u8981\u77E5\u9053\u6784\u5EFA\u65F6\u95F4\uFF0C\u7136\u540E\u6211\u4EEC\u624D\u53EF\u4EE5\u5177\u4F53\u95EE\u9898\u5177\u4F53\u5206\u6790\u3002\u6211\u4EEC\u53EF\u4EE5\u4F7F\u7528 <code>speed-measure-webpack-plugin</code> \u63D2\u4EF6\u6D4B\u91CF\u4F60\u7684 <code>webpack</code> \u6784\u5EFA\u671F\u95F4\u5404\u4E2A\u9636\u6BB5\u82B1\u8D39\u7684\u65F6\u95F4\u3002\u4F7F\u7528\u59FF\u52BF\u4E5F\u5F88\u7B80\u5355\uFF0C\u53EA\u9700\u8981\u4F7F\u7528 <code>smp.wrap()</code> \u5C06 <code>webpack</code> \u914D\u7F6E\u5185\u5BB9\u5305\u88F9\u8D77\u6765\u5C31\u597D\uFF0C\u5177\u4F53\u4F7F\u7528\u5982\u4E0B \uFF1A</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">// \u5206\u6790\u6253\u5305\u65F6\u95F4</span></span>
<span class="line"><span style="color:#A6ACCD;">// webpack.config.js</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">const SpeedMeasurePlugin = require(&quot;speed-measure-webpack-plugin&quot;);</span></span>
<span class="line"><span style="color:#A6ACCD;">const smp = new SpeedMeasurePlugin();</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">// ...</span></span>
<span class="line"><span style="color:#A6ACCD;">module.exports = smp.wrap(prodWebpackConfig)</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>\u7136\u540E\u6211\u4EEC\u5C31\u53EF\u4EE5\u5728\u63A7\u5236\u53F0\u770B\u5230\u5404\u4E2A\u9636\u6BB5\u7684\u6784\u5EFA\u65F6\u95F4\uFF0C\u5728\u6709\u4E86\u5404\u4E2A\u9636\u6BB5\u7684\u6784\u5EFA\u4E4B\u540E\u6211\u4EEC\u5C31\u53EF\u4EE5\u5BF9\u75C7\u4E0B\u836F\u4E86\u3002 <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4611da26cd904fc29c8ac3c04093018b~tplv-k3u1fbpfcp-zoom-1.image" alt=""></p><p>\u63A5\u4E0B\u6765\uFF0C\u6211\u4EEC\u5C31\u4ECE\u4EE5\u4E0B\u51E0\u4E2A\u65B9\u9762\u7740\u624B\u8FDB\u884C\u5206\u6790\uFF1A</p><ul><li>\u51CF\u5C11\u6267\u884C\u7F16\u8BD1\u7684\u6A21\u5757\u6570\u91CF</li><li>\u63D0\u5347\u5355\u4E2A\u6A21\u5757\u6784\u5EFA\u7684\u901F\u5EA6</li><li>\u5E76\u884C\u6784\u5EFA\u4EE5\u63D0\u5347\u603B\u4F53\u6548\u7387</li><li>\u5E76\u884C\u538B\u7F29\u63D0\u9AD8\u6784\u5EFA\u6548\u7387</li><li>\u5408\u7406\u4F7F\u7528\u7F13\u5B58</li></ul><p>\u4E0B\u9762\u6211\u4EEC\u5206\u522B\u6765\u770B\u4E00\u4E0B\uFF1A</p><h2 id="\u51CF\u5C11\u6267\u884C\u6784\u5EFA\u7684\u6A21\u5757" tabindex="-1">\u51CF\u5C11\u6267\u884C\u6784\u5EFA\u7684\u6A21\u5757 <a class="header-anchor" href="#\u51CF\u5C11\u6267\u884C\u6784\u5EFA\u7684\u6A21\u5757" aria-hidden="true">#</a></h2><p>\u63D0\u5347\u7F16\u8BD1\u6A21\u5757\u9636\u6BB5\u6548\u7387\u7684\u7B2C\u4E00\u4E2A\u65B9\u5411\u5C31\u662F\u51CF\u5C11\u6267\u884C\u7F16\u8BD1\u7684\u6A21\u5757\u3002\u538B\u6839\u4E0D\u53BB\u6784\u5EFA\u90A3\u4E9B\u4E0D\u9700\u8981\u6784\u5EFA\u7684\u6A21\u5757\u53EF\u4EE5\u4ECE\u6839\u672C\u4E0A\u63D0\u5347\u6211\u4EEC\u7684\u6784\u5EFA\u901F\u5EA6\u3002</p><h3 id="\u7F29\u5C0F\u6587\u4EF6\u7684\u641C\u7D22\u8303" tabindex="-1">\u7F29\u5C0F\u6587\u4EF6\u7684\u641C\u7D22\u8303 <a class="header-anchor" href="#\u7F29\u5C0F\u6587\u4EF6\u7684\u641C\u7D22\u8303" aria-hidden="true">#</a></h3><p>\u6211\u4EEC\u90FD\u77E5\u9053\uFF0C<code>webpack</code> \u7684\u6784\u5EFA\u8FC7\u7A0B\u662F\u4ECE <code>entry</code> \u51FA\u53D1\uFF0C\u7136\u540E\u4F9D\u6B21\u9012\u5F52\u89E3\u6790\u51FA\u6587\u4EF6\u7684\u5BFC\u5165\u8BED\u53E5\u3002\u5728\u9047\u5230\u5BFC\u5165\u8BED\u53E5\u7684\u65F6\u5019\uFF0C\u8981\u5224\u65AD\u662F\u5426\u9700\u8981\u4F7F\u7528\u8BBE\u7F6E\u7684 <code>loader</code> \u53BB\u5904\u7406\u6587\u4EF6\u3002\u56E0\u4E3A\u8FD9\u91CC\u6D89\u53CA\u5230\u4E86\u9012\u5F52\u64CD\u4F5C\uFF0C\u6240\u4EE5\u5728\u6587\u4EF6\u8F83\u5C11\u7684\u65F6\u5019\u6027\u80FD\u95EE\u9898\u53EF\u80FD\u4E0D\u660E\u663E\uFF0C\u5728\u6211\u4EEC\u7684\u9879\u76EE\u9010\u6B65\u58EE\u5927\u6709\u5F88\u591A\u6587\u4EF6\u4E4B\u540E\uFF0C\u4F9D\u8D56\u5173\u7CFB\u5C31\u4F1A\u53D8\u5F97\u590D\u6742\uFF0C\u8FD9\u4E2A\u65F6\u5019\u9012\u5F52\u7684\u901F\u5EA6\u7684\u95EE\u9898\u5C31\u4F1A\u6162\u6162\u66B4\u9732\u51FA\u6765\u4E86\u3002\u6240\u4EE5\u6211\u4EEC\u5148\u8981\u7F29\u5C0F\u6587\u4EF6\u7684\u641C\u7D22\u8303\u56F4\u3002</p><h4 id="\u4F18\u5316-resolve-\u914D\u7F6E" tabindex="-1">\u4F18\u5316 Resolve \u914D\u7F6E <a class="header-anchor" href="#\u4F18\u5316-resolve-\u914D\u7F6E" aria-hidden="true">#</a></h4><p>webpack \u7684 resolve \u914D\u7F6E\u4E86\u6A21\u5757\u4F1A\u6309\u7167\u4EC0\u4E48\u89C4\u5219\u5982\u4F55\u88AB\u89E3\u6790\uFF0Cwebpack \u63D0\u4F9B\u5408\u7406\u7684\u9ED8\u8BA4\u503C\uFF0C\u4F46\u662F\u8FD8\u662F\u53EF\u80FD\u4F1A\u4FEE\u6539\u4E00\u4E9B\u89E3\u6790\u7684\u7EC6\u8282\u3002\u6211\u4EEC\u6765\u770B\u4E0B\u5982\u4F55\u4FEE\u6539 resolve \u914D\u7F6E\u52A0\u5FEB\u6784\u5EFA\u901F\u5EA6\u3002</p><h5 id="resolve-modules" tabindex="-1">resolve.modules <a class="header-anchor" href="#resolve-modules" aria-hidden="true">#</a></h5><p>webpack \u7684 <code>resolve.modules</code> \u914D\u7F6E\u7528\u4E8E\u6307\u5B9A <code>webpack</code> \u53BB\u54EA\u4E9B\u76EE\u5F55\u4E0B\u5BFB\u627E\u7B2C\u4E09\u65B9\u6A21\u5757\u3002\u5176\u9ED8\u8BA4\u503C\u662F <code>[&#39;node_modules&#39;]</code>\uFF0C<code>webpack</code> \u5728\u5BFB\u627E\u7684\u65F6\u5019\uFF0C\u4F1A\u5148\u53BB\u5F53\u524D\u76EE\u5F55\u7684 <code>./node_modules</code> \u4E0B\u53BB\u67E5\u627E\uFF0C\u6CA1\u6709\u627E\u5230\u5C31\u4F1A\u518D\u53BB\u4E0A\u4E00\u7EA7\u76EE\u5F55 <code>../node_modules</code> \u4E2D\u53BB\u627E\uFF0C\u76F4\u5230\u627E\u5230\u4E3A\u6B62\u3002</p><p>\u6240\u4EE5\u5982\u679C\u6211\u4EEC\u9879\u76EE\u7684\u7B2C\u4E09\u65B9\u4F9D\u8D56\u6A21\u5757\u653E\u7F6E\u7684\u4F4D\u7F6E\u6CA1\u6709\u53D8\u66F4\u7684\u8BDD\uFF0C\u53EF\u4EE5\u4F7F\u7528\u7EDD\u5BF9\u8DEF\u5F84\u51CF\u5C11\u67E5\u627E\u7684\u65F6\u95F4\uFF0C\u914D\u7F6E\u5982\u4E0B\uFF1A</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">module.export = {</span></span>
<span class="line"><span style="color:#A6ACCD;">  resolve: {</span></span>
<span class="line"><span style="color:#A6ACCD;">    // \u4F7F\u7528\u7EDD\u5BF9\u8DEF\u5F84\u6307\u660E\u7B2C\u4E09\u65B9\u6A21\u5757\u5B58\u653E\u7684\u4F4D\u7F6E\uFF0C\u4EE5\u51CF\u5C11\u641C\u7D22\u6B65\u9AA4</span></span>
<span class="line"><span style="color:#A6ACCD;">    // __diename \u8868\u793A\u5F53\u524D\u5DE5\u4F5C\u76EE\u5F55\uFF0C\u4E5F\u5C31\u662F\u9879\u76EE\u6839\u76EE\u5F55</span></span>
<span class="line"><span style="color:#A6ACCD;">    modules: [path.resolve(__dirname, &#39;node_modules&#39;)]</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h5 id="resolve-extensions" tabindex="-1">resolve.extensions <a class="header-anchor" href="#resolve-extensions" aria-hidden="true">#</a></h5><p><code>extensions</code> \u662F\u6211\u4EEC\u5E38\u7528\u7684\u4E00\u4E2A\u914D\u7F6E\uFF0C\u9002\u7528\u4E8E\u6307\u5B9A\u5728\u5BFC\u5165\u8BED\u53E5\u6CA1\u6709\u5E26\u6587\u4EF6\u540E\u7F00\u65F6\uFF0C\u53EF\u4EE5\u6309\u7167\u914D\u7F6E\u7684\u5217\u8868\uFF0C\u81EA\u52A8\u8865\u4E0A\u540E\u7F00\u3002\u6211\u4EEC\u5E94\u8BE5\u6839\u636E\u6211\u4EEC\u9879\u76EE\u4E2D\u6587\u4EF6\u7684\u5B9E\u9645\u4F7F\u7528\u60C5\u51B5\u8BBE\u7F6E\u540E\u7F00\u5217\u8868\uFF0C\u5C06\u4F7F\u7528\u9891\u7387\u9AD8\u7684\u653E\u5728\u524D\u9762\u3001\u540C\u65F6\u540E\u7F00\u5217\u8868\u4E5F\u8981\u5C3D\u53EF\u80FD\u7684\u5C11\uFF0C\u51CF\u5C11\u6CA1\u6709\u5FC5\u8981\u7684\u5339\u914D\u3002\u540C\u65F6\uFF0C\u6211\u4EEC\u5728\u6E90\u7801\u4E2D\u5199\u5E26\u5165\u8BED\u53E5\u7684\u65F6\u5019\uFF0C\u5C3D\u91CF\u5E26\u4E0A\u540E\u7F00\uFF0C\u907F\u514D\u67E5\u627E\u8FC7\u7A0B\u3002</p><p>\u540C\u65F6\uFF0C\u6211\u4EEC\u5728\u6E90\u7801\u4E2D\u5199\u5E26\u5165\u8BED\u53E5\u7684\u65F6\u5019\uFF0C\u5C3D\u91CF\u5E26\u4E0A\u540E\u7F00\uFF0C\u907F\u514D\u67E5\u627E\u8FC7\u7A0B\u3002</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">module.export = {</span></span>
<span class="line"><span style="color:#A6ACCD;">  resolve: {</span></span>
<span class="line"><span style="color:#A6ACCD;">    // \u4F7F\u7528\u7EDD\u5BF9\u8DEF\u5F84\u6307\u660E\u7B2C\u4E09\u65B9\u6A21\u5757\u5B58\u653E\u7684\u4F4D\u7F6E\uFF0C\u4EE5\u51CF\u5C11\u641C\u7D22\u6B65\u9AA4</span></span>
<span class="line"><span style="color:#A6ACCD;">    // __diename \u8868\u793A\u5F53\u524D\u5DE5\u4F5C\u76EE\u5F55\uFF0C\u4E5F\u5C31\u662F\u9879\u76EE\u6839\u76EE\u5F55</span></span>
<span class="line"><span style="color:#A6ACCD;">    modules: [path.resolve(__dirname, &#39;node_modules&#39;)]</span></span>
<span class="line"><span style="color:#A6ACCD;">    extensions: [&#39;.sass&#39;, &#39;.js&#39;, &#39;.jsx&#39;, &#39;.ts&#39;, &#39;.tsx&#39;],</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h5 id="mainfieds" tabindex="-1">mainFieds <a class="header-anchor" href="#mainfieds" aria-hidden="true">#</a></h5><p><code>mainFieds</code> \u5B57\u6BB5\u7528\u4E8E\u914D\u7F6E\u7B2C\u4E09\u65B9\u6A21\u5757\u4F7F\u7528\u54EA\u4E2A\u5165\u53E3\u6587\u4EF6\uFF0C\u4E3A\u4E86\u51CF\u5C11\u641C\u7D22\u7684\u6B65\u9AA4\uFF0C<strong>\u5728\u660E\u786E\u7B2C\u4E09\u65B9\u6A21\u5757\u7684\u5165\u53E3\u6587\u4EF6\u63CF\u8FF0\u5B57\u6BB5\u65F6\uFF0C\u53EF\u4EE5\u76F4\u63A5\u8BBE\u7F6E\u4E3A\u5177\u4F53\u503C\u3002</strong></p><p>\u56E0\u4E3A\u6211\u4EEC\u5B89\u88C5\u7684\u7B2C\u4E09\u65B9\u4F9D\u8D56\u53EF\u80FD\u4F1A\u5728\u591A\u4E2A\u8FD0\u884C\u73AF\u5883\u4E2D\u4F7F\u7528\uFF0C\u6BD4\u5982\u53EF\u4EE5\u540C\u65F6\u5728 <code>nodeJS</code> \u73AF\u5883\u548C\u6D4F\u89C8\u5668\u73AF\u5883\u4E2D\u4F7F\u7528\u3002\u90A3\u4E48\u8FD9\u4E9B\u4F9D\u8D56\u4F1A\u5728 <code>package.json</code> \u6587\u4EF6\u4E2D\u6307\u660E\u4E0D\u540C\u73AF\u5883\u7684\u5165\u53E3\u6587\u4EF6\u5B57\u6BB5\u4E3A\u54EA\u4E00\u4E2A\u3002</p><p><code>resolve.mainFieds</code> \u7684\u9ED8\u8BA4\u503C\u548C\u5F53\u524D\u9879\u76EE\u8BBE\u7F6E\u7684 <code>target</code> \u6709\u5173\u7CFB\uFF0C\u5982\u679C\u5F53\u524D <code>target</code> \u8BBE\u7F6E\u7684\u662F <code>web</code> \u7684\u65F6\u5019\uFF0C<code>webpack</code> \u4F1A\u4F9D\u6B21\u4F7F\u7528 <code>[&#39;browser&#39;, &#39;module&#39;, &#39;main&#39;]</code> \u5BFB\u627E\u6A21\u5757\u7684\u5165\u53E3\u6587\u4EF6\u3002\u5982\u679C\u8BBE\u7F6E\u7684 <code>target</code> \u4E0D\u662F <code>web</code>\uFF0C\u90A3\u4E48\u4F1A\u6309\u7167 <code>[&#39;module&#39;, &#39;main&#39;]</code> \u6765\u5BFB\u627E\u3002</p><p>\u7531\u4E8E\u5927\u90E8\u5206\u7B2C\u4E09\u65B9\u6A21\u5757\u90FD\u4F1A <code>main</code> \u5B57\u6BB5\u53BB\u63CF\u8FF0\u5165\u53E3\u6587\u4EF6\uFF0C\u6240\u4EE5\uFF0C\u53EF\u4EE5\u76F4\u63A5\u4F7F\u7528 <code>[&#39;main&#39;]</code> \u4F5C\u4E3A\u5165\u53E3\u6587\u4EF6\u7684\u63CF\u8FF0\u5B57\u6BB5\uFF0C\u4EE5\u51CF\u5C11\u641C\u7D22\u6B65\u9AA4\uFF08\u4F46\u662F\u9700\u8981\u4E00\u4E00\u6392\u67E5\u6BCF\u4E00\u4E2A\u5B89\u88C5\u7684\u4E09\u65B9\u4F9D\u8D56\uFF0C\u907F\u514D\u5BFC\u81F4\u5176\u65E0\u6CD5\u6B63\u5E38\u4F7F\u7528\uFF09\u3002</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">module.export = {</span></span>
<span class="line"><span style="color:#A6ACCD;">  resolve: {</span></span>
<span class="line"><span style="color:#A6ACCD;">    // \u4F7F\u7528\u7EDD\u5BF9\u8DEF\u5F84\u6307\u660E\u7B2C\u4E09\u65B9\u6A21\u5757\u5B58\u653E\u7684\u4F4D\u7F6E\uFF0C\u4EE5\u51CF\u5C11\u641C\u7D22\u6B65\u9AA4</span></span>
<span class="line"><span style="color:#A6ACCD;">    // __diename \u8868\u793A\u5F53\u524D\u5DE5\u4F5C\u76EE\u5F55\uFF0C\u4E5F\u5C31\u662F\u9879\u76EE\u6839\u76EE\u5F55</span></span>
<span class="line"><span style="color:#A6ACCD;">    modules: [path.resolve(__dirname, &#39;node_modules&#39;)]</span></span>
<span class="line"><span style="color:#A6ACCD;">    extensions: [&#39;.sass&#39;, &#39;.js&#39;, &#39;.jsx&#39;, &#39;.ts&#39;, &#39;.tsx&#39;],</span></span>
<span class="line"><span style="color:#A6ACCD;">    mainFieds: [&#39;main&#39;],</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h5 id="noparse" tabindex="-1">noParse <a class="header-anchor" href="#noparse" aria-hidden="true">#</a></h5><p><code>noParse</code> \u914D\u7F6E\u7684\u610F\u601D\u662F\u8BA9 <code>webpack</code> \u5FFD\u7565\u6CA1\u6709\u6A21\u5757\u5316\u7684\u6587\u4EF6\uFF0C\u6BD4\u5982 <code>JQuery</code>\u3002\u8FD9\u6837\u5C31\u4E0D\u9700\u8981\u5BF9\u6587\u4EF6\u9012\u5F52\u89E3\u6790\u5904\u7406\uFF0C\u63D0\u9AD8\u6784\u5EFA\u901F\u5EA6\u3002\u9700\u8981\u6CE8\u610F\u7684\u662F\uFF0C\u88AB\u5FFD\u7565\u6389\u7684\u6587\u4EF6\u4E2D\u5982\u679C\u5305\u542B <code>import\u3001require\u3001define</code> \u7B49\u6A21\u5757\u5316\u8BED\u53E5\u65F6\uFF0C\u5728\u6784\u5EFA\u4EA7\u7269\u4E2D\u4F1A\u5305\u542B\u6D4F\u89C8\u5668\u65E0\u6CD5\u89E3\u6790\u7684\u6A21\u5757\u5316\u8BED\u53E5\u3002</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">module.export = {</span></span>
<span class="line"><span style="color:#A6ACCD;">  resolve: {</span></span>
<span class="line"><span style="color:#A6ACCD;">    // \u4F7F\u7528\u7EDD\u5BF9\u8DEF\u5F84\u6307\u660E\u7B2C\u4E09\u65B9\u6A21\u5757\u5B58\u653E\u7684\u4F4D\u7F6E\uFF0C\u4EE5\u51CF\u5C11\u641C\u7D22\u6B65\u9AA4</span></span>
<span class="line"><span style="color:#A6ACCD;">    // __diename \u8868\u793A\u5F53\u524D\u5DE5\u4F5C\u76EE\u5F55\uFF0C\u4E5F\u5C31\u662F\u9879\u76EE\u6839\u76EE\u5F55</span></span>
<span class="line"><span style="color:#A6ACCD;">    modules: [path.resolve(__dirname, &#39;node_modules&#39;)]</span></span>
<span class="line"><span style="color:#A6ACCD;">    extensions: [&#39;.sass&#39;, &#39;.js&#39;, &#39;.jsx&#39;, &#39;.ts&#39;, &#39;.tsx&#39;],</span></span>
<span class="line"><span style="color:#A6ACCD;">    mainFieds: [&#39;main&#39;],</span></span>
<span class="line"><span style="color:#A6ACCD;">    noParse: [&#39;JQuery&#39;],</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h4 id="ignoreplugin" tabindex="-1">IgnorePlugin <a class="header-anchor" href="#ignoreplugin" aria-hidden="true">#</a></h4><p>\u6709\u7684\u4F9D\u8D56\u5305\uFF0C\u9664\u4E86\u9879\u76EE\u6240\u9700\u8981\u7684\u6A21\u5757\u5916\uFF0C\u8FD8\u4F1A\u9644\u5E26\u4E00\u4E9B\u591A\u4F59\u7684\u6A21\u5757\u3002\u5178\u578B\u7684\u4F8B\u5B50\u5C31\u662F <a href="https://momentjs.com/" target="_blank" rel="noreferrer">moment</a> \u8FD9\u4E2A\u5305\uFF0C\u4E00\u822C\u60C5\u51B5\u4E0B\u8F7D\u6784\u5EFA\u65F6\u4F1A\u81EA\u52A8\u5F15\u5165\u5176 <code>local</code> \u76EE\u5F55\u4E0B\u7684\u591A\u56FD\u8BED\u8A00\u5305\u3002</p><p>\u4F46\u662F\u5BF9\u4E8E\u5927\u591A\u6570\u60C5\u51B5\u800C\u8A00\uFF0C\u9879\u76EE\u4E2D\u53EA\u9700\u8981\u5F15\u5165\u672C\u56FD\u8BED\u8A00\u5305\u5373\u53EF\uFF0C\u800C webpack \u63D0\u4F9B <code>IgnorePlugin</code> \u5373\u53EF\u5728\u6784\u5EFA\u6A21\u5757\u65F6\u76F4\u63A5\u5220\u9664\u90A3\u4E9B\u9700\u8981\u88AB\u6392\u9664\u7684\u6A21\u5757\uFF0C\u4ECE\u800C\u63D0\u5347\u6A21\u5757\u7684\u6784\u5EFA\u901F\u5EA6\uFF0C\u5E76\u51CF\u5C11\u4EA7\u7269\u4F53\u79EF</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">new webpack.IgnorePlugin(/^./locale$/, /moment$/)</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h3 id="dllplugin" tabindex="-1">DllPlugin <a class="header-anchor" href="#dllplugin" aria-hidden="true">#</a></h3><blockquote><p>Dynamic-link library (DLL) is Microsoft&#39;s implementation of the shared library concept in the Microsoft Windows and OS/2 operating systems. These libraries usually have the file extension DLL, OCX (for libraries containing ActiveX controls), or DRV (for legacy system drivers). The file formats for DLLs are the same as for Windows EXE files \u2013 that is, Portable Executable (PE) for 32-bit and 64-bit Windows, and New Executable (NE) for 16-bit Windows. As with EXEs, DLLs can contain code, data, and resources, in any combination.</p></blockquote><p><code>Dll(Dynamic-link library)</code> \u7FFB\u8BD1\u8FC7\u6765\u7684\u610F\u601D\u662F\u52A8\u6001\u94FE\u63A5\u5E93\uFF0C\u662F <code>Microsoft</code>\u64CD\u4F5C\u7CFB\u7EDF\u4E2D\u5BF9\u5171\u4EAB\u5E93\u6982\u5FF5\u7684\u5B9E\u73B0\u3002\u56E0\u4E3A\u8FD9\u4E9B\u5E93\u901A\u5E38\u6587\u4EF6\u6269\u5C55\u540D\u4E3A <code>.dll</code>\uFF0C\u6240\u4EE5\u6211\u4EEC\u6211\u4EEC\u4E00\u822C\u90FD\u5C06\u5176\u6210\u4E3A DLL \u6280\u672F\u3002\u8FD9\u4E9B <code>.dll</code>\u6587\u4EF6\u4E2D\u662F\u88AB\u5176\u4ED6\u6A21\u5757\u8C03\u7528\u7684\u51FD\u6570\u548C\u6570\u636E\u3002webpack \u7684 <code>DllPlugin</code> \u548C <code>DllReferencePlugin</code> \u662F\u91C7\u7528 Dll \u7684\u601D\u60F3\u53BB\u62C6\u5206 <code>bundle</code>\u3002</p><p>\u90A3\u4E48 Dll \u662F\u600E\u4E48\u63D0\u5347\u6784\u5EFA\u901F\u5EA6\u7684\u5462\uFF1F\u4E00\u822C\u6765\u8BF4\uFF0C\u6211\u4EEC\u7684\u4EE3\u7801\u53EF\u4EE5\u5206\u4E3A\u4E1A\u52A1\u4EE3\u7801\u548C\u7B2C\u4E09\u65B9\u4F9D\u8D56\u4EE3\u7801\uFF0C\u5982\u679C\u4E0D\u505A Dll \u5904\u7406\u7684\u8BDD\uFF0C\u90A3\u4E48\u6BCF\u6B21\u5728\u6784\u5EFA\u7684\u65F6\u5019\u90FD\u9700\u8981\u5C06\u6240\u6709\u7684\u4EE3\u7801\u6784\u5EFA\u4E00\u6B21\u3002\u4F46\u662F\uFF0C\u5927\u90E8\u5206\u60C5\u51B5\u4E0B\uFF0C\u6211\u4EEC\u90FD\u53EA\u662F\u66F4\u65B0\u4E86\u4E1A\u52A1\u4EE3\u7801\uFF0C\u5F88\u5C11\u53BB\u66F4\u6539\u7B2C\u4E09\u65B9\u4F9D\u8D56\uFF08\u5F53\u7136\uFF0C\u6709\u65F6\u4F1A\u505A\u4E00\u4E9B\u5347\u7EA7\u64CD\u4F5C\uFF09\u3002\u90A3\u4E48\u6211\u4EEC\u53EF\u4EE5\u501F\u9274 Dll \u7684\u601D\u60F3\uFF0C<strong>\u5C06\u4E0D\u7ECF\u5E38\u6539\u52A8\u7684\u3001\u590D\u7528\u6027\u8F83\u9AD8\u7684\u7B2C\u4E09\u65B9\u6A21\u5757\u6253\u5305\u5230\u5355\u72EC\u7684\u52A8\u6001\u94FE\u63A5\u5E93\u4E2D</strong>\uFF08\u6BD4\u5982 <code>react</code>\u3001<code>react-dom</code>\uFF09\uFF0C\u5728\u8FD9\u4E9B\u4E09\u65B9\u6A21\u5757\u4E0D\u9700\u8981\u5347\u7EA7\u7684\u65F6\u5019\uFF0C\u52A8\u6001\u94FE\u63A5\u5E93\u5C31\u4E0D\u9700\u8981\u91CD\u65B0\u6253\u5305\uFF0C\u6BCF\u6B21\u53EA\u9700\u8981\u6784\u5EFA\u4E1A\u52A1\u4EE3\u7801\u5373\u53EF\uFF0C\u8FD9\u6837\u5C31\u53EF\u4EE5\u63D0\u5347\u6784\u5EFA\u901F\u5EA6\u3002</p><p>\u5177\u4F53\u7684\u4F7F\u7528\u59FF\u52BF\u548C\u6CE8\u610F\u4E8B\u9879\u53EF\u4EE5\u53C2\u8003 <a href="https://webpack.docschina.org/plugins/dll-plugin/" target="_blank" rel="noreferrer">webpack \u5B98\u7F51</a>\uFF0C\u5728\u8FD9\u91CC\u4E5F\u4E0D\u518D\u8D58\u8FF0\u4E86\u3002</p><h3 id="externals" tabindex="-1">Externals <a class="header-anchor" href="#externals" aria-hidden="true">#</a></h3><p><code>externals</code> \u4F1A\u544A\u8BC9 Webpack \u65E0\u9700\u6253\u5305\u54EA\u4E9B\u5E93\u6587\u4EF6\u3002\u6BD4\u5982\uFF0C\u6211\u4EEC\u4ECE <code>CDN</code> \u5F15\u5165 <a href="https://jquery.com/" target="_blank" rel="noreferrer">jQuery</a> \u7684\u65F6\u5019\uFF0C\u5C31\u4E0D\u9700\u8981\u5C06\u5176\u518D\u6253\u5305\u5230 bundle \u4E2D\uFF1A</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">&lt;script</span></span>
<span class="line"><span style="color:#A6ACCD;">  src=&quot;https://code.jquery.com/jquery-3.1.0.js&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  integrity=&quot;sha256-slogkvB1K3VOkzAI8QITxV3VzpOnkeNVsKvtkYLMjfk=&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  crossorigin=&quot;anonymous&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&lt;/script&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>\u6211\u4EEC\u5C31\u53EF\u4EE5\u8FD9\u6837\u5C06 jQuery \u914D\u7F6E\u5728 <code>externals</code> \u4E2D\uFF0C\u544A\u8BC9 <code>webpack</code> \u5C06 <code>JQuery</code> \u6A21\u5757\u4ECE\u6784\u5EFA\u8FC7\u7A0B\u4E2D\u79FB\u9664\uFF0C\u6211\u4EEC\u53EF\u4EE5\u8FD9\u6837\u914D\u7F6E\u3002</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">module.exports = {</span></span>
<span class="line"><span style="color:#A6ACCD;">  //...</span></span>
<span class="line"><span style="color:#A6ACCD;">  externals: {</span></span>
<span class="line"><span style="color:#A6ACCD;">    jquery: &#39;jQuery&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">  },</span></span>
<span class="line"><span style="color:#A6ACCD;">};</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h2 id="\u63D0\u5347\u5355\u4E2A\u6A21\u5757\u6784\u5EFA\u7684\u901F\u5EA6" tabindex="-1">\u63D0\u5347\u5355\u4E2A\u6A21\u5757\u6784\u5EFA\u7684\u901F\u5EA6 <a class="header-anchor" href="#\u63D0\u5347\u5355\u4E2A\u6A21\u5757\u6784\u5EFA\u7684\u901F\u5EA6" aria-hidden="true">#</a></h2><p>\u63D0\u5347 webpack \u7684\u6784\u5EFA\u901F\u5EA6\u9664\u4E86\u51CF\u5C11\u9700\u8981\u6784\u5EFA\u7684\u6A21\u5757\u4E4B\u5916\uFF0C\u6211\u4EEC\u8FD8\u53EF\u4EE5\u901A\u8FC7\u63D0\u5347\u5355\u4E2A\u6A21\u5757\u7684\u6784\u5EFA\u901F\u5EA6\u6765\u63D0\u5347\u6574\u4F53\u6784\u5EFA\u901F\u5EA6\u3002\u8FD9\u4E2A\u65B9\u5411\u7684\u4F18\u5316\u4E3B\u8981\u6709\u4EE5\u4E0B\u51E0\u79CD\uFF1A</p><h3 id="\u4F18\u5316-loader-\u914D\u7F6E" tabindex="-1">\u4F18\u5316 loader \u914D\u7F6E <a class="header-anchor" href="#\u4F18\u5316-loader-\u914D\u7F6E" aria-hidden="true">#</a></h3><p><code>loader</code> \u5BF9\u6587\u4EF6\u7684\u8F6C\u6362\u662F\u4E2A\u8017\u65F6\u7684\u64CD\u4F5C\uFF0C\u5E76\u4E14 <code>loader</code> \u7684\u914D\u7F6E\u4F1A\u6279\u91CF\u547D\u4E2D\u591A\u4E2A\u6587\u4EF6\uFF0C\u6240\u4EE5\u6211\u4EEC\u9700\u8981\u6839\u636E\u81EA\u5DF1\u7684\u9879\u76EE\u5C3D\u53EF\u80FD\u7684\u7CBE\u51C6\u547D\u4E2D\u54EA\u4E9B\u6587\u4EF6\u662F\u9700\u8981\u88AB loader \u5904\u7406\u7684\u3002</p><p>webpack \u63D0\u4F9B\u4E86 <code>test\u3001include\u3001exclude</code> \u4E09\u4E2A\u914D\u7F6E\u9879\u6765\u547D\u4E2D loader \u3002</p><p><code>include</code> \u7684\u610F\u601D\u662F\u53EA\u5BF9\u547D\u4E2D\u7684\u6A21\u5757\u4F7F\u7528\u7279\u5B9A\u7684 <code>loader</code> \u8FDB\u884C\u5904\u7406\uFF0C<code>exclude</code> \u7684\u610F\u601D\u662F\u6307\u5B9A\u6392\u9664\u7684\u6587\u4EF6\uFF0C\u4E0D\u4F7F\u7528\u8BE5 <code>loader</code> \u8FDB\u884C\u5904\u7406\u3002</p><p>\u6BD4\u5982\uFF0C\u6211\u4EEC\u53EA\u60F3\u5BF9\u6839\u76EE\u5F55 src \u4E0B\u7684 js \u6587\u4EF6\u4F7F\u7528 <code>babel-loader</code> \u8FDB\u884C\u5904\u7406\u53EF\u4EE5\u8FD9\u6837\u8BBE\u7F6E\uFF1A</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">//webpack.config.js</span></span>
<span class="line"><span style="color:#A6ACCD;">const path = require(&#39;path&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">module.exports = {</span></span>
<span class="line"><span style="color:#A6ACCD;">  //...</span></span>
<span class="line"><span style="color:#A6ACCD;">  module: {</span></span>
<span class="line"><span style="color:#A6ACCD;">    rules: [</span></span>
<span class="line"><span style="color:#A6ACCD;">      {</span></span>
<span class="line"><span style="color:#A6ACCD;">        test: /.js?$/,</span></span>
<span class="line"><span style="color:#A6ACCD;">        use: [&#39;babel-loader&#39;],</span></span>
<span class="line"><span style="color:#A6ACCD;">        include: [path.resolve(__dirname, &#39;src&#39;)]</span></span>
<span class="line"><span style="color:#A6ACCD;">      }</span></span>
<span class="line"><span style="color:#A6ACCD;">    ]</span></span>
<span class="line"><span style="color:#A6ACCD;">  },</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h3 id="sourcemap" tabindex="-1">SourceMap <a class="header-anchor" href="#sourcemap" aria-hidden="true">#</a></h3><p><code>SourceMap</code> \u662F\u4E00\u4E2A\u5B58\u50A8\u7740\u4F4D\u7F6E\u4FE1\u606F\u7684\u6587\u4EF6\u3002\u5176\u5B58\u50A8\u4E86\u6211\u4EEC\u4EE3\u7801\u5728\u7F16\u8BD1\u3001\u6253\u5305\u7B49\u5DE5\u7A0B\u5316\u8F6C\u5316\u524D\u540E\u5BF9\u5E94\u7684\u4EE3\u7801\u4F4D\u7F6E\u4FE1\u606F\u3002\u5728\u6211\u4EEC\u6392\u67E5\u95EE\u9898\u7684\u65F6\u5019\uFF0C\u9762\u5BF9\u538B\u7F29\u6DF7\u6DC6\u540E\u7684\u4EE3\u7801\u4E00\u5B9A\u662F\u6BEB\u65E0\u5934\u7EEA\u7684\uFF0C\u5C31\u53EF\u4EE5\u901A\u8FC7 <code>SourceMap</code> \u627E\u5230\u5BF9\u5E94\u7684\u539F\u59CB\u4EE3\u7801\u3002<code>SourceMap</code> \u53EF\u4EE5\u63D0\u9AD8\u6211\u4EEC\u6392\u9519\u6548\u7387\u3002</p><p><code>SourceMap</code> \u867D\u7136\u7ED9\u6211\u4EEC\u6392\u9519\u63D0\u4F9B\u4E86\u5F88\u5927\u7684\u65B9\u4FBF\uFF0C\u4F46\u540C\u65F6\u8F93\u51FA <code>SourceMap</code> \u7684\u8D28\u91CF\u548C\u6784\u5EFA\u901F\u5EA6\u662F\u5448\u53CD\u6BD4\u7684\uFF0C\u4E5F\u5C31\u662F\u8F93\u51FA\u7684 <code>SourceMap</code> \u4FE1\u606F\u8D8A\u5B8C\u6574\u90A3\u4E48\u6784\u5EFA\u7684\u901F\u5EA6\u4F1A\u8D8A\u6162\u3002\u4E00\u822C\u6765\u8BF4\uFF0C\u6211\u4EEC\u4F1A\u5728\u5F00\u53D1\u73AF\u5883\u548C\u751F\u4EA7\u73AF\u5883\u4F7F\u7528\u7684 <code>SourceMap</code> \u7B56\u7565\u4E0D\u540C\u3002\u90A3\u4E48\u9009\u62E9\u5408\u9002\u7684 <code>SourceMap</code> \u4E5F\u662F\u5341\u5206\u91CD\u8981\u7684\u3002\u4E00\u822C\u6211\u4EEC\u4F1A\u8FD9\u6837\u8BBE\u7F6E<code>SourceMap</code>\uFF1A</p><ul><li><strong>\u5728\u5F00\u53D1\u73AF\u5883\u4E0B</strong>\uFF1A\u4E0D\u9700\u8981\u505A\u4EE3\u7801\u538B\u7F29\uFF0C\u67E5\u9605\u6E90\u7801\u76F8\u5BF9\u65B9\u4FBF\uFF0C\u6240\u4EE5\u6211\u4EEC\u5E0C\u671B\u80FD\u591F\u4EE5\u6700\u5FEB\u7684\u901F\u5EA6\u751F\u4EA7 <code>SourceMap</code> \u6587\u4EF6\uFF0C\u6240\u4EE5\u4E00\u822C\u5C06\u5176\u8BBE\u7F6E\u4E3A <code>cheap-module-eval-source-map</code>\u3002</li><li><strong>\u5728\u751F\u4EA7\u73AF\u5883\u4E0B</strong>\uFF1A\u548C\u5F00\u53D1\u73AF\u5883\u76F8\u53CD\uFF0C\u5728\u751F\u4EA7\u73AF\u5883\u4E0B\u6211\u4EEC\u53EF\u4EE5\u727A\u7272 <code>SourceMap</code> \u7684\u751F\u6210\u901F\u5EA6\u6765\u6362\u53D6\u8BE6\u7EC6\u7684\u4EE3\u7801\u5BF9\u5E94\u5173\u7CFB\uFF0C\u6211\u4EEC\u9700\u8981\u8BE6\u7EC6\u7684 <code>SourceMap</code> \u4EE5\u65B9\u4FBF\u6211\u4EEC\u6392\u67E5\u95EE\u9898\u3002\u6240\u4EE5\u4E00\u822C\u5C06\u5176\u8BBE\u7F6E\u4E3A <code>hidden-source-map</code>\u3002</li></ul><h2 id="\u5E76\u884C\u6784\u5EFA\u4EE5\u63D0\u5347\u603B\u4F53\u6548\u7387" tabindex="-1">\u5E76\u884C\u6784\u5EFA\u4EE5\u63D0\u5347\u603B\u4F53\u6548\u7387 <a class="header-anchor" href="#\u5E76\u884C\u6784\u5EFA\u4EE5\u63D0\u5347\u603B\u4F53\u6548\u7387" aria-hidden="true">#</a></h2><p>\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0Cwebpack \u662F\u5355\u7EBF\u7A0B\u6A21\u578B\uFF0C\u4E00\u6B21\u53EA\u80FD\u5904\u7406\u4E00\u4E2A\u4EFB\u52A1\uFF0C\u5728\u6587\u4EF6\u8FC7\u591A\u65F6\u4F1A\u5BFC\u81F4\u6784\u5EFA\u901F\u5EA6\u53D8\u6162\u3002\u6240\u4EE5\u5728\u51CF\u5C11\u4E86\u9700\u8981\u6267\u884C\u6784\u5EFA\u7684\u6A21\u5757\u548C\u964D\u4F4E\u4E86\u5355\u4E2A\u6A21\u5757\u7684\u6784\u5EFA\u901F\u5EA6\u4E4B\u5916\uFF0C\u6211\u4EEC\u8FD8\u53EF\u4EE5\u5E76\u884C\u6784\u5EFA\uFF0C\u8BA9 webpack \u540C\u65F6\u5904\u7406\u591A\u4E2A\u4EFB\u52A1\uFF0C\u53D1\u6325\u591A\u6838 CPU \u7684\u4F18\u52BF\u3002</p><h3 id="happypack" tabindex="-1">HappyPack <a class="header-anchor" href="#happypack" aria-hidden="true">#</a></h3><p><code>HappyPack</code> \u662F\u4E00\u4E2A\u8001\u724C\u7684 <code>webpack</code> \u5E76\u884C\u5904\u7406\u4EFB\u52A1\u7684\u63D2\u4EF6\u3002\u5176\u53EF\u4EE5\u5728 <code>loader</code> \u7684\u6267\u884C\u8FC7\u7A0B\u7531\u5355\u8FDB\u7A0B\u6269\u5C55\u4E3A\u591A\u8FDB\u7A0B\u6A21\u5F0F\u3002\u5C06\u4EFB\u52A1\u5206\u89E3\u7ED9\u591A\u4E2A\u5B50\u8FDB\u7A0B\u53BB\u5E76\u53D1\u7684\u6267\u884C\uFF0C\u5B50\u8FDB\u7A0B\u5904\u7406\u5B8C\u540E\u518D\u628A\u7ED3\u679C\u53D1\u9001\u7ED9\u4E3B\u8FDB\u7A0B\u3002\u4ECE\u800C\u52A0\u901F\u4EE3\u7801\u6784\u5EFA\uFF08\u4F46\u662F\u4EC5\u9650\u4E8E\u5BF9 loader \u7684\u5904\u7406\uFF09\u3002</p><p><code>HappyPack</code> \u4F1A\u81EA\u52A8\u8FDB\u884C\u5206\u89E3\u548C\u7BA1\u7406\u4EFB\u52A1\uFF0C\u6211\u4EEC\u5728\u4F7F\u7528\u7684\u65F6\u5019\u53EA\u9700\u8981\u63A5\u5165 <code>HappyPack</code> \u63D2\u4EF6\u5373\u53EF\u3002\u6211\u4EEC\u9700\u8981\u5C06\u901A\u8FC7 <code>Loader</code> \u5904\u7406\u7684\u6587\u4EF6\u5148\u4EA4\u7ED9 <code>happyPack/loader</code> \u53BB\u5904\u7406\u3002\u6BCF\u5B9E\u4F8B\u5316\u4E00\u4E2A <code>HappyPack</code>\uFF0C\u5C31\u662F\u544A\u8BC9 <code>HappyPack</code> \u521B\u5EFA\u4E00\u4E2A\u8FDB\u7A0B\u6C60\u6765\u7BA1\u7406\u751F\u6210\u7684\u5B50\u8FDB\u7A0B\u5BF9\u8C61\u3002\u5176\u4F7F\u7528\u59FF\u52BF\u5982\u4E0B\uFF1A</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">const HappyPack = require(&#39;happypack&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">const happyThreadPool = HappyPack.ThreadPool({size: 3})</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">module.exports = {</span></span>
<span class="line"><span style="color:#A6ACCD;">  module: {</span></span>
<span class="line"><span style="color:#A6ACCD;">    rules: [</span></span>
<span class="line"><span style="color:#A6ACCD;">      {</span></span>
<span class="line"><span style="color:#A6ACCD;">        test: /.js$/,</span></span>
<span class="line"><span style="color:#A6ACCD;">        // \u7528 HappyPack \u7684 loader \u66FF\u6362\u5F53\u524D loaders:</span></span>
<span class="line"><span style="color:#A6ACCD;">        loader: &#39;happypack/loader?id=happyBabel&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">        exclude: /node_modules/</span></span>
<span class="line"><span style="color:#A6ACCD;">      }</span></span>
<span class="line"><span style="color:#A6ACCD;">    ]</span></span>
<span class="line"><span style="color:#A6ACCD;">  },</span></span>
<span class="line"><span style="color:#A6ACCD;">  plugins: [</span></span>
<span class="line"><span style="color:#A6ACCD;">    new HappyPack({</span></span>
<span class="line"><span style="color:#A6ACCD;">      // id \u6807\u8BC6 happypack \u5904\u7406\u90A3\u4E00\u7C7B\u6587\u4EF6</span></span>
<span class="line"><span style="color:#A6ACCD;">      id: &#39;happyBabel&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">      // \u914D\u7F6Eloader</span></span>
<span class="line"><span style="color:#A6ACCD;">      loaders: [{</span></span>
<span class="line"><span style="color:#A6ACCD;">        loader: &#39;babel-loader?cacheDirectory=true&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">      }],</span></span>
<span class="line"><span style="color:#A6ACCD;">      // \u5171\u4EAB\u8FDB\u7A0B\u6C60</span></span>
<span class="line"><span style="color:#A6ACCD;">      threadPool: happyThreadPool,</span></span>
<span class="line"><span style="color:#A6ACCD;">      // \u65E5\u5FD7\u8F93\u51FA</span></span>
<span class="line"><span style="color:#A6ACCD;">      verbose: true</span></span>
<span class="line"><span style="color:#A6ACCD;">    })</span></span>
<span class="line"><span style="color:#A6ACCD;">  ]</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h3 id="thread-loader" tabindex="-1">Thread-loader <a class="header-anchor" href="#thread-loader" aria-hidden="true">#</a></h3><p><code>Thread-loader</code> \u548C <code>HappyPack</code> \u7C7B\u4F3C\uFF0C\u4F1A\u521B\u5EFA\u591A\u4E2A <code>worker</code> \u6C60\u8FDB\u884C\u5E76\u53D1\u6267\u884C\u6784\u5EFA\u4EFB\u52A1\u3002\u8FD9\u4E2A <code>loader</code> \u653E\u7F6E\u5728\u5176\u4ED6 <code>loader</code>\u4E4B\u524D\uFF0C \u653E\u7F6E\u5728\u8FD9\u4E2A <code>Thread-loader</code> \u4E4B\u540E\u7684 loader \u5C31\u4F1A\u5728\u4E00\u4E2A\u5355\u72EC\u7684 worker \u6C60(worker pool) \u4E2D\u8FD0\u884C\u3002</p><p>\u5728 <a href="https://www.webpackjs.com/loaders/thread-loader/" target="_blank" rel="noreferrer">webpack \u5B98\u7F51</a> \u4E2D\u4E5F\u6709\u63D0\u793A\uFF0C\u6BCF\u4E2A worker \u90FD\u662F\u4E00\u4E2A\u5355\u72EC\u7684\u6709 600ms \u9650\u5236\u7684 <code>node.js</code> \u8FDB\u7A0B\u3002\u540C\u65F6\u8DE8\u8FDB\u7A0B\u7684\u6570\u636E\u4EA4\u6362\u4E5F\u4F1A\u88AB\u9650\u5236\u3002\u6240\u4EE5\u5EFA\u8BAE\u4EC5\u5728\u8017\u65F6\u7684 loader \u4E0A\u4F7F\u7528\u3002\u5176\u4F7F\u7528\u59FF\u52BF\u5982\u4E0B\uFF1A</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">    module.exports = {</span></span>
<span class="line"><span style="color:#A6ACCD;">      entry: &#39;./src/js/index.js&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">      module: {</span></span>
<span class="line"><span style="color:#A6ACCD;">        rules: [</span></span>
<span class="line"><span style="color:#A6ACCD;">              {</span></span>
<span class="line"><span style="color:#A6ACCD;">                test: /.js$/,</span></span>
<span class="line"><span style="color:#A6ACCD;">                exclude: /node_modules/,</span></span>
<span class="line"><span style="color:#A6ACCD;">                use: [</span></span>
<span class="line"><span style="color:#A6ACCD;">                  // \u5F00\u542F\u591A\u8FDB\u7A0B\u6253\u5305\u3002 </span></span>
<span class="line"><span style="color:#A6ACCD;">                  {</span></span>
<span class="line"><span style="color:#A6ACCD;">                    loader: &#39;thread-loader&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">                    options: {</span></span>
<span class="line"><span style="color:#A6ACCD;">                      workers: 2 // \u8FDB\u7A0B2\u4E2A</span></span>
<span class="line"><span style="color:#A6ACCD;">                    }</span></span>
<span class="line"><span style="color:#A6ACCD;">                  },</span></span>
<span class="line"><span style="color:#A6ACCD;">                  {</span></span>
<span class="line"><span style="color:#A6ACCD;">                    loader: &#39;babel-loader&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">                    options: {</span></span>
<span class="line"><span style="color:#A6ACCD;">                      presets: [&#39;@babel/preset-env&#39;],</span></span>
<span class="line"><span style="color:#A6ACCD;">                      cacheDirectory: true</span></span>
<span class="line"><span style="color:#A6ACCD;">                    }</span></span>
<span class="line"><span style="color:#A6ACCD;">                  }</span></span>
<span class="line"><span style="color:#A6ACCD;">                ]</span></span>
<span class="line"><span style="color:#A6ACCD;">              }</span></span>
<span class="line"><span style="color:#A6ACCD;">        ]</span></span>
<span class="line"><span style="color:#A6ACCD;">      }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h2 id="\u5E76\u884C\u538B\u7F29" tabindex="-1">\u5E76\u884C\u538B\u7F29 <a class="header-anchor" href="#\u5E76\u884C\u538B\u7F29" aria-hidden="true">#</a></h2><h3 id="uglifyjswebpackplugin\u3001terserwebpackplugin-\u5F00\u542F-paralle" tabindex="-1">UglifyjsWebpackPlugin\u3001TerserWebpackPlugin \u5F00\u542F paralle <a class="header-anchor" href="#uglifyjswebpackplugin\u3001terserwebpackplugin-\u5F00\u542F-paralle" aria-hidden="true">#</a></h3><p><code>UglifyjsWebpackPlugin</code> \u63D2\u4EF6\u662F\u4F17\u6240\u5468\u77E5\u7684\u7528\u6765\u538B\u7F29 JS \u4EE3\u7801\u7684\u63D2\u4EF6\uFF0C<code>webpack4</code> \u9ED8\u8BA4\u5185\u7F6E\u4F7F\u7528 <code>terser-webpack-plugin</code> \u63D2\u4EF6\u8FDB\u884C\u538B\u7F29\uFF0C\u529F\u80FD\u7C7B\u4F3C\u3002\u4E24\u8005\u90FD\u53EF\u4EE5\u8BBE\u7F6E <code>parallel</code> \u53C2\u6570\u5F00\u542F\u7F13\u5B58\u5E76\u542F\u7528\u591A\u8FDB\u7A0B\u5E76\u884C\u6765\u63D0\u9AD8\u6784\u5EFA\u901F\u5EA6\u3002\u5728 <a href="https://webpack.docschina.org/plugins/uglifyjs-webpack-plugin/#parallel" target="_blank" rel="noreferrer">webpack \u5B98\u7F51</a> \u4E2D\u4E5F\u5F3A\u70C8\u63A8\u8350\u5F00\u542F <code>paralle</code> \u4F7F\u7528\u5E76\u884C\u5316\u3002</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">// webpack.config.js</span></span>
<span class="line"><span style="color:#A6ACCD;">module.exports = {</span></span>
<span class="line"><span style="color:#A6ACCD;">  optimization: {</span></span>
<span class="line"><span style="color:#A6ACCD;">    minimizer: [</span></span>
<span class="line"><span style="color:#A6ACCD;">      new UglifyJsPlugin({</span></span>
<span class="line"><span style="color:#A6ACCD;">        parallel: true,</span></span>
<span class="line"><span style="color:#A6ACCD;">      }),</span></span>
<span class="line"><span style="color:#A6ACCD;">    ],</span></span>
<span class="line"><span style="color:#A6ACCD;">  },</span></span>
<span class="line"><span style="color:#A6ACCD;">};</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h3 id="paralleluglifyplugin" tabindex="-1">ParallelUglifyPlugin <a class="header-anchor" href="#paralleluglifyplugin" aria-hidden="true">#</a></h3><p><code>ParallelUglifyPlugin</code> \u548C <code>HappyPack</code> \u7C7B\u4F3C\uFF0C\u90FD\u662F\u901A\u8FC7\u5E76\u884C\u5904\u7406\u4EFB\u52A1\u7684\u65B9\u5F0F\u63D0\u5347\u6784\u5EFA\u901F\u5EA6\u3002\u4F46\u662F <code>ParallelUglifyPlugin</code> \u662F\u4F5C\u7528\u5728\u4EE3\u7801\u538B\u7F29\u9636\u6BB5\u3002\u548C\u5904\u7406 Loader \u4E00\u6837\uFF0Cwebpack \u5728\u4F7F\u7528 <code>UglifyJS</code> \u8FDB\u884C\u538B\u7F29\u7684\u65F6\u5019\u4E5F\u662F\u53EA\u80FD\u4E00\u4E2A\u4E00\u4E2A\u8FDB\u884C\u5904\u7406\u3002<code>ParallelUglifyPlugin</code> \u6240\u8981\u505A\u7684\u5C31\u662F\u5F00\u542F\u591A\u4E2A\u5B50\u8FDB\u7A0B\u5E76\u884C\u5904\u7406\u4EFB\u52A1\uFF0C\u5C06\u4EFB\u52A1\u5206\u914D\u7ED9\u591A\u4E2A\u5B50\u8FDB\u7A0B\u5B8C\u6210\uFF0C\u6BCF\u4E2A\u5B50\u8FDB\u7A0B\u5206\u522B\u4F7F\u7528 <code>UglifyJS</code> \u8FDB\u884C\u538B\u7F29\u3002</p><p>\u5176\u4F7F\u7528\u59FF\u52BF\u53EF\u53C2\u8003<a href="https://www.npmjs.com/package/webpack-parallel-uglify-plugin" target="_blank" rel="noreferrer">\u5B98\u7F51</a>\uFF0C\u5728\u6B21\u4E0D\u518D\u8D58\u8FF0\u3002\uFF08PS: \u6B64\u9879\u76EE\u76EE\u524D\u57FA\u672C\u5904\u4E8E\u6CA1\u4EBA\u7EF4\u62A4\u7684\u9636\u6BB5\uFF09\u3002</p><h2 id="\u7F13\u5B58" tabindex="-1">\u7F13\u5B58 <a class="header-anchor" href="#\u7F13\u5B58" aria-hidden="true">#</a></h2><p>\u5728\u4F18\u5316\u7684\u65B9\u6848\u4E2D\uFF0C\u7F13\u5B58\u4E5F\u662F\u5176\u4E2D\u91CD\u8981\u7684\u4E00\u73AF\u3002\u5728\u6784\u5EFA\u8FC7\u7A0B\u4E2D\uFF0C\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7\u4F7F\u7528\u7F13\u5B58\u63D0\u5347\u4E8C\u6B21\u6253\u5305\u901F\u5EA6\u3002\u4E3B\u8981\u6709\u4EE5\u4E0B\u51E0\u79CD\u65B9\u5F0F\uFF1A</p><h3 id="babel-loader-\u5F00\u542F\u7F13\u5B58" tabindex="-1">babel-loader \u5F00\u542F\u7F13\u5B58 <a class="header-anchor" href="#babel-loader-\u5F00\u542F\u7F13\u5B58" aria-hidden="true">#</a></h3><p><code>babel-loader</code> \u5728\u6267\u884C\u7684\u65F6\u5019\uFF0C\u53EF\u80FD\u4F1A\u4EA7\u751F\u4E00\u4E9B\u8FD0\u884C\u671F\u95F4\u91CD\u590D\u7684\u516C\u5171\u6587\u4EF6\uFF0C\u9020\u6210\u4EE3\u7801\u4F53\u79EF\u5927\u5197\u4F59\uFF0C\u540C\u65F6\u4E5F\u4F1A\u5F71\u54CD\u6784\u5EFA\u901F\u5EA6\u3002\u6211\u4EEC\u53EF\u4EE5\u4F7F\u7528 <code>cacheDirectory</code>\u53C2\u6570\u5F00\u542F\u7F13\u5B58\u3002</p><p><code>cacheDirectory</code> \u7684\u9ED8\u8BA4\u503C\u4E3A <code>false</code>\u3002\u5F53\u6709\u8BBE\u7F6E\u65F6\uFF0C\u6307\u5B9A\u7684\u76EE\u5F55\u5C06\u7528\u6765\u7F13\u5B58 <code>loader</code> \u7684\u6267\u884C\u7ED3\u679C\u3002\u4E4B\u540E\u7684 <code>webpack</code> \u6784\u5EFA\uFF0C\u5C06\u4F1A\u5C1D\u8BD5\u8BFB\u53D6\u7F13\u5B58\uFF0C\u6765\u907F\u514D\u5728\u6BCF\u6B21\u6267\u884C\u65F6\uFF0C\u53EF\u80FD\u4EA7\u751F\u7684\u3001\u9AD8\u6027\u80FD\u6D88\u8017\u7684 <code>Babel</code> \u91CD\u65B0\u7F16\u8BD1\u8FC7\u7A0B(recompilation process)\u3002\u5982\u679C\u8BBE\u7F6E\u4E86\u4E00\u4E2A\u7A7A\u503C <code>(loader: &#39;babel-loader?cacheDirectory&#39;)</code> \u6216\u8005 <code>true (loader: &#39;babel-loader?cacheDirectory=true&#39;)</code>\uFF0C<code>loader</code>\u5C06\u4F7F\u7528\u9ED8\u8BA4\u7684\u7F13\u5B58\u76EE\u5F55 <code>node_modules/.cache/babel-loader</code>\uFF0C\u5982\u679C\u5728\u4EFB\u4F55\u6839\u76EE\u5F55\u4E0B\u90FD\u6CA1\u6709\u627E\u5230 <code>node_modules</code> \u76EE\u5F55\uFF0C\u5C06\u4F1A\u964D\u7EA7\u56DE\u9000\u5230\u64CD\u4F5C\u7CFB\u7EDF\u9ED8\u8BA4\u7684\u4E34\u65F6\u6587\u4EF6\u76EE\u5F55\u3002</p><h3 id="cache-loader-\u6216\u8005-hardsourcewebpackplugin" tabindex="-1">cache-loader \u6216\u8005 HardSourceWebpackPlugin <a class="header-anchor" href="#cache-loader-\u6216\u8005-hardsourcewebpackplugin" aria-hidden="true">#</a></h3><p>\u5728 <code>webpack</code> \u4E2D\u6211\u4EEC\u53EF\u4EE5\u5728\u4E00\u4E9B\u6027\u80FD\u5F00\u9500\u8F83\u5927\u7684 <code>loader</code> \u4E4B\u524D\u6DFB\u52A0\u6B64 <code>cache-loader</code>\uFF0C\u53EF\u4EE5\u5C06\u7ED3\u679C\u7F13\u5B58\u5230\u78C1\u76D8\u4E2D\u3002\u4E0D\u8FC7\u4FDD\u5B58\u548C\u8BFB\u53D6\u8FD9\u4E9B\u7F13\u5B58\u6587\u4EF6\u4E5F\u4F1A\u6709\u4E00\u4E9B\u65F6\u95F4\u5F00\u9500\uFF0C\u6240\u4EE5\u5EFA\u8BAE\u53EA\u5BF9\u6027\u80FD\u5F00\u9500\u8F83\u5927\u7684 <code>loader</code> \u91C7\u7528\u6539\u7F13\u5B58\u4F18\u5316\u3002\u5176\u4F7F\u7528\u59FF\u52BF\u5982\u4E0B\uFF1A</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">module.exports = {</span></span>
<span class="line"><span style="color:#A6ACCD;">  module: {</span></span>
<span class="line"><span style="color:#A6ACCD;">    rules: [</span></span>
<span class="line"><span style="color:#A6ACCD;">      {</span></span>
<span class="line"><span style="color:#A6ACCD;">        test: /.ext$/,</span></span>
<span class="line"><span style="color:#A6ACCD;">        use: [</span></span>
<span class="line"><span style="color:#A6ACCD;">          &#39;cache-loader&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">          ...loaders</span></span>
<span class="line"><span style="color:#A6ACCD;">        ],</span></span>
<span class="line"><span style="color:#A6ACCD;">        include: path.resolve(&#39;src&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">      }</span></span>
<span class="line"><span style="color:#A6ACCD;">    ]</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p><code>HardSourceWebpackPlugin</code> \u7684\u4F5C\u7528\u662F\u4E3A\u6A21\u5757\u63D0\u4F9B\u4E2D\u95F4\u7F13\u5B58\uFF0C\u7F13\u5B58\u9ED8\u8BA4\u7684\u5B58\u653E\u5728\u662F <code>node_modules/.cache/hard-source</code> \u4E2D\u3002<code>HardSourceWebpackPlugin</code> \u4E0D\u4F1A\u5BF9\u9996\u6B21\u6784\u5EFA\u65F6\u95F4\u6709\u592A\u5927\u7684\u63D0\u5347\uFF0C\u4F46\u662F\u4ECE\u7B2C\u4E8C\u6B21\u6784\u5EFA\u5F00\u59CB\uFF0C\u6784\u5EFA\u65F6\u95F4\u4F1A\u663E\u8457\u63D0\u9AD8\uFF08\u7EA6 80%\uFF09\u3002</p><p>\u5177\u4F53\u4F7F\u7528\u59FF\u52BF\u53EF\u4EE5\u53C2\u8003\u5176<a href="https://www.npmjs.com/package/hard-source-webpack-plugin" target="_blank" rel="noreferrer">\u5B98\u7F51\u4ECB\u7ECD</a>\u3002</p><h1 id="\u603B\u7ED3" tabindex="-1">\u603B\u7ED3 <a class="header-anchor" href="#\u603B\u7ED3" aria-hidden="true">#</a></h1><p>\u672C\u7BC7\u6587\u7AE0\uFF0C\u6211\u4EEC\u4ECB\u7ECD\u4E86\u5728\u5F00\u53D1\u8FC7\u7A0B\u4E2D\uFF0C\u5982\u4F55\u63D0\u9AD8 webpack \u7684\u5F00\u53D1\u4F53\u9A8C\u3002\u4E3B\u8981\u4ECE\u4F18\u5316\u4F7F\u7528\u4F53\u9A8C\u548C\u4F18\u5316\u6784\u5EFA\u901F\u5EA6\u4E24\u65B9\u9762\u7ED9\u5927\u5BB6\u4ECB\u7ECD\u3002\u5728\u4F18\u5316\u4F7F\u7528\u4F53\u9A8C\u4E2D\uFF0C\u4E3B\u8981\u7ED9\u5927\u5BB6\u4ECB\u7ECD\u4E86\u6A21\u5757\u70ED\u66FF\u6362\u6280\u672F\u3002\u5728\u4F18\u5316\u6784\u5EFA\u901F\u5EA6\u4E2D\uFF0C\u5148\u8BB2\u4E86\u8BE5\u5982\u4F55\u51CF\u5C11\u9700\u8981\u6784\u5EFA\u7684\u6A21\u5757\uFF0C\u7136\u540E\u4ECB\u7ECD\u4E86\u5982\u4F55\u63D0\u5347\u5355\u4E2A\u6A21\u5757\u7684\u6784\u5EFA\u901F\u5EA6\u3001\u600E\u4E48\u4F7F\u7528\u5E76\u884C\u6280\u672F\u6267\u884C\u6784\u5EFA\u4EFB\u52A1\uFF0C\u6700\u540E\u4ECB\u7ECD\u4E86\u5982\u679C\u5728\u6784\u5EFA\u8FC7\u7A0B\u4F7F\u7528\u7F13\u5B58\u4F18\u5316\u3002</p><p>\u4E0B\u4E00\u7BC7\u6587\u7AE0\uFF0C\u6211\u4EEC\u5C06\u4ECB\u7ECD\u5982\u4F55\u4F18\u5316 webpack \u7684\u6784\u5EFA\u4EA7\u7269\u3002</p>`,108),o=[p];function c(r,d,i,t,A,C){return e(),a("div",null,o)}const y=s(l,[["render",c]]);export{h as __pageData,y as default};

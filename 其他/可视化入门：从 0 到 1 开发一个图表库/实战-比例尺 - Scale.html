<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>实战-比例尺 - Scale | Frontend books</title>
    <meta name="description" content="A VitePress site">
    <link rel="stylesheet" href="/assets/style.8197497c.css">
    <link rel="modulepreload" href="/assets/app.c4f45da1.js">
    <link rel="modulepreload" href="/assets/其他_可视化入门：从 0 到 1 开发一个图表库_实战-比例尺 - Scale.md.c11984a5.lean.js">
    
    <meta name="referrer" content="never">
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance"),a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-c6a644e1><!--[--><!--]--><!--[--><span tabindex="-1" data-v-151f2593></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-151f2593> Skip to content </a><!--]--><!----><header class="VPNav" data-v-c6a644e1 data-v-a71a30f1><div class="VPNavBar has-sidebar" data-v-a71a30f1 data-v-6f1d18b5><div class="container" data-v-6f1d18b5><div class="VPNavBarTitle has-sidebar" data-v-6f1d18b5 data-v-d5925166><a class="title" href="/" data-v-d5925166><!--[--><!--]--><!----><!--[-->FEBOOK<!--]--><!--[--><!--]--></a></div><div class="content" data-v-6f1d18b5><!--[--><!--]--><!----><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-6f1d18b5 data-v-f83db6ba><span id="main-nav-aria-label" class="visually-hidden" data-v-f83db6ba>Main Navigation</span><!--[--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-f83db6ba data-v-6ffb57d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-6ffb57d3><span class="text" data-v-6ffb57d3><!----> JavaScript <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-6ffb57d3><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-6ffb57d3><div class="VPMenu" data-v-6ffb57d3 data-v-1c5d0cfc><div class="items" data-v-1c5d0cfc><!--[--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/JavaScript/周爱民-JavaScript核心原理解析/" data-v-e8e0fb1d data-v-3c355974><!--[-->周爱民-JavaScript核心原理解析<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/JavaScript/基于 JavaScript 开发灵活的数据应用/" data-v-e8e0fb1d data-v-3c355974><!--[-->基于 JavaScript 开发灵活的数据应用<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/JavaScript/李兵-图解GoogleV8/" data-v-e8e0fb1d data-v-3c355974><!--[-->李兵-图解GoogleV8<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/JavaScript/李兵-浏览器工作原理与实践/" data-v-e8e0fb1d data-v-3c355974><!--[-->李兵-浏览器工作原理与实践<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/JavaScript/程劭非（winter）-重学前端/" data-v-e8e0fb1d data-v-3c355974><!--[-->程劭非（winter）-重学前端<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-f83db6ba data-v-6ffb57d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-6ffb57d3><span class="text" data-v-6ffb57d3><!----> Node.js <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-6ffb57d3><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-6ffb57d3><div class="VPMenu" data-v-6ffb57d3 data-v-1c5d0cfc><div class="items" data-v-1c5d0cfc><!--[--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/Node.js/NestJS 项目实战/" data-v-e8e0fb1d data-v-3c355974><!--[-->NestJS 项目实战<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/Node.js/Node and React 实战：从 0 到 1 实现记账本/" data-v-e8e0fb1d data-v-3c355974><!--[-->Node and React 实战：从 0 到 1 实现记账本<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/Node.js/基于 Go 语言构建企业级的 RESTful API 服务/" data-v-e8e0fb1d data-v-3c355974><!--[-->基于 Go 语言构建企业级的 RESTful API 服务<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/Node.js/基于 hapi 的 Node.js 小程序后端开发实践指南/" data-v-e8e0fb1d data-v-3c355974><!--[-->基于 hapi 的 Node.js 小程序后端开发实践指南<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/Node.js/基于 Node 的 DevOps 实战/" data-v-e8e0fb1d data-v-3c355974><!--[-->基于 Node 的 DevOps 实战<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/Node.js/蒲松洋（秦粤）-Serverless入门课/" data-v-e8e0fb1d data-v-3c355974><!--[-->蒲松洋（秦粤）-Serverless入门课<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-f83db6ba data-v-6ffb57d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-6ffb57d3><span class="text" data-v-6ffb57d3><!----> React.js <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-6ffb57d3><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-6ffb57d3><div class="VPMenu" data-v-6ffb57d3 data-v-1c5d0cfc><div class="items" data-v-1c5d0cfc><!--[--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/React.js/Electron and React 从 0 到 1 实现简历平台实战/" data-v-e8e0fb1d data-v-3c355974><!--[-->Electron and React 从 0 到 1 实现简历平台实战<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/React.js/React 组合式开发实践：打造企业管理系统五大核心模块/" data-v-e8e0fb1d data-v-3c355974><!--[-->React 组合式开发实践：打造企业管理系统五大核心模块<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-f83db6ba data-v-6ffb57d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-6ffb57d3><span class="text" data-v-6ffb57d3><!----> TypeScript <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-6ffb57d3><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-6ffb57d3><div class="VPMenu" data-v-6ffb57d3 data-v-1c5d0cfc><div class="items" data-v-1c5d0cfc><!--[--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/TypeScript/TypeScript 全面进阶指南/" data-v-e8e0fb1d data-v-3c355974><!--[-->TypeScript 全面进阶指南<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/TypeScript/深入浅出TypeScript：从基础知识到类型编程/" data-v-e8e0fb1d data-v-3c355974><!--[-->深入浅出TypeScript：从基础知识到类型编程<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-f83db6ba data-v-6ffb57d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-6ffb57d3><span class="text" data-v-6ffb57d3><!----> Vue.js <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-6ffb57d3><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-6ffb57d3><div class="VPMenu" data-v-6ffb57d3 data-v-1c5d0cfc><div class="items" data-v-1c5d0cfc><!--[--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/Vue.js/Vue.js 组件精讲/" data-v-e8e0fb1d data-v-3c355974><!--[-->Vue.js 组件精讲<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/Vue.js/剖析 Vue.js 内部运行机制/" data-v-e8e0fb1d data-v-3c355974><!--[-->剖析 Vue.js 内部运行机制<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-f83db6ba data-v-6ffb57d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-6ffb57d3><span class="text" data-v-6ffb57d3><!----> 其他 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-6ffb57d3><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-6ffb57d3><div class="VPMenu" data-v-6ffb57d3 data-v-1c5d0cfc><div class="items" data-v-1c5d0cfc><!--[--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/其他/Git 原理详解及实用指南/" data-v-e8e0fb1d data-v-3c355974><!--[-->Git 原理详解及实用指南<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/其他/Python数据分析实战：构建股票量化交易系统/" data-v-e8e0fb1d data-v-3c355974><!--[-->Python数据分析实战：构建股票量化交易系统<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/其他/Redis 深度历险：核心原理与应用实践/" data-v-e8e0fb1d data-v-3c355974><!--[-->Redis 深度历险：核心原理与应用实践<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/其他/从零开发H5可视化搭建项目/" data-v-e8e0fb1d data-v-3c355974><!--[-->从零开发H5可视化搭建项目<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/其他/可视化入门：从 0 到 1 开发一个图表库/" data-v-e8e0fb1d data-v-3c355974><!--[-->可视化入门：从 0 到 1 开发一个图表库<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/其他/基于 Python 实现微信公众号爬虫/" data-v-e8e0fb1d data-v-3c355974><!--[-->基于 Python 实现微信公众号爬虫<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/其他/如何使用 Canvas 制作出炫酷的网页背景特效/" data-v-e8e0fb1d data-v-3c355974><!--[-->如何使用 Canvas 制作出炫酷的网页背景特效<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/其他/涂伟忠-正则表达式入门课/" data-v-e8e0fb1d data-v-3c355974><!--[-->涂伟忠-正则表达式入门课<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/其他/详解 Laravel 源码中优秀的设计模式/" data-v-e8e0fb1d data-v-3c355974><!--[-->详解 Laravel 源码中优秀的设计模式<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-f83db6ba data-v-6ffb57d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-6ffb57d3><span class="text" data-v-6ffb57d3><!----> 小程序 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-6ffb57d3><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-6ffb57d3><div class="VPMenu" data-v-6ffb57d3 data-v-1c5d0cfc><div class="items" data-v-1c5d0cfc><!--[--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/小程序/Taro 多端开发实现原理与项目实战/" data-v-e8e0fb1d data-v-3c355974><!--[-->Taro 多端开发实现原理与项目实战<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/小程序/微信小游戏开发入门：从 0 到 1 实现井字棋游戏/" data-v-e8e0fb1d data-v-3c355974><!--[-->微信小游戏开发入门：从 0 到 1 实现井字棋游戏<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-f83db6ba data-v-6ffb57d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-6ffb57d3><span class="text" data-v-6ffb57d3><!----> 工程化 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-6ffb57d3><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-6ffb57d3><div class="VPMenu" data-v-6ffb57d3 data-v-1c5d0cfc><div class="items" data-v-1c5d0cfc><!--[--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/工程化/Babel 插件通关秘籍/" data-v-e8e0fb1d data-v-3c355974><!--[-->Babel 插件通关秘籍<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/工程化/初探前端工程化/" data-v-e8e0fb1d data-v-3c355974><!--[-->初探前端工程化<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/工程化/用 npm script 打造超溜的前端工作流/" data-v-e8e0fb1d data-v-3c355974><!--[-->用 npm script 打造超溜的前端工作流<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-f83db6ba data-v-6ffb57d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-6ffb57d3><span class="text" data-v-6ffb57d3><!----> 计算机 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-6ffb57d3><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-6ffb57d3><div class="VPMenu" data-v-6ffb57d3 data-v-1c5d0cfc><div class="items" data-v-1c5d0cfc><!--[--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/计算机/JavaScript 设计模式核⼼原理与应⽤实践/" data-v-e8e0fb1d data-v-3c355974><!--[-->JavaScript 设计模式核⼼原理与应⽤实践<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/计算机/前端算法与数据结构面试：底层逻辑解读与大厂真题训练/" data-v-e8e0fb1d data-v-3c355974><!--[-->前端算法与数据结构面试：底层逻辑解读与大厂真题训练<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/计算机/朱维刚-重学线性代数/" data-v-e8e0fb1d data-v-3c355974><!--[-->朱维刚-重学线性代数<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-f83db6ba data-v-6ffb57d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-6ffb57d3><span class="text" data-v-6ffb57d3><!----> 面试 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-6ffb57d3><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-6ffb57d3><div class="VPMenu" data-v-6ffb57d3 data-v-1c5d0cfc><div class="items" data-v-1c5d0cfc><!--[--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/面试/Web 前端面试指南与高频考题解析/" data-v-e8e0fb1d data-v-3c355974><!--[-->Web 前端面试指南与高频考题解析<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/面试/前端性能优化原理与实践/" data-v-e8e0fb1d data-v-3c355974><!--[-->前端性能优化原理与实践<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/面试/前端面试之道/" data-v-e8e0fb1d data-v-3c355974><!--[-->前端面试之道<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-6f1d18b5 data-v-a3e7452b><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-a3e7452b data-v-1899cd41 data-v-086e8519><span class="check" data-v-086e8519><span class="icon" data-v-086e8519><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-1899cd41><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-1899cd41><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-6f1d18b5 data-v-e4361c82 data-v-6ffb57d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-6ffb57d3><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-6ffb57d3><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-6ffb57d3><div class="VPMenu" data-v-6ffb57d3 data-v-1c5d0cfc><!----><!--[--><!--[--><!----><div class="group" data-v-e4361c82><div class="item appearance" data-v-e4361c82><p class="label" data-v-e4361c82>Appearance</p><div class="appearance-action" data-v-e4361c82><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-e4361c82 data-v-1899cd41 data-v-086e8519><span class="check" data-v-086e8519><span class="icon" data-v-086e8519><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-1899cd41><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-1899cd41><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6f1d18b5 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div><!----></header><div class="VPLocalNav" data-v-c6a644e1 data-v-aac27d5e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-aac27d5e><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-aac27d5e><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-aac27d5e>Menu</span></button><a class="top-link" href="#" data-v-aac27d5e> Return to top </a></div><aside class="VPSidebar" data-v-c6a644e1 data-v-f332cb62><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-f332cb62><span class="visually-hidden" id="sidebar-aria-label" data-v-f332cb62> Sidebar Navigation </span><!--[--><div class="group" data-v-f332cb62><section class="VPSidebarGroup" data-v-f332cb62 data-v-2976c796><div class="title" data-v-2976c796><h2 class="title-text" data-v-2976c796>可视化入门：从 0 到 1 开发一个图表库</h2><div class="action" data-v-2976c796><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-2976c796><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-2976c796><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-2976c796><!--[--><!--[--><a class="VPLink link link" href="/%E5%85%B6%E4%BB%96/%E5%8F%AF%E8%A7%86%E5%8C%96%E5%85%A5%E9%97%A8%EF%BC%9A%E4%BB%8E%200%20%E5%88%B0%201%20%E5%BC%80%E5%8F%91%E4%B8%80%E4%B8%AA%E5%9B%BE%E8%A1%A8%E5%BA%93/index.html" style="padding-left:0px;" data-v-2cfe069a data-v-3c355974><!--[--><span class="link-text" data-v-2cfe069a>index.md</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/%E5%85%B6%E4%BB%96/%E5%8F%AF%E8%A7%86%E5%8C%96%E5%85%A5%E9%97%A8%EF%BC%9A%E4%BB%8E%200%20%E5%88%B0%201%20%E5%BC%80%E5%8F%91%E4%B8%80%E4%B8%AA%E5%9B%BE%E8%A1%A8%E5%BA%93/%E5%88%86%E6%9E%90-%E5%8E%8B%E6%8A%91%E7%9A%84%E4%B8%AD%E4%B8%96%E7%BA%AA%E5%8F%91%E7%94%9F%E4%BA%86%E4%BB%80%E4%B9%88%EF%BC%9F.html" style="padding-left:0px;" data-v-2cfe069a data-v-3c355974><!--[--><span class="link-text" data-v-2cfe069a>分析-压抑的中世纪发生了什么？.md</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/%E5%85%B6%E4%BB%96/%E5%8F%AF%E8%A7%86%E5%8C%96%E5%85%A5%E9%97%A8%EF%BC%9A%E4%BB%8E%200%20%E5%88%B0%201%20%E5%BC%80%E5%8F%91%E4%B8%80%E4%B8%AA%E5%9B%BE%E8%A1%A8%E5%BA%93/%E5%88%86%E6%9E%90-%E5%93%B2%E5%AD%A6%E5%AE%B6%E4%B9%8B%E9%97%B4%E5%9C%A8%E8%AE%A8%E8%AE%BA%E5%95%A5%E2%80%9C%E5%85%AB%E5%8D%A6%E2%80%9D%EF%BC%9F.html" style="padding-left:0px;" data-v-2cfe069a data-v-3c355974><!--[--><span class="link-text" data-v-2cfe069a>分析-哲学家之间在讨论啥“八卦”？.md</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/%E5%85%B6%E4%BB%96/%E5%8F%AF%E8%A7%86%E5%8C%96%E5%85%A5%E9%97%A8%EF%BC%9A%E4%BB%8E%200%20%E5%88%B0%201%20%E5%BC%80%E5%8F%91%E4%B8%80%E4%B8%AA%E5%9B%BE%E8%A1%A8%E5%BA%93/%E5%88%86%E6%9E%90-%E5%93%B2%E5%AD%A6%E6%B5%81%E6%B4%BE%E7%9A%84%E2%80%9C%E7%BB%84%E7%BB%87%E6%9E%B6%E6%9E%84%E2%80%9D%E6%98%AF%E5%95%A5%E6%A0%B7%E7%9A%84%EF%BC%9F.html" style="padding-left:0px;" data-v-2cfe069a data-v-3c355974><!--[--><span class="link-text" data-v-2cfe069a>分析-哲学流派的“组织架构”是啥样的？.md</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/%E5%85%B6%E4%BB%96/%E5%8F%AF%E8%A7%86%E5%8C%96%E5%85%A5%E9%97%A8%EF%BC%9A%E4%BB%8E%200%20%E5%88%B0%201%20%E5%BC%80%E5%8F%91%E4%B8%80%E4%B8%AA%E5%9B%BE%E8%A1%A8%E5%BA%93/%E5%88%86%E6%9E%90-%E6%8A%BD%E8%B1%A1%E7%9A%84%E5%93%B2%E5%AD%A6%E9%97%AE%E9%A2%98%E5%8F%88%E6%9C%89%E8%B0%81%E6%9D%A5%E8%A7%A3%EF%BC%9F.html" style="padding-left:0px;" data-v-2cfe069a data-v-3c355974><!--[--><span class="link-text" data-v-2cfe069a>分析-抽象的哲学问题又有谁来解？.md</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/%E5%85%B6%E4%BB%96/%E5%8F%AF%E8%A7%86%E5%8C%96%E5%85%A5%E9%97%A8%EF%BC%9A%E4%BB%8E%200%20%E5%88%B0%201%20%E5%BC%80%E5%8F%91%E4%B8%80%E4%B8%AA%E5%9B%BE%E8%A1%A8%E5%BA%93/%E5%88%86%E6%9E%90-%E8%A1%A8%E6%A0%BC%E5%B8%A6%E4%BD%A0%E6%B5%85%E5%B0%9D%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90.html" style="padding-left:0px;" data-v-2cfe069a data-v-3c355974><!--[--><span class="link-text" data-v-2cfe069a>分析-表格带你浅尝数据分析.md</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/%E5%85%B6%E4%BB%96/%E5%8F%AF%E8%A7%86%E5%8C%96%E5%85%A5%E9%97%A8%EF%BC%9A%E4%BB%8E%200%20%E5%88%B0%201%20%E5%BC%80%E5%8F%91%E4%B8%80%E4%B8%AA%E5%9B%BE%E8%A1%A8%E5%BA%93/%E5%88%86%E6%9E%90-%E8%A5%BF%E6%96%B9%E5%93%B2%E5%AD%A6%E4%B8%AD%E5%BF%83%E7%9A%84%E2%80%9C%E8%BF%81%E5%BE%99%E4%B9%8B%E6%97%85%E2%80%9D.html" style="padding-left:0px;" data-v-2cfe069a data-v-3c355974><!--[--><span class="link-text" data-v-2cfe069a>分析-西方哲学中心的“迁徙之旅”.md</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/%E5%85%B6%E4%BB%96/%E5%8F%AF%E8%A7%86%E5%8C%96%E5%85%A5%E9%97%A8%EF%BC%9A%E4%BB%8E%200%20%E5%88%B0%201%20%E5%BC%80%E5%8F%91%E4%B8%80%E4%B8%AA%E5%9B%BE%E8%A1%A8%E5%BA%93/%E5%9F%BA%E7%A1%80-%E5%8F%AF%E8%A7%86%E5%8C%96%E5%B7%A5%E5%85%B7%E6%A6%82%E8%A7%88.html" style="padding-left:0px;" data-v-2cfe069a data-v-3c355974><!--[--><span class="link-text" data-v-2cfe069a>基础-可视化工具概览.md</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/%E5%85%B6%E4%BB%96/%E5%8F%AF%E8%A7%86%E5%8C%96%E5%85%A5%E9%97%A8%EF%BC%9A%E4%BB%8E%200%20%E5%88%B0%201%20%E5%BC%80%E5%8F%91%E4%B8%80%E4%B8%AA%E5%9B%BE%E8%A1%A8%E5%BA%93/%E5%9F%BA%E7%A1%80-%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E6%A8%A1%E5%9E%8B.html" style="padding-left:0px;" data-v-2cfe069a data-v-3c355974><!--[--><span class="link-text" data-v-2cfe069a>基础-数据分析模型.md</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/%E5%85%B6%E4%BB%96/%E5%8F%AF%E8%A7%86%E5%8C%96%E5%85%A5%E9%97%A8%EF%BC%9A%E4%BB%8E%200%20%E5%88%B0%201%20%E5%BC%80%E5%8F%91%E4%B8%80%E4%B8%AA%E5%9B%BE%E8%A1%A8%E5%BA%93/%E5%9F%BA%E7%A1%80-%E7%BB%98%E5%88%B6%E4%B8%80%E4%B8%AA%E6%9D%A1%E5%BD%A2%E5%9B%BE.html" style="padding-left:0px;" data-v-2cfe069a data-v-3c355974><!--[--><span class="link-text" data-v-2cfe069a>基础-绘制一个条形图.md</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/%E5%85%B6%E4%BB%96/%E5%8F%AF%E8%A7%86%E5%8C%96%E5%85%A5%E9%97%A8%EF%BC%9A%E4%BB%8E%200%20%E5%88%B0%201%20%E5%BC%80%E5%8F%91%E4%B8%80%E4%B8%AA%E5%9B%BE%E8%A1%A8%E5%BA%93/%E5%AE%9E%E6%88%98-%E5%87%A0%E4%BD%95%E5%9B%BE%E5%BD%A2%20-%20Geometry.html" style="padding-left:0px;" data-v-2cfe069a data-v-3c355974><!--[--><span class="link-text" data-v-2cfe069a>实战-几何图形 - Geometry.md</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/%E5%85%B6%E4%BB%96/%E5%8F%AF%E8%A7%86%E5%8C%96%E5%85%A5%E9%97%A8%EF%BC%9A%E4%BB%8E%200%20%E5%88%B0%201%20%E5%BC%80%E5%8F%91%E4%B8%80%E4%B8%AA%E5%9B%BE%E8%A1%A8%E5%BA%93/%E5%AE%9E%E6%88%98-%E5%9D%90%E6%A0%87%E7%B3%BB%20-%20Coordinate.html" style="padding-left:0px;" data-v-2cfe069a data-v-3c355974><!--[--><span class="link-text" data-v-2cfe069a>实战-坐标系 - Coordinate.md</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/%E5%85%B6%E4%BB%96/%E5%8F%AF%E8%A7%86%E5%8C%96%E5%85%A5%E9%97%A8%EF%BC%9A%E4%BB%8E%200%20%E5%88%B0%201%20%E5%BC%80%E5%8F%91%E4%B8%80%E4%B8%AA%E5%9B%BE%E8%A1%A8%E5%BA%93/%E5%AE%9E%E6%88%98-%E6%90%AD%E5%BB%BA%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83.html" style="padding-left:0px;" data-v-2cfe069a data-v-3c355974><!--[--><span class="link-text" data-v-2cfe069a>实战-搭建开发环境.md</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link active" href="/%E5%85%B6%E4%BB%96/%E5%8F%AF%E8%A7%86%E5%8C%96%E5%85%A5%E9%97%A8%EF%BC%9A%E4%BB%8E%200%20%E5%88%B0%201%20%E5%BC%80%E5%8F%91%E4%B8%80%E4%B8%AA%E5%9B%BE%E8%A1%A8%E5%BA%93/%E5%AE%9E%E6%88%98-%E6%AF%94%E4%BE%8B%E5%B0%BA%20-%20Scale.html" style="padding-left:0px;" data-v-2cfe069a data-v-3c355974><!--[--><span class="link-text" data-v-2cfe069a>实战-比例尺 - Scale.md</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/%E5%85%B6%E4%BB%96/%E5%8F%AF%E8%A7%86%E5%8C%96%E5%85%A5%E9%97%A8%EF%BC%9A%E4%BB%8E%200%20%E5%88%B0%201%20%E5%BC%80%E5%8F%91%E4%B8%80%E4%B8%AA%E5%9B%BE%E8%A1%A8%E5%BA%93/%E5%AE%9E%E6%88%98-%E6%B8%B2%E6%9F%93%E5%BC%95%E6%93%8E%20-%20Renderer.html" style="padding-left:0px;" data-v-2cfe069a data-v-3c355974><!--[--><span class="link-text" data-v-2cfe069a>实战-渲染引擎 - Renderer.md</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/%E5%85%B6%E4%BB%96/%E5%8F%AF%E8%A7%86%E5%8C%96%E5%85%A5%E9%97%A8%EF%BC%9A%E4%BB%8E%200%20%E5%88%B0%201%20%E5%BC%80%E5%8F%91%E4%B8%80%E4%B8%AA%E5%9B%BE%E8%A1%A8%E5%BA%93/%E5%AE%9E%E6%88%98-%E6%B8%B2%E6%9F%93%E6%B5%81%E7%A8%8B%20-%20Plot.html" style="padding-left:0px;" data-v-2cfe069a data-v-3c355974><!--[--><span class="link-text" data-v-2cfe069a>实战-渲染流程 - Plot.md</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/%E5%85%B6%E4%BB%96/%E5%8F%AF%E8%A7%86%E5%8C%96%E5%85%A5%E9%97%A8%EF%BC%9A%E4%BB%8E%200%20%E5%88%B0%201%20%E5%BC%80%E5%8F%91%E4%B8%80%E4%B8%AA%E5%9B%BE%E8%A1%A8%E5%BA%93/%E5%AE%9E%E6%88%98-%E7%BB%9F%E8%AE%A1%20-%20Statistic.html" style="padding-left:0px;" data-v-2cfe069a data-v-3c355974><!--[--><span class="link-text" data-v-2cfe069a>实战-统计 - Statistic.md</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/%E5%85%B6%E4%BB%96/%E5%8F%AF%E8%A7%86%E5%8C%96%E5%85%A5%E9%97%A8%EF%BC%9A%E4%BB%8E%200%20%E5%88%B0%201%20%E5%BC%80%E5%8F%91%E4%B8%80%E4%B8%AA%E5%9B%BE%E8%A1%A8%E5%BA%93/%E5%AE%9E%E6%88%98-%E8%A7%86%E5%9B%BE%20-%20View.html" style="padding-left:0px;" data-v-2cfe069a data-v-3c355974><!--[--><span class="link-text" data-v-2cfe069a>实战-视图 - View.md</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/%E5%85%B6%E4%BB%96/%E5%8F%AF%E8%A7%86%E5%8C%96%E5%85%A5%E9%97%A8%EF%BC%9A%E4%BB%8E%200%20%E5%88%B0%201%20%E5%BC%80%E5%8F%91%E4%B8%80%E4%B8%AA%E5%9B%BE%E8%A1%A8%E5%BA%93/%E5%AE%9E%E6%88%98-%E8%BE%85%E5%8A%A9%E7%BB%84%E4%BB%B6%20-%20Guide.html" style="padding-left:0px;" data-v-2cfe069a data-v-3c355974><!--[--><span class="link-text" data-v-2cfe069a>实战-辅助组件 - Guide.md</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/%E5%85%B6%E4%BB%96/%E5%8F%AF%E8%A7%86%E5%8C%96%E5%85%A5%E9%97%A8%EF%BC%9A%E4%BB%8E%200%20%E5%88%B0%201%20%E5%BC%80%E5%8F%91%E4%B8%80%E4%B8%AA%E5%9B%BE%E8%A1%A8%E5%BA%93/%E5%BC%80%E7%AF%87-%E5%8F%AF%E8%A7%86%E5%8C%96%E4%BB%8B%E7%BB%8D.html" style="padding-left:0px;" data-v-2cfe069a data-v-3c355974><!--[--><span class="link-text" data-v-2cfe069a>开篇-可视化介绍.md</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/%E5%85%B6%E4%BB%96/%E5%8F%AF%E8%A7%86%E5%8C%96%E5%85%A5%E9%97%A8%EF%BC%9A%E4%BB%8E%200%20%E5%88%B0%201%20%E5%BC%80%E5%8F%91%E4%B8%80%E4%B8%AA%E5%9B%BE%E8%A1%A8%E5%BA%93/%E6%80%BB%E7%BB%93-%E5%9B%9E%E9%A1%BE%E8%BF%87%E5%8E%BB%EF%BC%8C%E5%B1%95%E6%9C%9B%E6%9C%AA%E6%9D%A5.html" style="padding-left:0px;" data-v-2cfe069a data-v-3c355974><!--[--><span class="link-text" data-v-2cfe069a>总结-回顾过去，展望未来.md</span><!--]--><!----></a><!----><!--]--><!--]--></div></section></div><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-c6a644e1 data-v-c95df128><div class="VPDoc has-sidebar has-aside" data-v-c95df128 data-v-37ebe389><div class="container" data-v-37ebe389><div class="aside" data-v-37ebe389><div class="aside-curtain" data-v-37ebe389></div><div class="aside-container" data-v-37ebe389><div class="aside-content" data-v-37ebe389><div class="VPDocAside" data-v-37ebe389 data-v-afc4c1a1><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-afc4c1a1 data-v-2865c0b0><div class="content" data-v-2865c0b0><div class="outline-marker" data-v-2865c0b0></div><div class="outline-title" data-v-2865c0b0>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-2865c0b0><span class="visually-hidden" id="doc-outline-aria-label" data-v-2865c0b0> Table of Contents for current page </span><ul class="root" data-v-2865c0b0 data-v-1188541a><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-afc4c1a1></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-37ebe389><div class="content-container" data-v-37ebe389><!--[--><!--]--><main class="main" data-v-37ebe389><div style="position:relative;" class="vp-doc _%E5%85%B6%E4%BB%96_%E5%8F%AF%E8%A7%86%E5%8C%96%E5%85%A5%E9%97%A8%EF%BC%9A%E4%BB%8E%200%20%E5%88%B0%201%20%E5%BC%80%E5%8F%91%E4%B8%80%E4%B8%AA%E5%9B%BE%E8%A1%A8%E5%BA%93_%E5%AE%9E%E6%88%98-%E6%AF%94%E4%BE%8B%E5%B0%BA%20-%20Scale" data-v-37ebe389><div><h1 id="实战-比例尺-scale" tabindex="-1">实战-比例尺 - Scale <a class="header-anchor" href="#实战-比例尺-scale" aria-hidden="true">#</a></h1><hr><p>上一章我们认识并且开发了一个简单的渲染引擎。我们了解到渲染引擎主要负责数据可视化中的绘制部分，而接下来的比例尺（Scale），是就负责数据处理部分了。</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e93df0e7d1af400aa64f4ff03076c1b9~tplv-k3u1fbpfcp-zoom-1.image" alt=""></p><p>比例尺是可视化中一个很重要且有用的抽象，主要用于将数据的某一个属性映射为图形的视觉属性，比如名字属性映射图形的颜色属性，身高属性映射为图形的位置属性。</p><p>在<a href="https://juejin.cn/book/7031893648145186824/section/7032095221731033125" target="_blank" rel="noreferrer">数据分析模型</a>那一章的最后我们提到，在设计一个可视化方案的时候，其中一个强有力的手段是“编码”，而编码就是通过比例尺完成。不同的数据需要不同的的编码方式，如何根据当前的数据选择合适的比例尺就是我们在可视化中遇见的一个常见的挑战。</p><p>同时比例尺也是我们在使用一些图表库中比较难以理解、容易引起困惑的部分，比如有如下常见的问题：</p><ul><li>为啥最后坐标轴生成的刻度的数量和希望的不一样？</li><li>nice 到底有什么用？</li><li>Threshold, Quantile, Quantile 比例尺有什么区别？</li></ul><p>为了帮助大家更好的理解上面的这些问题，同时也为了给 Sparrow 提供数据映射的能力，我们接下来先从比例尺理论讲起，从根本上理解比例尺，然后通过实战加深对其理解，最后通过拓展去了解更多和比例尺相关的东西。</p><h2 id="比例尺理论" tabindex="-1">比例尺理论 <a class="header-anchor" href="#比例尺理论" aria-hidden="true">#</a></h2><p>比例尺的概念其实早就藏在我们的日常生活中了，比如我们有度量长度的比例尺：把空间上的一段距离映射为一个数字，有度量重量的比例尺：把一定重量映射为一个数字。</p><p><strong>而在可视化中的比例尺，就是用来度量数据属性的，将数据抽象的属性映射为一个视觉属性</strong>。这决定了我们如何理解图形的颜色、大小、形状和位置等。选择一个比例尺的时候，需要我们去思考度量的是什么以及这些度量的含义，最终这些选择将决定我们如何理解一个图形。</p><p>比如我们希望用点来代表某个数据集中的每一条数据，数据中有 sex 这一个属性，对应有两个值：male 和 female。我们选择用点的颜色去度量 sex 这个数据属性，如果一条数据的 sex 属性是 male 那么对应的点是红色，否者是绿色。所以在理解每一个点的时候，如果这个点是红色，那么它对应的数据的 sex 属性就是 male，否者就是 female。</p><p>如果用代码把上面的功能如下描述：</p><div class="language-javascript"><button class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">scale</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">value</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">male</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">?</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">red</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">green</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">scale</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">male</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// &#39;red&#39;</span></span>
<span class="line"><span style="color:#82AAFF;">scale</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">female</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// &#39;green&#39;</span></span>
<span class="line"></span></code></pre></div><p>上面的代码非常的简单，但是通用性太差，只适用于这个特例。有没有什么通用的办法呢？当然是有的。</p><p>其实不难发现，<strong>比例尺本质上是一个函数</strong>，会将一个值（变量）从一个特定的范围（定义域）映射到另一个特定的范围（值域）。定义域（Domain）是由数据的属性决定，值域（Range）是由图形的视觉属性决定。根据定义域和值域的不同，我们需要选择不同的比例尺。</p><p>上面的 sex 和 颜色都是分类属性，所以会使用到我们之后要介绍的 Ordinal 比例尺，具体的使用方式如下。</p><div class="language-javascript"><button class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#676E95;">// 根据 options 返回一个函数</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> scale </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createOrdinal</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">domain</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">male</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">female</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// 定义域</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">range</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">red</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">green</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// 值域</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">scale</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">male</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// &#39;red&#39;</span></span>
<span class="line"><span style="color:#82AAFF;">scale</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">female</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// &#39;green&#39;</span></span>
<span class="line"></span></code></pre></div><p>那么接下来我们就来看看不同的比例尺，分别了解它们的定义域和值域的类型、映射规则和使用场景。</p><h2 id="identity" tabindex="-1">Identity <a class="header-anchor" href="#identity" aria-hidden="true">#</a></h2><p>我们首先看一个最简单的比例尺：Identity 比例尺。它的功能和它的名字一样：“恒等映射”，也就是将输入原封不动的返回。</p><p>当希望数据的属性和图形的视觉属性保持一致的时候，我们就可以使用 Identity 比例尺，比如数据有一个属性是 color，而我们又希望我们图形的填充颜色和 color 保持一致，这个时候我们就可以使用 Identity 比例尺。</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/adfdfe54e4a74aae8dc650b23c759bd6~tplv-k3u1fbpfcp-zoom-1.image" alt=""></p><p>Identity 比例尺的使用方式如下，它能保证输入和输出总是保持一致。</p><div class="language-javascript"><button class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#676E95;">// Identity 是恒等映射，所以不需要指定定义域和值域</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> scale </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createIdentity</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">scale</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// 1</span></span>
<span class="line"><span style="color:#82AAFF;">scale</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">a</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// { a: 1 }</span></span>
<span class="line"><span style="color:#82AAFF;">scale</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">sparrow</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// &#39;sparrow&#39;</span></span>
<span class="line"></span></code></pre></div><p>不难发现 Identity 比例尺可以表示为：<code>y = x</code>，而它的实现也非常的简单。</p><div class="language-javascript"><button class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#676E95;">// src/scale/identity.js</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createIdentity</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="连续比例尺" tabindex="-1">连续比例尺 <a class="header-anchor" href="#连续比例尺" aria-hidden="true">#</a></h2><p>看完了最简单的比例尺，我们来看看最常用的一类比例尺：连续比例尺（Continuous）。连续比例尺主要用于数值属性的映射，它的特点是定义域和值域都是连续的，它们之间的关系可以表示为：<code>y = a * f(x) + b</code>。</p><p>对于所有的连续比例尺来说，除了拥有映射功能之外，还有一个很重要的功能：<strong>生成坐标轴需要的坐标刻度</strong>。在理解可视化图表的过程中，坐标轴往往是一个很好的辅助，因为它能给我们提供更多辅助信息。</p><p>在知道了连续比例尺的两个主要功能后，接下来将给大家介绍并且实现 Linear 和 Time 两个比例尺，另外一个 Log 比例尺的实现将作为大家的练习。</p><h3 id="linear" tabindex="-1">Linear <a class="header-anchor" href="#linear" aria-hidden="true">#</a></h3><p>(1) 线性映射</p><p>Linear 比例尺是支持线性映射的比例尺，它的表达式 <code>y = a * f(x) + b</code> 中的 <code>f(x)</code> 应该为 <code>f(x) = x</code>。</p><p>Linear 比例尺常常用于视觉元素的布局，比如在做散点图的时候，可以用 Linear 比例尺来完成对点的布局，比如将数据的某个数值属性映射为点的 x 坐标，将数据的另一个个数值属性映射为点的 y 坐标。 <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a96087ae573046158182330f405db527~tplv-k3u1fbpfcp-zoom-1.image" alt=""></p><p>它期望的使用方式如下：</p><div class="language-javascript"><button class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> scale </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createLinear</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">domain</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// 输入的范围是 [0, 1]</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">range</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">10</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// 输出的范围是 [0, 10]</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">scale</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">0.2</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// 2</span></span>
<span class="line"><span style="color:#82AAFF;">scale</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">0.5</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// 5</span></span>
<span class="line"></span></code></pre></div><p>通过使用方式我们不难看出：<strong>输入在定义域里到两端的比例，应该和输出在值域到两端的比例相同</strong>，比如 <code>(0.2 \- 0) / (1 \- 0.2)</code> 其实是和<code>(2 \- 0) / (10 \-2)</code> 一样的。</p><p>基于这个发现我们首先通过计算出输入在定义域的位置（归一化），然后根据这个结果在值域计算出相应的输出（插值），具体实现如下。</p><div class="language-javascript"><button class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#676E95;">// src/scale/linear.js</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">normalize</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./utils</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createLinear</span><span style="color:#89DDFF;">({</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">domain</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">d0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">d1</span><span style="color:#89DDFF;">],</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">range</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">r0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">r1</span><span style="color:#89DDFF;">],</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#A6ACCD;">interpolate</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> interpolateNumber</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">})</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">t</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">normalize</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">d0</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">d1</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;">// 默认是使用线性的数值插值器</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;">// 如果是颜色可以使用颜色插入器</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">return</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">interpolate</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">t</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">r0</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">r1</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">interpolateNumber</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">t</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">start</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">stop</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">start</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;"> (</span><span style="color:#F78C6C;">1</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">t</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">stop</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">t</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><div class="language-javascript"><button class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#676E95;">// src/scale/utils.js</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">normalize</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">start</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">stop</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">return</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">value</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">start</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">/</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">stop</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">start</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>最后将其可视化出来的结果如下图，可以发现输入 x 和输入 y 确实是线性相关的。</p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7851d519a2574addb9ed561e167dc422~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p><p>如果将上面的数值插值器（interpolateNumber）换成颜色插值器的话，就会得到以下的效果，可以发现颜色是均匀变化的。</p><div class="language-javascript"><button class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">interpolateNumber</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./linear</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> scale </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createLinear</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">domain</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">range</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">    [</span><span style="color:#F78C6C;">255</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">255</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">255</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// 白色</span></span>
<span class="line"><span style="color:#A6ACCD;">    [</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">255</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">255</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// 浅蓝色</span></span>
<span class="line"><span style="color:#A6ACCD;">  ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">interpolate</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> interolateColor</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">interolateColor</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">t</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">start</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">stop</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">r</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">interpolateNumber</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">t</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">start</span><span style="color:#F07178;">[</span><span style="color:#F78C6C;">0</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">stop</span><span style="color:#F07178;">[</span><span style="color:#F78C6C;">0</span><span style="color:#F07178;">])</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">g</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">interpolateNumber</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">t</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">start</span><span style="color:#F07178;">[</span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">stop</span><span style="color:#F07178;">[</span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">])</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">b</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">interpolateNumber</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">t</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">start</span><span style="color:#F07178;">[</span><span style="color:#F78C6C;">2</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">stop</span><span style="color:#F07178;">[</span><span style="color:#F78C6C;">2</span><span style="color:#F07178;">])</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">rgb(</span><span style="color:#89DDFF;">${</span><span style="color:#A6ACCD;">r</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">, </span><span style="color:#89DDFF;">${</span><span style="color:#A6ACCD;">g</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">, </span><span style="color:#89DDFF;">${</span><span style="color:#A6ACCD;">b</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">)</span><span style="color:#89DDFF;">`</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9999c22f70f64d35b980224c52d1b479~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p><p>（2）ticks 和 nice</p><p>介绍完 Linear 比例尺的映射功能，接下来我们来看看它生成坐标刻度的方法。下面我们首先来看看一个简单版本，看看它有啥问题。</p><div class="language-javascript"><button class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#676E95;">// min: 定义域的最小值</span></span>
<span class="line"><span style="color:#676E95;">// max: 定义域的最大值</span></span>
<span class="line"><span style="color:#676E95;">// count: 坐标刻度的数量</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">simpleTicks</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">min</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">max</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">count</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">step</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">max</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">min</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">/</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">tickCount</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">values</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Array</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">count</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">for</span><span style="color:#F07178;">(</span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">count</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">++</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">values</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">min</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">step</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">values</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>上面的代码非常直觉，现在让我们来看看它的效果。</p><div class="language-javascript"><button class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> ticks </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">simpleTicks</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">0.1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">9.9</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">6</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">ticks </span><span style="color:#676E95;">// [0.1, 1.7333333333333336, 3.366666666666667, 5, 6.633333333333334, 8.266666666666667]</span></span>
<span class="line"></span></code></pre></div><p><code>simpleTicks</code> 方法确实按照要求生成了6个刻度，但是可读性太差：全是小数，那如果我们将这些刻度格式化一下呢？</p><div class="language-javascript"><button class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#A6ACCD;">ticks</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">map</span><span style="color:#A6ACCD;">(</span><span style="color:#A6ACCD;">d</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">parseFloat</span><span style="color:#A6ACCD;">(d</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toFixed</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">)))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">ticks</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// [0.1, 1.7, 3.4, 5, 6.6, 8.3];</span></span>
<span class="line"></span></code></pre></div><p>看上去好一点了，但是我们会发现刻度不是均匀的，也就是相邻的刻度之间的间隔不一样：<code>3.4 \- 1.7 !== 1.7 \- 0.1</code>。</p><p>造成上面两个问题的根本原因就是我们没有选择合适的刻度间隔，也就是上面的 <code>const step = (max \- min) / count;</code> 太过简单。对于 Linear 比例尺来说，合适的刻度间隔应该是是<strong>1或者2或者5乘上10的 n 次方</strong>的数，也就是说希望 <code>step = 10 ^ n * (1 | 2 | 5)</code>。</p><p>获得上述刻度间隔的实现方式如下，该实现是来自于 <a href="https://github.com/d3/d3-array/blob/main/src/ticks.js#L46" target="_blank" rel="noreferrer">d3-array</a>。</p><div class="language-javascript"><button class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#676E95;">// src/scale/utils.js</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">// step0 是生成指定数量的刻度的间隔</span></span>
<span class="line"><span style="color:#676E95;">// step1 是最后生成的刻度的间隔</span></span>
<span class="line"><span style="color:#676E95;">// 我们希望 step1 满足两个条件：</span></span>
<span class="line"><span style="color:#676E95;">// 1. step1 = 10 ^ n * b (其中 b=1,2,5)</span></span>
<span class="line"><span style="color:#676E95;">// 2. step0 和 step1 的误差尽量的小</span></span>
<span class="line"><span style="color:#89DDFF;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">tickStep</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">min</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">max</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">count</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">e10</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Math</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sqrt</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">50</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;">// 7.07</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">e5</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Math</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sqrt</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">10</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;">// 3.16</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">e2</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Math</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sqrt</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">2</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;">// 1.41</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;">// 获得目标间隔 step0，设 step0 = 10 ^ m</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">step0</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Math</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">abs</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">max</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">min</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">/</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Math</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">max</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">count</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;">// 获得 step1 的初始值 = 10 ^ n &lt; step0，其中 n 为满足条件的最大整数</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">step1</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">10</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">**</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Math</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">floor</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">Math</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">step0</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">/</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Math</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">LN10</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;">// 计算 step1 和 step0 的误差，error = 10 ^ m / 10 ^ n = 10 ^ (m - n)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">error</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">step0</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">/</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">step1</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;">// 根据当前的误差改变 step1 的值，从而减少误差</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;">// 1. 当 m - n &gt;= 0.85 = log(e10) 的时候，step1 * 10</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;">// 可以减少log(10) = 1 的误差 </span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">error</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&gt;=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">e10</span><span style="color:#F07178;">) </span><span style="color:#A6ACCD;">step1</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">*=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">10</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;">// 2. 当 0.85 &gt; m - n &gt;= 0.5 = log(e5) 的时候，step1 * 5</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;">// 可以减少 log(5) = 0.7 的误差</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">else</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">error</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&gt;=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">e5</span><span style="color:#F07178;">) </span><span style="color:#A6ACCD;">step1</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">*=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">5</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;">// 3. 当 0.5 &gt; m - n &gt;= 0.15 = log(e2) 的时候，step1 * 2</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;">// 那么可以减少 log(2) = 0.3 的误差</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">else</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">error</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&gt;=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">e2</span><span style="color:#F07178;">) </span><span style="color:#A6ACCD;">step1</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">*=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;">// 4. 当 0.15 &gt; m - n &gt; 0 的时候，step1 * 1</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">step1</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>这里简单解释一下使用 <code>Math.sqrt(50)</code>，<code>Math.sqrt(10)</code> 以及 <code>Math.sqrt(2)</code> 作为误差标准的原因（这里只是笔者的推断，仅供参考，如果更好的解释可以在评论处指出）。</p><p>通过上面的注释我们可以看出，为了让 <code>step0</code> 和 <code>step1</code> 之间误差尽量的少，就是让 <code>Math.abs(m \- n)</code> 尽量为 0。因为我们希望间隔是以 <strong>1或者2或者5乘上10的 n 次方</strong>数，所以只能通过乘 2，5或者10来减少误差。</p><p>乘10可以减少 log10 的误差 ，乘5可以减少 log5 的误差，乘2可以减少 log2 的误差。我们用数列 0，log2，log5 和 log10 两两之间的平均数来作为选择需要改变的误差的标准。也就是:</p><ul><li><code>log(e2) = (0 + log2) / 2 = log(Math.sqrt(2))</code></li><li><code>log(e5) = (log2 + log5) / 2 = log(Math.sqrt(2 * 5))</code></li><li><code>log(e10) = (log5 + log10) / 2 = log(Math.sqrt(5 * 10))</code></li></ul><p>即 <code>e2 = Math.sqrt(2)</code>, <code>e5 = Math.sqrt(10)</code> 和 <code>e10 = Math.sqrt(50)</code>。</p><p>在这个 <code>tickStep</code> 的基础上我们可以获取如下的获得刻度的方法。</p><div class="language-javascript"><button class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#676E95;">// src/scale/utils.js</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">ticks</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">min</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">max</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">count</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">step</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">tickStep</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">min</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">max</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">count</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;">// 让 start 和 stop 都是 step 的整数倍</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;">// 这样生成的 ticks 都是 step 的整数倍</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;">// 可以让可读性更强</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">start</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Math</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">ceil</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">min</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">/</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">step</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">stop</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Math</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">floor</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">max</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">/</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">step</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">n</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Math</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">ceil</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">stop</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">start</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;">// n 不一定等于 count，所以生成的 ticks 的数量可能和指定的不一样</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">values</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Array</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">n</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">for</span><span style="color:#F07178;"> (</span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">n</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">values</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">round</span><span style="color:#F07178;">((</span><span style="color:#A6ACCD;">start</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">step</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">values</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">// 简单解决 js 的精读问题：0.1 + 0.2 !== 0.3</span></span>
<span class="line"><span style="color:#89DDFF;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">round</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">n</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Math</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">round</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">n</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1e12</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">/</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1e12</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>下面来看看 <code>ticks</code> 方法获得的效果。</p><div class="language-javascript"><button class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#82AAFF;">ticks</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">0.1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">9.9</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">6</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// [2, 4, 6, 8]</span></span>
<span class="line"></span></code></pre></div><p>现在发现生成的刻度不仅是均匀的，而且拥有很不错的可读性！但是美中不足的是定义域 <code>[0.1, 9.9]</code> 本身的可读性不是很强，但如果我们能根据刻度间隔去调整定义域的范围，使得最小值和最大值都是刻度间隔的整数倍，又会发生什么？这就是 <code>nice</code> 操作，具体的实现如下。</p><div class="language-javascript"><button class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#676E95;">// src/scale/utils.js</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">nice</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">domain</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">interval</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">min</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">max</span><span style="color:#89DDFF;">]</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">domain</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">return</span><span style="color:#F07178;"> [</span><span style="color:#A6ACCD;">interval</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">floor</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">min</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">interval</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">ceil</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">max</span><span style="color:#F07178;">)]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">ceil</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">n</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">base</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">base</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Math</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">ceil</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">n</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">/</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">base</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">floor</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">n</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">base</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">base</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Math</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">floor</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">n</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">/</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">base</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>我们可以如下使用上面新增的函数，可以发现改算法根据刻度间隔<code>2</code>去调整了定义域，使得其从<code>[0.1, 9.9]</code>变成了<code>[0, 10]</code>，从而生成了<code>[0, 2, 4, 6, 8]</code>这样可读性更强的刻度。</p><div class="language-javascript"><button class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> d0 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.1</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> d1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">9.9</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> step </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">tickStep</span><span style="color:#A6ACCD;">(d0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> d1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> tickCount)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">[d0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> d1] </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">nice</span><span style="color:#A6ACCD;">([</span><span style="color:#F78C6C;">0.1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">9.9</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">floor</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">floor</span><span style="color:#A6ACCD;">(x</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> step)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">ceil</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">ceil</span><span style="color:#A6ACCD;">(x</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> step)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">d0</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// 0</span></span>
<span class="line"><span style="color:#A6ACCD;">d1</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// 10</span></span>
<span class="line"><span style="color:#82AAFF;">ticks</span><span style="color:#A6ACCD;">(d0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> d1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">6</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// [0, 2, 4, 6, 8]</span></span>
<span class="line"></span></code></pre></div><p>因为上面的 <code>ticks</code> 以及 <code>nice</code> 和 Linear 比例尺是强相关的，所以我们把它们作为 Linear 的两个方法，最后 Linear 比例尺的实现如下。</p><div class="language-javascript"><button class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#676E95;">// src/scale/linear.js</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">normalize</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">tickStep</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">nice</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">floor</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">ceil</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">ticks</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./utils</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createLinear</span><span style="color:#89DDFF;">({</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">domain</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">d0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">d1</span><span style="color:#89DDFF;">],</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">range</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">r0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">r1</span><span style="color:#89DDFF;">],</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#A6ACCD;">interpolate</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> interpolateNumber</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">})</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">scale</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">t</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">normalize</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">d0</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">d1</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">return</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">interpolate</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">t</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">r0</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">r1</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">scale</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">ticks</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">tickCount</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">ticks</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">d0</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">d1</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">tickCount</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">scale</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">nice</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">tickCount</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">step</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">tickStep</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">d0</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">d1</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">tickCount</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    [</span><span style="color:#A6ACCD;">d0</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">d1</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">nice</span><span style="color:#F07178;">([</span><span style="color:#A6ACCD;">d0</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">d1</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#82AAFF;">floor</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">floor</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">step</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#82AAFF;">ceil</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">ceil</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">step</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">scale</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">interpolateNumber</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">t</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">start</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">stop</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">start</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;"> (</span><span style="color:#F78C6C;">1</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">t</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">stop</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">t</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h3 id="time" tabindex="-1">Time <a class="header-anchor" href="#time" aria-hidden="true">#</a></h3><p>Linear 比例尺要求定义域都是数字，但是有的时候我们希望定义域是浏览器的时间对象（Date），这个时候就需要用到 Time 比例尺了。</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/75f389be0b9c484495ccbb599a1bc2e6~tplv-k3u1fbpfcp-zoom-1.image" alt=""></p><p>比如我们在做折线图的时候，希望把和时间相关的属性映射为折线图的 x 坐标，我们就会如下使用 Time 比例尺。</p><div class="language-javascript"><button class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> map </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createTime</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">domain</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Date</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">2000</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Date</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">2000</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">)]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">range</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">960</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">map</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Date</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">2000</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">5</span><span style="color:#A6ACCD;">))</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// 200</span></span>
<span class="line"><span style="color:#82AAFF;">map</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Date</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">2000</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">16</span><span style="color:#A6ACCD;">))</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// 640</span></span>
<span class="line"><span style="color:#82AAFF;">map</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Date</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">2000</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">))</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// 960</span></span>
<span class="line"></span></code></pre></div><p>根据上面的描述，其实不难看出 Time 比例尺的表达式 <code>y = a * f(x) + b</code>中的 <code>f(x)</code> 应该为 <code>f(x) = x.getTime()</code>。所以我们可以在 Linear 比例尺的基础上如下实现 Time 比例尺。</p><div class="language-javascript"><button class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#676E95;">// src/scale/time.js</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">createLinear</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./linear</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createTime</span><span style="color:#89DDFF;">({</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">domain</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">rest</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">})</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">transform</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getTime</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">transformedDomain</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">domain</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">map</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">transform</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">linear</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">createLinear</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> domain</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">transformedDomain</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">rest</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">scale</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">linear</span><span style="color:#F07178;">(</span><span style="color:#82AAFF;">transform</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">x</span><span style="color:#F07178;">))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">scale</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">nice</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">tickCount</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">linear</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">nice</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">tickCount</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">scale</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">ticks</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">tickCount</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">linear</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">ticks</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">tickCount</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">map</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">d</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Date</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">d</span><span style="color:#F07178;">))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">scale</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>这里需要注意的是 Time 比例尺和 Linear 比例尺的 <code>ticks</code> 和 <code>nice</code> 方法应该是不一样的，因为对于它们来说可读性强的刻度的含义不一样。对于 Time 比例尺来说，应该是如下的时间间隔：</p><ul><li>1, 5, 15 和 30秒.</li><li>1, 5, 15 和 30分钟.</li><li>1, 3, 6 和 12-小时.</li><li>1 和 2天.</li><li>1周.</li><li>1 和 3月.</li><li>1年.</li></ul><p>但是 Time 比例尺获得合适刻度间隔的算法相对更复杂的一点，所以这里就复用 Linear 比例尺的 <code>ticks</code> 算法，想了解更多的可以去里看 <a href="https://github.com/d3/d3-scale/blob/main/src/time.js#L47" target="_blank" rel="noreferrer">d3-scale</a> 的源码。</p><p>最后我们将 Time 比例尺可视化的效果如下，可以发现它和 Linear 比例尺一个最大的区别是 x 轴从数字变成了时间。</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d4f87162f9b34afb9c565955401a3578~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p><h2 id="序数类比例尺" tabindex="-1">序数类比例尺 <a class="header-anchor" href="#序数类比例尺" aria-hidden="true">#</a></h2><p>如果说连续比例尺负责数值属性的映射，那么序数类比例尺就负责序数属性的映射。</p><p>这里解释一下序数的含义。在<a href="https://juejin.cn/book/7031893648145186824/section/7032095221731033125" target="_blank" rel="noreferrer">数据分析模型</a>那一章我们了解到，数据属性分为：分类和可排序属性，可排序又分为数值和序数两种类型。为了简单，我们把分类属性也算作一种特殊的序数属性（所有值的大小都是相等的）。所以这里的序数属性包含分类属性和序数属性。</p><p>接下来我们来看看三个序数类比例尺：Ordinal、Band 和 Point。</p><h3 id="ordinal" tabindex="-1">Ordinal <a class="header-anchor" href="#ordinal" aria-hidden="true">#</a></h3><p>Ordinal 比例尺和开篇提到的一样，值域和定义域都是序数，主要用于将序数属性映射为同为序数属性的视觉属性，比如颜色，形状等。比如下面我们将水果的名字映射为颜色。</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/84eec5a4a1dc43daa458ebf36ca5459a~tplv-k3u1fbpfcp-zoom-1.image" alt=""></p><p>把上图的映射过程用代码描述如下：</p><div class="language-javascript"><button class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> scale </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createOrdinal</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">domain</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">苹果</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">香蕉</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">梨</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">西瓜</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">range</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">red</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">yellow</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">green</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">scale</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">苹果</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// &#39;red&#39;</span></span>
<span class="line"><span style="color:#82AAFF;">scale</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">香蕉</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// &#39;yellow&#39;</span></span>
<span class="line"><span style="color:#82AAFF;">scale</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">梨</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// &#39;green&#39;</span></span>
<span class="line"><span style="color:#82AAFF;">scale</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">西瓜</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// &#39;red&#39;</span></span>
<span class="line"></span></code></pre></div><p>实现的思路也很简单：首先从定义域中找到输入对应的索引，然后返回值域中对应索引的元素。</p><div class="language-javascript"><button class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#676E95;">// src/scale/ordinal.js</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createOrdinal</span><span style="color:#89DDFF;">({</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">domain</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">range</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">})</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">index</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">domain</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">findIndex</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">d</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">equal</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">d</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">x</span><span style="color:#F07178;">))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;">// 取模的目的是为了应对 domain.length &gt; range.length 的情况</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">range</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">index</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">%</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">range</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><div class="language-javascript"><button class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#676E95;">// src/scale/utils.js</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">// 通过对象序列化结果简单判断两个对象是否相等</span></span>
<span class="line"><span style="color:#89DDFF;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">equal</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">a</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">b</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">JSON</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">stringify</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">a</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">JSON</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">stringify</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">b</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h3 id="band" tabindex="-1">Band <a class="header-anchor" href="#band" aria-hidden="true">#</a></h3><p>Ordinal 比例尺要求值域必须是序数的，如果值域是数值类型的话，就需要 Band 比例尺了。Band 比例尺主要用于将离散的序数属性映射为连续的数值属性，往往用于条形图中确定某个条的位置。</p><p>比如下面我们将水果的名字映射为下面每个条的位置，其中每一个条使一个 Band，它的宽度为 BandWidth，条之间的间距为 Padding，步长是 BandWidth 和 Padding 之和。</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ab72ba856ece420297e57dbbdc5fea2c~tplv-k3u1fbpfcp-zoom-1.image" alt=""></p><p>把上图的映射过程用代码描述如下：</p><div class="language-javascript"><button class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> options </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">domain</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">苹果</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">香蕉</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">梨</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">range</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">320</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// 上图中 width 的范围</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">padding</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// 控制条之间的间距，上图中的 padding</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> scale </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createBand</span><span style="color:#A6ACCD;">(options)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#82AAFF;">scale</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">苹果</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// 20</span></span>
<span class="line"><span style="color:#82AAFF;">scale</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">香蕉</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// 120</span></span>
<span class="line"><span style="color:#82AAFF;">scale</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">梨</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// 220</span></span>
<span class="line"></span></code></pre></div><p>当然我们除了如上需要通过 Band 比例尺获得条的位置，还需要如下获得条的 BandWidth 和 Step。</p><div class="language-javascript"><button class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#A6ACCD;">scale</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">bandWidth</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// 80</span></span>
<span class="line"><span style="color:#A6ACCD;">scale</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">step</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// 100</span></span>
<span class="line"></span></code></pre></div><p>根据上面的介绍，发现 Band 比例尺可以直接基于 Ordinal 比例尺实现，只不过我们需要将其本身的值域进行转换，转换成间距相等的几个值。具体的实现方法如下：</p><div class="language-javascript"><button class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#676E95;">// src/scale/band.js</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">createOrdinal</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./ordinal</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">band</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./utils</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createBand</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">options</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">bandRange</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">bandWidth</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">step</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">band</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">options</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">scale</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">createOrdinal</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">options</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> range</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">bandRange</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">scale</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">bandWidth</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">bandWidth</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">scale</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">step</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">step</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">scale</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><div class="language-javascript"><button class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#676E95;">// src/scale/utils.js</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">band</span><span style="color:#89DDFF;">({</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">domain</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">range</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">padding</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">})</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">r0</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">r1</span><span style="color:#89DDFF;">]</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">range</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">n</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">domain</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">step</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">r1</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">r0</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">/</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">n</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">padding</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">bandWidth</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">step</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;"> (</span><span style="color:#F78C6C;">1</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">padding</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">interval</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">step</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">bandWidth</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">x</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">_</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">r0</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">interval</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">step</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">step</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">bandWidth</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    bandRange</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Array</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">n</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">fill</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">0</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">map</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">x</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h3 id="point" tabindex="-1">Point <a class="header-anchor" href="#point" aria-hidden="true">#</a></h3><p>我们接下来看看最后的一种序数比例尺：Point。Point 比例尺是一种特殊的 Band 比例尺，它的 Padding 始终为 1，也就是说它的 BandWidth 始终为 0 。(具体参考下图）</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bc257ac4098241e3a8c2ab5ae0cebfcd~tplv-k3u1fbpfcp-zoom-1.image" alt=""></p><p>Point 比例尺主要用于散点图，它的使用方式如下：</p><div class="language-javascript"><button class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> options </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">domain</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">苹果</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">香蕉</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">梨</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">range</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">320</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> scale </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createBand</span><span style="color:#A6ACCD;">(options)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#82AAFF;">scale</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">苹果</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// 80</span></span>
<span class="line"><span style="color:#82AAFF;">scale</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">香蕉</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// 160</span></span>
<span class="line"><span style="color:#82AAFF;">scale</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">梨</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// 240</span></span>
<span class="line"></span></code></pre></div><p>Point 的比例尺可以基于 Ordinal 如下简单得实现。</p><div class="language-javascript"><button class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#676E95;">// src/scale/point.js</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">createBand</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./band</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createPoint</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">options</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">return</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">createBand</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">options</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> padding</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="分布比例尺" tabindex="-1">分布比例尺 <a class="header-anchor" href="#分布比例尺" aria-hidden="true">#</a></h2><p>最后我们来看看分布比例尺，该类比例尺很多时候可以用来探索数据的分布。我们用 <a href="https://observablehq.com/@d3/quantile-quantize-and-threshold-scales" target="_blank" rel="noreferrer">Quantile, Quantize and Threshold scales</a> 这篇文章中的例子来认识这类比例尺。</p><p>上面的文章中有一个工资的数据集合：<code>salary = [11002,29017, ...]</code>，这个数据集一共有 100 条数据，范围是：<code>[0, 300577]</code>，我们现在希望绘制一个热力图来展现这些数据的分布：每一个格子代表一个人，将工资映射为格子的颜色。</p><p>首先我们可以先用如下 Linear 比例尺来看看效果。</p><div class="language-javascript"><button class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> scale </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createLinear</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">domain</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">300577</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">range</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">white</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">red</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">interpolate</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> interpolateColor</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><p>可视化后的效果如下图，可以发现我们能获得的信息很少，因为我们很难去区别这些颜色。</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d55dbf591e3c4be6b596d56a3c8577b8~tplv-k3u1fbpfcp-zoom-1.image" alt=""></p><p><strong>所以我们需要离散的分布比例尺，将这些工资数据分组，每一个组使用一个颜色来编码</strong>。而不同的分组方式需要使用不同的分布比例尺，我们接下来分别看看它们。</p><h3 id="threshold" tabindex="-1">Threshold <a class="header-anchor" href="#threshold" aria-hidden="true">#</a></h3><p>首先是 Threshold 比例尺，它的定义域是连续的，并且会被指定的分割值分成不同的组，它的使用方式如下。</p><div class="language-javascript"><button class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> scale </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createThreshold</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">domain</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#F78C6C;">10000</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100000</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// 1000, 100000 就是两个分割值</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">range</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">white</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">pink</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">red</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#89DDFF;"> </span><span style="color:#676E95;">// [0, 300577] 会被上面的分割值分成三组，然后如下映射：</span></span>
<span class="line"><span style="color:#89DDFF;"> </span><span style="color:#676E95;">// [0, 10000) -&gt; &quot;white&quot;</span></span>
<span class="line"><span style="color:#89DDFF;"> </span><span style="color:#676E95;">// [10000, 100000) -&gt; &quot;pink&quot;</span></span>
<span class="line"><span style="color:#89DDFF;"> </span><span style="color:#676E95;">// [100000, 300577) -&gt; &quot;red&quot;</span></span>
<span class="line"></span></code></pre></div><p>使用上面声明的 Threshold 比例尺就会得到以下的效果。</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d5b0c659be8b48e59a199b5eaf77f415~tplv-k3u1fbpfcp-zoom-1.image" alt=""></p><p>现在我们就可以得到一些有效信息了：因为粉红色的格子最多，所以大多人的工资都在 <code>[10000, 100000)</code> 这个区间，少部分在 <code>[0, 10000)</code> 和 <code>[100000, 300577)</code> 这两个区间。</p><p>根据上面的介绍，以下 Threshold 比例尺的实现也不难理解了。</p><div class="language-javascript"><button class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#676E95;">// src/scale/threshold.js</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createThreshold</span><span style="color:#89DDFF;">({</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">domain</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">range</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">})</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">n</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Math</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">min</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">domain</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">range</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">index</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">domain</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">findIndex</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">v</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">x</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">v</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">range</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">index</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;">1</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">?</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">n</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">index</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h3 id="quantize" tabindex="-1">Quantize <a class="header-anchor" href="#quantize" aria-hidden="true">#</a></h3><p>相对于 Threshold 比例尺需要我们指定分割值，Quantize 比例尺会根据数据的范围帮我们选择分割值，从而把定义域分成间隔相同的组。</p><div class="language-javascript"><button class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#676E95;">// 因为 range 有3个值，所以 domain 会被分成三等份，</span></span>
<span class="line"><span style="color:#676E95;">// 并且按照如下的规则映射</span></span>
<span class="line"><span style="color:#676E95;">// [0, 300577 / 3) -&gt; &quot;white&quot;</span></span>
<span class="line"><span style="color:#676E95;">// [300577 / 3, 300577 * (2 / 3)) -&gt; &quot;pink&quot;</span></span>
<span class="line"><span style="color:#676E95;">// [300577 * (2 / 3), 300577) -&gt; &quot;red</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> scale </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createQuantize</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">domain</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">300577</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">range</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">white</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">pink</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">red</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><p>如果我们用 Quantize 比例尺可视化上面的数据，会得到如下的结果：</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fd59b46e540b4d268cc75bb32b075521~tplv-k3u1fbpfcp-zoom-1.image" alt=""></p><p>可以发现大部分人的工资都在前三分之一（白色）这个级别，只有极少数的人在后三分之一（红色）这个级别，这体现出了工资严重的分布不公平。这也是 使用 Quantize 比例尺存在的一个问题：当数据的分布有倾斜的时候，会出现几乎所有数据都在一个组，只有一些极端值在自己组的情况。</p><p>根据上面的描述，实现 Quantize 比例尺的关键就是计算得到分割值，然后在这个基础之使用 Threahold 比例尺即可，具体的实现如下。</p><div class="language-javascript"><button class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#676E95;">// src/scale/quantize.js</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">createThreshold</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./threshold</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createQuantize</span><span style="color:#89DDFF;">({</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">domain</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">d0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">d1</span><span style="color:#89DDFF;">],</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">range</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">rest</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">})</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">n</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">range</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">step</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">d1</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">d0</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">/</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">n</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">quantizeDomain</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Array</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">n</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">fill</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">0</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">map</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">_</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">step</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">return</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">createThreshold</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> domain</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">quantizeDomain</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">range</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">rest</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h3 id="quantile" tabindex="-1">Quantile <a class="header-anchor" href="#quantile" aria-hidden="true">#</a></h3><p>和 Quantize 比例尺不同是，Quantile 比例尺采用了另外得到分割值的策略： 根据数据出现的频率分组。</p><div class="language-javascript"><button class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#676E95;">// 首先把会 salary 按照升序排序</span></span>
<span class="line"><span style="color:#676E95;">// 因为一共有100条数据，所以</span></span>
<span class="line"><span style="color:#676E95;">// 前33条数据会被映射为 &quot;white&quot;</span></span>
<span class="line"><span style="color:#676E95;">// 排名33到67的数据会被映射为 &quot;pink&quot;</span></span>
<span class="line"><span style="color:#676E95;">// 最后33条数据会映射为 &quot;red</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> scale </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createQuantile</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">domain</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> salary</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">range</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">white</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">pink</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">red</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><p>用 Quantize 比例尺进行可视化上面的数据会得到以下的效果。</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ae11fa51963b496081dd06418b84d39d~tplv-k3u1fbpfcp-zoom-1.image" alt=""></p><p>如果对上面的数据按照升序排序之后再进行可视化，就会得到如下的效果。</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0622843cf95d4624afc84e9cf8ed3106~tplv-k3u1fbpfcp-zoom-1.image" alt=""></p><p>可以发现，Quantile 比例尺把数据分成了每组数据的数量相同的三个组，也就是说通过上面的图我们可以真正能找到 “相对较低”、“普通”和“相对较高”这三个组对应的人。这里需要注意的是：Quantile 是根据数据在整个数据集的排名来分组的，所以会缺少数据绝对大小相关的分布信息。</p><p>类似于 Quantize 比例尺，我们在实现 Quantile 比例尺的时候也需要计算对应的分割值，具体的计算方式如下。</p><div class="language-javascript"><button class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#676E95;">// src/scale/quantile.js</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">createThreshold</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./threshold</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createQuantile</span><span style="color:#89DDFF;">({</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">domain</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">range</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">rest</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">})</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">n</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">range</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">sortedDomain</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">domain</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sort</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">a</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">b</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">a</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">b</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">step</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">sortedDomain</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">/</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">n</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">quantileDomain</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Array</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">n</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">fill</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">0</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">map</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">_</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">index</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">index</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">step</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i0</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Math</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">floor</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i1</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i0</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">v0</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">sortedDomain</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">i0</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">v1</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">sortedDomain</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">i1</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">v0</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">i1</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">v1</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i0</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">return</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">createThreshold</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> domain</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">quantileDomain</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">range</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">rest</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="作业" tabindex="-1">作业 <a class="header-anchor" href="#作业" aria-hidden="true">#</a></h2><p>最后给大家布置一个小任务，就是基于 Linear 比例尺，参考 Time 比例尺实现 Log 比例尺。除了实现 Log 比例尺的映射功能之外，也要实现它的 <code>ticks</code> 和 <code>nice</code> 方法。</p><p>Log 比例尺的表达式 <code>y = a * f(x) + b</code>中的 <code>f(x)</code> 应该为 <code>f(x) = Math.log(x)</code>， 这里只需要考虑 x 大于零的情况。对于 Log 比例尺来说，可读性较强的刻度就是指定 base 的指数。</p><div class="language-javascript"><button class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">createLog</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./log.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> scale </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createLog</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">domain</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#F78C6C;">10</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">range</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#F78C6C;">10</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">200</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">base</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">scale</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">ticks</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">5</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// [16, 32, 64]  = [2 ^ 4, 2 ^5, 2 ^6]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">scale</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">nice</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">5</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">sclae</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">ticks</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">5</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// [8, 16, 32, 64, 128];</span></span>
<span class="line"></span></code></pre></div><p>具体的实现参考<a href="https://github.com/sparrow-vis/sparrow/blob/main/src/scale/log.js" target="_blank" rel="noreferrer">这里</a>，测试代码在<a href="https://github.com/sparrow-vis/sparrow/blob/main/__tests__/scale/log.spec.js" target="_blank" rel="noreferrer">这里</a>。</p><p>当我们实现了 Log 比例尺之后，我们就把常用的、Sparrow 后面会用到的比例尺都开发完成了，是不是觉得收获满满？最后把它们全部导出即可。</p><div class="language-javascript"><button class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#676E95;">// src/scale/index.js</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">createLinear</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">interpolateNumber</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./linear</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">createIdentity</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./identity</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">createOrdinal</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./ordinal</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">createBand</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./band</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">createPoint</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./point</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">createQuantile</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./quantile</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">createThreshold</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./threshold</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">createQuantize</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./quantize</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">createTime</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./time</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">createLog</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./log</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><p>完整的代码可以在<a href="https://github.com/sparrow-vis/sparrow/tree/main/src/scale" target="_blank" rel="noreferrer">这里</a>浏览，同样也可以通过<a href="https://github.com/sparrow-vis/sparrow/tree/main/__tests__/scale" target="_blank" rel="noreferrer">这里</a>的测试代码来验证代码的正确性。</p><h2 id="拓展" tabindex="-1">拓展 <a class="header-anchor" href="#拓展" aria-hidden="true">#</a></h2><p>虽然在上面的开发过程中每一个比例尺最多就10几行代码，但其实真正能在实际场景下使用的比例尺远没有这么简单。这里有两点需要注意：</p><p>第一个是比例尺的丰富度。数据映射的场景很多，我们介绍的比例尺只是用于最常见的几种场景，更多的数据场景会使用一些更复杂的比例尺：比如 <a href="https://github.com/d3/d3-scale#symlog-scales" target="_blank" rel="noreferrer">Symlog</a>、<a href="https://github.com/d3/d3-scale#sequential-scales" target="_blank" rel="noreferrer">Sequential</a>，</p><p>第二个是性能上的要求。因为对每一个数据都会进行数据映射，所以在大数据的情况下，效率不高的比例尺实现会带来巨大的性能损失。</p><p>比如在目前 Ordinal 比例尺的实现中，找到 index 的算法的时间复杂度是 <code>O(n)</code>：和定义域的数据规模呈线性相关。</p><div class="language-javascript"><button class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#89DDFF;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createOrdinal</span><span style="color:#89DDFF;">({</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">domain</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">range</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">})</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;">// findIndex 的每次都会遍历一次 domain</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">index</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">domain</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">findIndex</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">d</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">equal</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">d</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">x</span><span style="color:#F07178;">))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">range</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">index</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">%</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">range</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>这在数据量大的情况下这是不可接受的，但是它经过如下的优化就可以变成时间复杂度为 <code>O(1)</code> 的算法。</p><div class="language-javascript"><button class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#89DDFF;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createOrdinal</span><span style="color:#89DDFF;">({</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">domain</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">range</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">})</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">indexMap</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Map</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">domain</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">map</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">d</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> [</span><span style="color:#A6ACCD;">d</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;">]))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">index</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">indexMap</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">x</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;">// O(1)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">range</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">index</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">%</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">range</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>这里不会深入讲解优化和实现更多比例尺的细节，感兴趣的同学可以去参考：<a href="https://github.com/d3/d3-scale" target="_blank" rel="noreferrer">d3-scale</a> 和 <a href="https://github.com/antvis/scale" target="_blank" rel="noreferrer">@antv/scale</a> 里面的实现。</p><h2 id="小结" tabindex="-1">小结 <a class="header-anchor" href="#小结" aria-hidden="true">#</a></h2><p>这篇文章我们先从了解比例尺理论开始，知道了比例尺的本质是一个函数，然后实现了一些常用的且在 Sparrow 后面会用到的比例尺。</p><p>这里简单总结一下根据数据属性的种类选择比例尺的思路。</p><table><thead><tr><th><strong>定义域</strong></th><th><strong>值域</strong></th><th><strong>比例尺</strong></th></tr></thead><tbody><tr><td>数值</td><td>数值</td><td>Linear、Time、Log</td></tr><tr><td>数值</td><td>序数</td><td>Band、Point</td></tr><tr><td>序数</td><td>序数</td><td>Ordinal</td></tr><tr><td>数值</td><td>序数</td><td>Threshold、Quantile、Quantize</td></tr></tbody></table><p>同时我们也可以回答最开始提出的三个问题了。</p><ul><li>为啥最后坐标轴生成的刻度的数量和希望的不一样？- 为了保证生成刻度的可读性，需要在希望刻度数量的基础上进行调整。</li><li>nice 到底有什么用？- 调整定义域的范围，从而生成可读性更强的刻度。</li><li>Threshold, Quantize, Quantile 比例尺有什么区别？- 获得将定义域分组的分割值的依据不同。Threshold 是使用指定的分割值，Quantize 是根据数据的绝对大小计算分割值，Quantile 是根据数据的排名来计算分割值。</li></ul><p>文章的最后也提出了我们可以优化的空间，希望大家可以多去了解。在开发完比例尺模块之后，下一章将带大家认识坐标系（Coordinate）。如果说比例尺侧重于编码的映射过程，那么坐标系就侧重于编码的布局过程了。</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d95ca36382a4483596fdef144ee3dc3a~tplv-k3u1fbpfcp-zoom-1.image" alt=""></p><blockquote><p>参考</p><ul><li>The Grammar of Graphics, 2nd Edition, Leland Wilkinson</li><li><a href="https://github.com/d3/d3-scale" target="_blank" rel="noreferrer">d3-scale</a></li><li><a href="https://observablehq.com/@d3/quantile-quantize-and-threshold-scales" target="_blank" rel="noreferrer">Quantile, Quantize and Threshold scales</a></li></ul></blockquote></div></div></main><!--[--><!--]--><footer class="VPDocFooter" data-v-37ebe389 data-v-a54a85bd><!----><div class="prev-next" data-v-a54a85bd><div class="pager" data-v-a54a85bd><a class="pager-link prev" href="/%E5%85%B6%E4%BB%96/%E5%8F%AF%E8%A7%86%E5%8C%96%E5%85%A5%E9%97%A8%EF%BC%9A%E4%BB%8E%200%20%E5%88%B0%201%20%E5%BC%80%E5%8F%91%E4%B8%80%E4%B8%AA%E5%9B%BE%E8%A1%A8%E5%BA%93/%E5%AE%9E%E6%88%98-%E6%90%AD%E5%BB%BA%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83.html" data-v-a54a85bd><span class="desc" data-v-a54a85bd>Previous page</span><span class="title" data-v-a54a85bd>实战-搭建开发环境.md</span></a></div><div class="has-prev pager" data-v-a54a85bd><a class="pager-link next" href="/%E5%85%B6%E4%BB%96/%E5%8F%AF%E8%A7%86%E5%8C%96%E5%85%A5%E9%97%A8%EF%BC%9A%E4%BB%8E%200%20%E5%88%B0%201%20%E5%BC%80%E5%8F%91%E4%B8%80%E4%B8%AA%E5%9B%BE%E8%A1%A8%E5%BA%93/%E5%AE%9E%E6%88%98-%E6%B8%B2%E6%9F%93%E5%BC%95%E6%93%8E%20-%20Renderer.html" data-v-a54a85bd><span class="desc" data-v-a54a85bd>Next page</span><span class="title" data-v-a54a85bd>实战-渲染引擎 - Renderer.md</span></a></div></div></footer><!--[--><!--]--></div></div></div></div></div><!----><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"javascript_周爱民-javascript核心原理解析_01-delete0-javascript中到底有什么是可以销毁的.md\":\"555573be\",\"javascript_周爱民-javascript核心原理解析_02-声明语句与语法改变了javascript语言核心性质.md\":\"30f4b80f\",\"javascript_周爱民-javascript核心原理解析_03-一道被无数人无数次地解释过的经典面试题.md\":\"9e5cdfd9\",\"javascript_周爱民-javascript核心原理解析_04-你无法导出一个匿名函数表达式.md\":\"bf484c99\",\"javascript_周爱民-javascript核心原理解析_05-for循环并不比使用函数递归节省开销.md\":\"d4d36ad2\",\"javascript_周爱民-javascript核心原理解析_06-搞懂如何在循环外使用break-方知语句执行真解.md\":\"48a84d0d\",\"javascript_周爱民-javascript核心原理解析_07-详解javascript中特殊的可执行结构.md\":\"6ae8ef4b\",\"javascript_周爱民-javascript核心原理解析_08-函数式语言的核心抽象-函数与表达式的同一性.md\":\"2ce0359d\",\"javascript_周爱民-javascript核心原理解析_09-不是表达式、语句、函数-但它却能执行.md\":\"075cec28\",\"javascript_周爱民-javascript核心原理解析_10-迭代过程的“函数式化”.md\":\"e562d26b\",\"javascript_周爱民-javascript核心原理解析_11-它在“最简单语法榜”上排名第三.md\":\"287944a4\",\"javascript_周爱民-javascript核心原理解析_12-这行代码的结果-既可能是true-也可能是false.md\":\"2449ebdf\",\"javascript_周爱民-javascript核心原理解析_13-newx-从构造器到类-为你揭密对象构造的全程.md\":\"0b21b868\",\"javascript_周爱民-javascript核心原理解析_14-虽然直到es10还是个半吊子实现-却也值得一讲.md\":\"573920df\",\"javascript_周爱民-javascript核心原理解析_15-做框架设计的基本功-写一个根类.md\":\"c35d246a\",\"javascript_周爱民-javascript核心原理解析_16-让你从一行代码看到对象的本质.md\":\"f3dadf75\",\"javascript_周爱民-javascript核心原理解析_17-连brendaneich都认错-但null值还活着.md\":\"f1e39fee\",\"javascript_周爱民-javascript核心原理解析_18-动态类型是灾难之源还是最好的特性（上）.md\":\"326cb012\",\"javascript_周爱民-javascript核心原理解析_19-动态类型是灾难之源还是最好的特性（下）.md\":\"df86da35\",\"javascript_周爱民-javascript核心原理解析_20-一行让严格模式形同虚设的破坏性设计（上）.md\":\"db02b1f1\",\"javascript_周爱民-javascript核心原理解析_21-一行让严格模式形同虚设的破坏性设计（下）.md\":\"8fe4077c\",\"javascript_周爱民-javascript核心原理解析_22-函数的类化是对动态与静态系统的再次统一.md\":\"4c8661aa\",\"javascript_周爱民-javascript核心原理解析_index.md\":\"7de2e5af\",\"javascript_周爱民-javascript核心原理解析_加餐-捡豆吃豆的学问（上）-这门课讲的是什么.md\":\"d1b3defd\",\"javascript_周爱民-javascript核心原理解析_加餐-捡豆吃豆的学问（下）-这门课该怎么学.md\":\"5cb42e8e\",\"javascript_周爱民-javascript核心原理解析_加餐-让javascript运行起来.md\":\"f9901c8f\",\"javascript_周爱民-javascript核心原理解析_结束语-愿你能做一个真正“懂”的程序员.md\":\"17e0fd76\",\"javascript_周爱民-javascript核心原理解析_结课测试-这些javascript知识-你真的掌握了吗.md\":\"949c08c0\",\"javascript_基于 javascript 开发灵活的数据应用_index.md\":\"3770e3b3\",\"javascript_基于 javascript 开发灵活的数据应用_动态数据应用 · 使用 vue.js 为数据流添加动态转换过滤器.md\":\"217d3007\",\"javascript_基于 javascript 开发灵活的数据应用_动态数据应用 · 应用高大上的动态数据流（上）.md\":\"14561c8f\",\"javascript_基于 javascript 开发灵活的数据应用_动态数据应用 · 应用高大上的动态数据流（下）.md\":\"827bb44d\",\"javascript_基于 javascript 开发灵活的数据应用_动态数据应用 · 用数据流概念重新理解数据转换.md\":\"1220ca9e\",\"javascript_基于 javascript 开发灵活的数据应用_基于 javascript 的数据应用开发概述.md\":\"67d66fef\",\"javascript_基于 javascript 开发灵活的数据应用_基于echarts 的基础表达性统计图表 · 散点图与折线图.md\":\"52df8ebc\",\"javascript_基于 javascript 开发灵活的数据应用_基于echarts 的基础表达性统计图表 · 柱状图与饼图.md\":\"a5faabdf\",\"javascript_基于 javascript 开发灵活的数据应用_基本数据处理 · 基本统计.md\":\"e451cf0a\",\"javascript_基于 javascript 开发灵活的数据应用_基本数据处理 · 字符串和数字.md\":\"32237c68\",\"javascript_基于 javascript 开发灵活的数据应用_基本数据处理 · 对象字面量.md\":\"e4735194\",\"javascript_基于 javascript 开发灵活的数据应用_基本数据处理 · 数组.md\":\"55498281\",\"javascript_基于 javascript 开发灵活的数据应用_复杂数据图表 · 关系图谱.md\":\"67a2563d\",\"javascript_基于 javascript 开发灵活的数据应用_复杂数据图表 · 树形图.md\":\"6df590b5\",\"javascript_基于 javascript 开发灵活的数据应用_复杂数据图表 · 箱线图.md\":\"f6a82748\",\"javascript_基于 javascript 开发灵活的数据应用_复杂数据处理 · 使用序列.md\":\"25c6c527\",\"javascript_基于 javascript 开发灵活的数据应用_复杂数据处理 · 关系图谱.md\":\"1530d67d\",\"javascript_基于 javascript 开发灵活的数据应用_复杂数据处理 · 树形.md\":\"6eacfc0e\",\"javascript_基于 javascript 开发灵活的数据应用_复杂数据处理 · 结构转换（上）.md\":\"b39c85d6\",\"javascript_基于 javascript 开发灵活的数据应用_复杂数据处理 · 结构转换（下）.md\":\"987dbb3c\",\"javascript_基于 javascript 开发灵活的数据应用_数据分析师的好帮手 · 辅助线.md\":\"8b4a972b\",\"javascript_基于 javascript 开发灵活的数据应用_更高维度的数据可视化图表.md\":\"d23558c0\",\"javascript_李兵-图解googlev8_01-v8是如何执行一段javascript代码的.md\":\"9450982d\",\"javascript_李兵-图解googlev8_02-函数即对象-一篇文章彻底搞懂javascript的函数特点.md\":\"fac7c583\",\"javascript_李兵-图解googlev8_03-快属性和慢属性-v8是怎样提升对象属性访问速度的.md\":\"b3ac13b2\",\"javascript_李兵-图解googlev8_04-函数表达式-涉及大量概念-函数表达式到底该怎么学.md\":\"8948d627\",\"javascript_李兵-图解googlev8_05｜原型链-v8是如何实现对象继承的.md\":\"2f6523bf\",\"javascript_李兵-图解googlev8_06｜作用域链-v8是如何查找变量的.md\":\"890b40ec\",\"javascript_李兵-图解googlev8_07｜类型转换-v8是怎么实现1 加 2的.md\":\"5f62eaa2\",\"javascript_李兵-图解googlev8_08｜答疑-如何构建和使用v8的调试工具d8.md\":\"d1e20f6b\",\"javascript_李兵-图解googlev8_09-运行时环境-运行javascript代码的基石.md\":\"e556c7db\",\"javascript_李兵-图解googlev8_10-机器代码-二进制机器码究竟是如何被cpu执行的.md\":\"d6605c1e\",\"javascript_李兵-图解googlev8_11-堆和栈-函数调用是如何影响到内存布局的.md\":\"9500f753\",\"javascript_李兵-图解googlev8_12-延迟解析-v8是如何实现闭包的.md\":\"1c303d68\",\"javascript_李兵-图解googlev8_13-字节码（一）-v8为什么又重新引入字节码.md\":\"e3ebfa19\",\"javascript_李兵-图解googlev8_14｜字节码（二）-解释器是如何解释执行字节码的.md\":\"8c8a1174\",\"javascript_李兵-图解googlev8_15-隐藏类-如何在内存中快速查找对象属性.md\":\"457c6c88\",\"javascript_李兵-图解googlev8_16-答疑-v8是怎么通过内联缓存来提升函数执行效率的.md\":\"01593bb0\",\"javascript_李兵-图解googlev8_17-消息队列-v8是怎么实现回调函数的.md\":\"09f83862\",\"javascript_李兵-图解googlev8_18-异步编程（一）-v8是如何实现微任务的.md\":\"53a4c032\",\"javascript_李兵-图解googlev8_19｜异步编程（二）-v8是如何实现async or await的.md\":\"551c4268\",\"javascript_李兵-图解googlev8_20-垃圾回收（一）-v8的两个垃圾回收器是如何工作的.md\":\"546a1fc6\",\"javascript_李兵-图解googlev8_21-垃圾回收（二）-v8是如何优化垃圾回收器执行效率的.md\":\"3980d1d7\",\"javascript_李兵-图解googlev8_22｜答疑-几种常见内存问题的解决策略.md\":\"63f22ce6\",\"javascript_李兵-图解googlev8_index.md\":\"f6ee2bad\",\"javascript_李兵-图解googlev8_结束语-我的前端学习踩坑史.md\":\"c6529d05\",\"javascript_李兵-图解googlev8_结课测试-这些v8的知识你都掌握了吗.md\":\"4ca989d5\",\"javascript_李兵-浏览器工作原理与实践_01-chrome架构-仅仅打开了1个页面-为什么有4个进程.md\":\"d9fada88\",\"javascript_李兵-浏览器工作原理与实践_02-tcp协议-如何保证页面文件能被完整送达浏览器.md\":\"1e25a17b\",\"javascript_李兵-浏览器工作原理与实践_03-http请求流程-为什么很多站点第二次打开速度会很快.md\":\"c2d6fe33\",\"javascript_李兵-浏览器工作原理与实践_04-导航流程-从输入url到页面展示-这中间发生了什么.md\":\"f1e91e75\",\"javascript_李兵-浏览器工作原理与实践_05-渲染流程（上）-html、css和javascript-是如何变成页面的.md\":\"b4d87fb2\",\"javascript_李兵-浏览器工作原理与实践_06-渲染流程（下）-html、css和javascript-是如何变成页面的.md\":\"0c8cd379\",\"javascript_李兵-浏览器工作原理与实践_07-变量提升-javascript代码是按顺序执行的吗.md\":\"3c5a2f4f\",\"javascript_李兵-浏览器工作原理与实践_08-调用栈-为什么javascript代码会出现栈溢出.md\":\"1e57b92b\",\"javascript_李兵-浏览器工作原理与实践_09-块级作用域-var缺陷以及为什么要引入let和const.md\":\"13e04b16\",\"javascript_李兵-浏览器工作原理与实践_10-作用域链和闭包-代码中出现相同的变量-javascript引擎是如何选择的.md\":\"addab5f3\",\"javascript_李兵-浏览器工作原理与实践_11-this-从javascript执行上下文的视角讲清楚this.md\":\"6e650654\",\"javascript_李兵-浏览器工作原理与实践_12-栈空间和堆空间-数据是如何存储的.md\":\"6a10f021\",\"javascript_李兵-浏览器工作原理与实践_13-垃圾回收-垃圾数据是如何自动回收的.md\":\"5dc34007\",\"javascript_李兵-浏览器工作原理与实践_14-编译器和解释器-v8是如何执行一段javascript代码的.md\":\"d527f540\",\"javascript_李兵-浏览器工作原理与实践_15-消息队列和事件循环-页面是怎么“活”起来的.md\":\"5aa20d4d\",\"javascript_李兵-浏览器工作原理与实践_16-webapi-settimeout是如何实现的.md\":\"10865bf3\",\"javascript_李兵-浏览器工作原理与实践_17-webapi-xmlhttprequest是怎么实现的.md\":\"a0d6edc8\",\"javascript_李兵-浏览器工作原理与实践_18-宏任务和微任务-不是所有任务都是一个待遇.md\":\"e7472384\",\"javascript_李兵-浏览器工作原理与实践_19-promise-使用promise-告别回调函数.md\":\"5a6ac99f\",\"javascript_李兵-浏览器工作原理与实践_20-async or await-使用同步的方式去写异步代码.md\":\"2993caf6\",\"javascript_李兵-浏览器工作原理与实践_21-chrome开发者工具-利用网络面板做性能分析.md\":\"ffdd22a0\",\"javascript_李兵-浏览器工作原理与实践_22-dom树-javascript是如何影响dom树构建的.md\":\"f3c5a862\",\"javascript_李兵-浏览器工作原理与实践_23-渲染流水线-css如何影响首次加载时的白屏时间.md\":\"28b9778f\",\"javascript_李兵-浏览器工作原理与实践_24-分层和合成机制-为什么css动画比javascript高效.md\":\"c21b9d12\",\"javascript_李兵-浏览器工作原理与实践_25-页面性能-如何系统地优化页面.md\":\"2423edfd\",\"javascript_李兵-浏览器工作原理与实践_26-虚拟dom-虚拟dom和实际的dom有何不同.md\":\"238d18d0\",\"javascript_李兵-浏览器工作原理与实践_27-渐进式网页应用（pwa）-它究竟解决了web应用的哪些问题.md\":\"90a2a10e\",\"javascript_李兵-浏览器工作原理与实践_28-webcomponent-像搭积木一样构建web应用.md\":\"c8b10f6a\",\"javascript_李兵-浏览器工作原理与实践_29-http or 1-http性能优化.md\":\"5adcc926\",\"javascript_李兵-浏览器工作原理与实践_30｜http or 2-如何提升网络速度.md\":\"253a85e6\",\"javascript_李兵-浏览器工作原理与实践_31｜http or 3-甩掉tcp、tls的包袱-构建高效网络.md\":\"d872c34e\",\"javascript_李兵-浏览器工作原理与实践_32-同源策略-为什么xmlhttprequest不能跨域请求资源.md\":\"1d04f2c9\",\"javascript_李兵-浏览器工作原理与实践_33-跨站脚本攻击（xss）-为什么cookie中有httponly属性.md\":\"c23129f1\",\"javascript_李兵-浏览器工作原理与实践_34-csrf攻击-陌生链接不要随便点.md\":\"b264d6bf\",\"javascript_李兵-浏览器工作原理与实践_35-安全沙箱-页面和系统之间的隔离墙.md\":\"391894c8\",\"javascript_李兵-浏览器工作原理与实践_36-https-让数据传输更安全.md\":\"7beadae7\",\"javascript_李兵-浏览器工作原理与实践_index.md\":\"88f123c8\",\"javascript_李兵-浏览器工作原理与实践_加餐一｜浏览上下文组-如何计算chrome中渲染进程的个数.md\":\"e8235cb0\",\"javascript_李兵-浏览器工作原理与实践_加餐三｜加载阶段性能-使用audits来优化web性能.md\":\"824c5c09\",\"javascript_李兵-浏览器工作原理与实践_加餐二｜任务调度-有了settimeout-为什么还要使用raf.md\":\"c14f954d\",\"javascript_李兵-浏览器工作原理与实践_加餐五-性能分析工具-如何分析performance中的main指标.md\":\"8d38a13f\",\"javascript_李兵-浏览器工作原理与实践_加餐六｜https-浏览器如何验证数字证书.md\":\"cf719b44\",\"javascript_李兵-浏览器工作原理与实践_加餐四｜页面性能工具-如何使用performance.md\":\"cbe10d7d\",\"javascript_李兵-浏览器工作原理与实践_第二季回归-这次我们来专门聊聊v8.md\":\"8be992fb\",\"javascript_李兵-浏览器工作原理与实践_结束语-大道至简.md\":\"827438cd\",\"javascript_李兵-浏览器工作原理与实践_结课测试-这些浏览器的知识你都掌握了吗.md\":\"314ca15f\",\"javascript_程劭非（winter）-重学前端_cssflex排版-为什么垂直居中这么难.md\":\"512a2f6b\",\"javascript_程劭非（winter）-重学前端_css动画与交互-为什么动画要用贝塞尔曲线这么奇怪的东西.md\":\"80e6ecc5\",\"javascript_程劭非（winter）-重学前端_css小实验-动手做-用代码挖掘css属性.md\":\"fe47f408\",\"javascript_程劭非（winter）-重学前端_css排版-从毕升开始-我们就开始用正常流了.md\":\"95563633\",\"javascript_程劭非（winter）-重学前端_css渲染-css是如何绘制颜色的.md\":\"6a0a8c08\",\"javascript_程劭非（winter）-重学前端_css语法-除了属性和选择器-你还需要知道这些带@的规则.md\":\"15e3781d\",\"javascript_程劭非（winter）-重学前端_css选择器-伪元素是怎么回事儿.md\":\"e22c9d8e\",\"javascript_程劭非（winter）-重学前端_css选择器-如何选中svg里的a元素.md\":\"21e6ccc9\",\"javascript_程劭非（winter）-重学前端_html·aria-可访问性是只给盲人用的特性么.md\":\"9b7db324\",\"javascript_程劭非（winter）-重学前端_html元信息类标签-你知道head里一共能写哪几种标签吗.md\":\"bf45ace8\",\"javascript_程劭非（winter）-重学前端_html小实验-用代码分析html标准.md\":\"11af0aa7\",\"javascript_程劭非（winter）-重学前端_html替换型元素-为什么link一个css要用href-而引入js要用src呢.md\":\"bd7b4ebe\",\"javascript_程劭非（winter）-重学前端_html语义-div和span不是够用了吗.md\":\"f478999b\",\"javascript_程劭非（winter）-重学前端_html语义-如何运用语义类标签来呈现wiki网页.md\":\"b97327d0\",\"javascript_程劭非（winter）-重学前端_html语言-dtd到底是什么.md\":\"0a0623e1\",\"javascript_程劭非（winter）-重学前端_html链接-除了a标签-还有哪些标签叫链接.md\":\"1e229e93\",\"javascript_程劭非（winter）-重学前端_javascript对象-你知道全部的对象分类吗.md\":\"def403ab\",\"javascript_程劭非（winter）-重学前端_javascript对象-我们真的需要模拟类吗.md\":\"a3c986ad\",\"javascript_程劭非（winter）-重学前端_javascript对象-面向对象还是基于对象.md\":\"8c098a7d\",\"javascript_程劭非（winter）-重学前端_javascript执行（一）-promise里的代码为什么比settimeout先执行.md\":\"395a469a\",\"javascript_程劭非（winter）-重学前端_javascript执行（三）-你知道现在有多少种函数吗.md\":\"c850f353\",\"javascript_程劭非（winter）-重学前端_javascript执行（二）-闭包和执行上下文到底是怎么回事.md\":\"8e2b9ad5\",\"javascript_程劭非（winter）-重学前端_javascript执行（四）-try里面放return-finally还会执行吗.md\":\"04e60074\",\"javascript_程劭非（winter）-重学前端_javascript类型-关于类型-有哪些你不知道的细节.md\":\"1b4202ba\",\"javascript_程劭非（winter）-重学前端_javascript词法-为什么12.tostring会报错.md\":\"42d1532c\",\"javascript_程劭非（winter）-重学前端_javascript语法（一）-在script标签写export为什么会抛错.md\":\"64bd6108\",\"javascript_程劭非（winter）-重学前端_javascript语法（三）-什么是表达式语句.md\":\"3edf4c39\",\"javascript_程劭非（winter）-重学前端_javascript语法（二）-你知道哪些javascript语句.md\":\"2a77e99a\",\"javascript_程劭非（winter）-重学前端_javascript语法（四）-新加入的--运算符-哪里有些不一样呢.md\":\"d5869644\",\"javascript_程劭非（winter）-重学前端_javascript语法（预备篇）-到底要不要写分号呢.md\":\"a70f54a1\",\"javascript_程劭非（winter）-重学前端_index.md\":\"9a8307b1\",\"javascript_程劭非（winter）-重学前端_免费学习-手把手带你实现一个极简的react框架.md\":\"8123ce5f\",\"javascript_程劭非（winter）-重学前端_列一份前端知识架构图.md\":\"dfb08482\",\"javascript_程劭非（winter）-重学前端_前端架构-前端架构有哪些核心问题.md\":\"63d8f79f\",\"javascript_程劭非（winter）-重学前端_加餐-一个前端工程师到底需要掌握哪些技能.md\":\"074787e2\",\"javascript_程劭非（winter）-重学前端_加餐-前端与图形学.md\":\"77f1eb15\",\"javascript_程劭非（winter）-重学前端_加餐-前端交互基础设施的建设.md\":\"0a143188\",\"javascript_程劭非（winter）-重学前端_尾声-长风破浪会有时-直挂云帆济沧海.md\":\"6dca1031\",\"javascript_程劭非（winter）-重学前端_工具链-什么样的工具链才能提升团队效率.md\":\"e16809c5\",\"javascript_程劭非（winter）-重学前端_性能-前端的性能到底对业务数据有多大的影响.md\":\"ed789777\",\"javascript_程劭非（winter）-重学前端_持续集成-几十个前端一起工作-如何保证工作质量.md\":\"32fd304b\",\"javascript_程劭非（winter）-重学前端_搭建系统-大量的低价值需求应该如何应对.md\":\"9b8dc632\",\"javascript_程劭非（winter）-重学前端_新年彩蛋-2019-有哪些前端技术值得关注.md\":\"f3783ca5\",\"javascript_程劭非（winter）-重学前端_明确你的前端学习路线与方法.md\":\"0a13c483\",\"javascript_程劭非（winter）-重学前端_期末答疑（一）-前端代码单元测试怎么做.md\":\"44e426ca\",\"javascript_程劭非（winter）-重学前端_期末答疑（二）-前端架构中-每个逻辑页面如何可以做到独立发布呢.md\":\"422c9c96\",\"javascript_程劭非（winter）-重学前端_浏览器-一个浏览器是如何工作的（阶段一）.md\":\"cc820aad\",\"javascript_程劭非（winter）-重学前端_浏览器-一个浏览器是如何工作的（阶段三）.md\":\"43ec30b0\",\"javascript_程劭非（winter）-重学前端_浏览器-一个浏览器是如何工作的（阶段二）.md\":\"d27ba76f\",\"javascript_程劭非（winter）-重学前端_浏览器-一个浏览器是如何工作的（阶段五）.md\":\"315d2506\",\"javascript_程劭非（winter）-重学前端_浏览器-一个浏览器是如何工作的（阶段四）.md\":\"bc258eeb\",\"javascript_程劭非（winter）-重学前端_浏览器api（小实验）-动手整理全部api.md\":\"7f781e2f\",\"javascript_程劭非（winter）-重学前端_浏览器cssom-如何获取一个元素的准确位置.md\":\"6a2830c1\",\"javascript_程劭非（winter）-重学前端_浏览器dom-你知道html的节点有哪几种吗.md\":\"fc237d45\",\"javascript_程劭非（winter）-重学前端_浏览器事件-为什么会有捕获过程和冒泡过程.md\":\"20f74eb1\",\"javascript_程劭非（winter）-重学前端_用户故事-那些你与“重学前端”的不解之缘.md\":\"0707d27f\",\"javascript_程劭非（winter）-重学前端_答疑加餐-学了这么多前端的“小众”知识-到底对我有什么帮助.md\":\"53ecc7d9\",\"javascript_程劭非（winter）-重学前端_（小实验）理解编译原理-一个四则运算的解释器.md\":\"27d63494\",\"node.js_nestjs 项目实战_faq-学习篇.md\":\"6f921654\",\"node.js_nestjs 项目实战_index.md\":\"ad8cae93\",\"node.js_nestjs 项目实战_基础篇-自定义日志.md\":\"9472db12\",\"node.js_nestjs 项目实战_基础篇-鉴权与登录.md\":\"b57c05a3\",\"node.js_nestjs 项目实战_学习里程碑-基础篇完结.md\":\"9596d505\",\"node.js_nestjs 项目实战_完结篇-课程总结.md\":\"b603653c\",\"node.js_nestjs 项目实战_工具篇-数据库.md\":\"d03d5639\",\"node.js_nestjs 项目实战_工具篇-飞书应用对接.md\":\"6e6c7b1a\",\"node.js_nestjs 项目实战_新手篇-熟悉 nestjs.md\":\"532044bf\",\"node.js_nestjs 项目实战_物料篇-物料开发与构建.md\":\"711e8ff2\",\"node.js_nestjs 项目实战_物料篇-物料系统设计.md\":\"85f9b8d1\",\"node.js_nestjs 项目实战_用户篇-rbac 权限设计.md\":\"d4c104d8\",\"node.js_nestjs 项目实战_网关篇-代理与缓存.md\":\"0f0bf9b0\",\"node.js_nestjs 项目实战_设计篇-技术选型.md\":\"d5cb3fd9\",\"node.js_nestjs 项目实战_设计篇-需求分析.md\":\"15089370\",\"node.js_nestjs 项目实战_进阶篇-应用部署.md\":\"62537205\",\"node.js_nestjs 项目实战_进阶篇-微服务.md\":\"9c69af0c\",\"node.js_nestjs 项目实战_进阶篇-自动化测试.md\":\"ff6065dc\",\"node.js_nestjs 项目实战_进阶篇-项目拆分.md\":\"949f4001\",\"node.js_nestjs 项目实战_配置篇-基础功能配置.md\":\"0334c7c5\",\"node.js_node and react 实战：从 0 到 1 实现记账本_index.md\":\"ee0fe97d\",\"node.js_node and react 实战：从 0 到 1 实现记账本_上半场结束｜服务端总结.md\":\"8944ec7b\",\"node.js_node and react 实战：从 0 到 1 实现记账本_前端实战-vite 2.0 react zarmui 搭建前端 h5 开发环境.md\":\"9cee1061\",\"node.js_node and react 实战：从 0 到 1 实现记账本_前端实战-个人中心.md\":\"6712b8c7\",\"node.js_node and react 实战：从 0 到 1 实现记账本_前端实战-底部导航栏.md\":\"37aa4196\",\"node.js_node and react 实战：从 0 到 1 实现记账本_前端实战-新增账单弹窗封装.md\":\"0479e1c1\",\"node.js_node and react 实战：从 0 到 1 实现记账本_前端实战-登录注册页面.md\":\"4caf87c7\",\"node.js_node and react 实战：从 0 到 1 实现记账本_前端实战-账单列表页.md\":\"07354e2e\",\"node.js_node and react 实战：从 0 到 1 实现记账本_前端实战-账单数据统计页.md\":\"144d7e19\",\"node.js_node and react 实战：从 0 到 1 实现记账本_前端实战-账单详情页.md\":\"2537d035\",\"node.js_node and react 实战：从 0 到 1 实现记账本_前端预备-vite 2.0 下一代前度开发构建工具.md\":\"9aa5ba4f\",\"node.js_node and react 实战：从 0 到 1 实现记账本_前端预备-从一个数据请求，入门 react hooks.md\":\"ea1a3df0\",\"node.js_node and react 实战：从 0 到 1 实现记账本_前端预备-现代前端框架单页面概念.md\":\"303aa29e\",\"node.js_node and react 实战：从 0 到 1 实现记账本_后端实战-egg-jwt 实现用户鉴权（注册、登录）.md\":\"588aa488\",\"node.js_node and react 实战：从 0 到 1 实现记账本_后端实战-后端实战-用户信息相关接口实现（修改个签、修改密码、上传头像）.md\":\"918a62e8\",\"node.js_node and react 实战：从 0 到 1 实现记账本_后端实战-数据库表的设计.md\":\"ead08fae\",\"node.js_node and react 实战：从 0 到 1 实现记账本_后端实战-账单及其相关接口实现.md\":\"299a4c92\",\"node.js_node and react 实战：从 0 到 1 实现记账本_后端预备-egg.js 基础入门及项目初始化介绍.md\":\"f99545ce\",\"node.js_node and react 实战：从 0 到 1 实现记账本_后端预备-mysql 本地安装(win  mac).md\":\"1aa41373\",\"node.js_node and react 实战：从 0 到 1 实现记账本_后端预备-可视化数据库工具 dbeaver 的安装和使用.md\":\"b5bec927\",\"node.js_node and react 实战：从 0 到 1 实现记账本_开篇词.md\":\"049815d9\",\"node.js_node and react 实战：从 0 到 1 实现记账本_问题汇总(持续更新).md\":\"09503a8e\",\"node.js_node and react 实战：从 0 到 1 实现记账本_项目部署上线.md\":\"ccc25308\",\"node.js_基于 go 语言构建企业级的 restful api 服务_api 流程和代码结构.md\":\"3d144043\",\"node.js_基于 go 语言构建企业级的 restful api 服务_go api 开发环境配置.md\":\"f3d1119b\",\"node.js_基于 go 语言构建企业级的 restful api 服务_restful api 介绍.md\":\"3c79f51e\",\"node.js_基于 go 语言构建企业级的 restful api 服务_index.md\":\"88e7db74\",\"node.js_基于 go 语言构建企业级的 restful api 服务_基础 1-启动一个最简单的 restful api 服务器.md\":\"61d95758\",\"node.js_基于 go 语言构建企业级的 restful api 服务_基础 10-api 身份验证.md\":\"8298c069\",\"node.js_基于 go 语言构建企业级的 restful api 服务_基础 2-配置文件读取.md\":\"568318aa\",\"node.js_基于 go 语言构建企业级的 restful api 服务_基础 3-记录和管理 api 日志.md\":\"5dfb92a3\",\"node.js_基于 go 语言构建企业级的 restful api 服务_基础 4-安装 mysql 并初始化表.md\":\"a11fc3ca\",\"node.js_基于 go 语言构建企业级的 restful api 服务_基础 5-初始化 mysql 数据库并建立连接.md\":\"2f269fb1\",\"node.js_基于 go 语言构建企业级的 restful api 服务_基础 6-自定义业务错误信息.md\":\"1926acad\",\"node.js_基于 go 语言构建企业级的 restful api 服务_基础 7-读取和返回 http 请求.md\":\"8098825a\",\"node.js_基于 go 语言构建企业级的 restful api 服务_基础 8-用户业务逻辑处理.md\":\"86159779\",\"node.js_基于 go 语言构建企业级的 restful api 服务_基础 9-http 调用添加自定义处理逻辑.md\":\"7302b32b\",\"node.js_基于 go 语言构建企业级的 restful api 服务_总结.md\":\"35cf7d19\",\"node.js_基于 go 语言构建企业级的 restful api 服务_拓展 1-go 开发技巧.md\":\"883b1987\",\"node.js_基于 go 语言构建企业级的 restful api 服务_拓展 2-go 规范指南.md\":\"8ae478c3\",\"node.js_基于 go 语言构建企业级的 restful api 服务_本小册所实现的 api 功能.md\":\"fd1fc058\",\"node.js_基于 go 语言构建企业级的 restful api 服务_进阶 1-用 https 加密 api 请求.md\":\"e6d07709\",\"node.js_基于 go 语言构建企业级的 restful api 服务_进阶 10-api 性能测试和调优.md\":\"8e03edaf\",\"node.js_基于 go 语言构建企业级的 restful api 服务_进阶 2-用 makefile 管理 api 项目.md\":\"2d5307a2\",\"node.js_基于 go 语言构建企业级的 restful api 服务_进阶 3-给 api 命令增加版本功能.md\":\"c99a0fe0\",\"node.js_基于 go 语言构建企业级的 restful api 服务_进阶 4-给 api 增加启动脚本.md\":\"c54795d4\",\"node.js_基于 go 语言构建企业级的 restful api 服务_进阶 5-基于 nginx 的 api 部署方案.md\":\"1ff0e127\",\"node.js_基于 go 语言构建企业级的 restful api 服务_进阶 6-api 高可用方案.md\":\"24738cf3\",\"node.js_基于 go 语言构建企业级的 restful api 服务_进阶 7-go test 测试你的代码.md\":\"4cfaa3a3\",\"node.js_基于 go 语言构建企业级的 restful api 服务_进阶 8-api 性能分析.md\":\"41e40676\",\"node.js_基于 go 语言构建企业级的 restful api 服务_进阶 9-生成 swagger 在线文档.md\":\"693469ed\",\"node.js_基于 node 的 devops 实战_node 业务篇 - jenkins and node.md\":\"716e0fc1\",\"node.js_基于 node 的 devops 实战_node 业务篇 - 流程开发.md\":\"80ca7c37\",\"node.js_基于 node 的 devops 实战_node 工具篇 - gitlab api.md\":\"13d73f93\",\"node.js_基于 node 的 devops 实战_node 工具篇 - 全局与工具类.md\":\"916affaf\",\"node.js_基于 node 的 devops 实战_node 新手篇 - egg.md\":\"985548ee\",\"node.js_基于 node 的 devops 实战_react 基础篇 - 前端界面开发.md\":\"8e3951b1\",\"node.js_基于 node 的 devops 实战_index.md\":\"167ee1e4\",\"node.js_基于 node 的 devops 实战_学习里程碑   - 客户端完结.md\":\"7ecd7235\",\"node.js_基于 node 的 devops 实战_学习里程碑   - 服务端完结.md\":\"41a4de87\",\"node.js_基于 node 的 devops 实战_插件篇 - vscode.md\":\"d32d9db0\",\"node.js_基于 node 的 devops 实战_最终章-旅程的终点.md\":\"29e230a8\",\"node.js_基于 node 的 devops 实战_构建篇 - docker.md\":\"7b24b142\",\"node.js_基于 node 的 devops 实战_构建篇 - jenkins 进阶.md\":\"fc9000c5\",\"node.js_基于 node 的 devops 实战_构建篇 - 代码审查卡点.md\":\"27832871\",\"node.js_基于 node 的 devops 实战_环境篇 - 环境配置.md\":\"862957ca\",\"node.js_基于 node 的 devops 实战_环境篇 - 虚拟机 and gitlab.md\":\"53baca1a\",\"node.js_基于 node 的 devops 实战_监控篇 - 服务性能监控.md\":\"926bcd5e\",\"node.js_基于 node 的 devops 实战_监控篇 - 线上埋点、预警.md\":\"839fba28\",\"node.js_基于 node 的 devops 实战_综合篇 - 整体流程打通.md\":\"d57b3633\",\"node.js_基于 node 的 devops 实战_脚手架篇 - cli 工具.md\":\"1028f75e\",\"node.js_基于 node 的 devops 实战_脚手架篇 - 基础模板.md\":\"abefd8fb\",\"node.js_基于 node 的 devops 实战_设计篇- 项目分析与设计.md\":\"407200a7\",\"node.js_基于 node 的 devops 实战_部署篇 - kubernetes.md\":\"13d85220\",\"node.js_基于 hapi 的 node.js 小程序后端开发实践指南_index.md\":\"5d5813ce\",\"node.js_基于 hapi 的 node.js 小程序后端开发实践指南_基础篇 1-小程序需求分析与基础设计.md\":\"b89f6cde\",\"node.js_基于 hapi 的 node.js 小程序后端开发实践指南_基础篇 2-后端技术选型 —— node.js and hapi.md\":\"a0599f19\",\"node.js_基于 hapi 的 node.js 小程序后端开发实践指南_基础篇 3-欲善事先利器 —— node.js 调试技巧.md\":\"5998a177\",\"node.js_基于 hapi 的 node.js 小程序后端开发实践指南_实战篇 1-项目工程初始化 —— 使用 hapi.md\":\"049960c3\",\"node.js_基于 hapi 的 node.js 小程序后端开发实践指南_实战篇 10-服务部署发布 —— 使用小程序开发者工具.md\":\"c5708faf\",\"node.js_基于 hapi 的 node.js 小程序后端开发实践指南_实战篇 2-接口契约与入参校验 ——  使用 swagger and joi.md\":\"e5fe4dd7\",\"node.js_基于 hapi 的 node.js 小程序后端开发实践指南_实战篇 3-表结构设计、迁移与数据填充 —— 使用 sequelize-cli.md\":\"998af4a0\",\"node.js_基于 hapi 的 node.js 小程序后端开发实践指南_实战篇 4-小程序列表获取 —— 使用 sequelize.md\":\"fe15c814\",\"node.js_基于 hapi 的 node.js 小程序后端开发实践指南_实战篇 5-身份验证设计 —— 使用 jwt.md\":\"c7e1ac05\",\"node.js_基于 hapi 的 node.js 小程序后端开发实践指南_实战篇 6-身份验证实现 —— 使用 hapi-auth-jwt2.md\":\"cd442594\",\"node.js_基于 hapi 的 node.js 小程序后端开发实践指南_实战篇 7-小程序登录授权 与 jwt 签发.md\":\"a81cf061\",\"node.js_基于 hapi 的 node.js 小程序后端开发实践指南_实战篇 8-小程序订单创建 —— 使用事务.md\":\"dd4e7820\",\"node.js_基于 hapi 的 node.js 小程序后端开发实践指南_实战篇 9-小程序订单支付 —— 微信支付.md\":\"831667f1\",\"node.js_基于 hapi 的 node.js 小程序后端开发实践指南_尾声 -项目回顾，温故知新.md\":\"18cba04b\",\"node.js_基于 hapi 的 node.js 小程序后端开发实践指南_开篇- 小程序的 node.js 全栈之路.md\":\"f6870e25\",\"node.js_基于 hapi 的 node.js 小程序后端开发实践指南_拓展篇 1-系统监控与记录 —— 使用 good 插件.md\":\"5362000f\",\"node.js_基于 hapi 的 node.js 小程序后端开发实践指南_拓展篇 2-系统稳定性测试 —— 使用 lab and code.md\":\"b6c5f649\",\"node.js_蒲松洋（秦粤）-serverless入门课_01｜定义-到底什么是serverless.md\":\"b8f502e9\",\"node.js_蒲松洋（秦粤）-serverless入门课_02-原理-通过一个案例-理解faas的运行逻辑.md\":\"75400b47\",\"node.js_蒲松洋（秦粤）-serverless入门课_03-原理-faas的两种进程模型及应用场景.md\":\"0ab3eb47\",\"node.js_蒲松洋（秦粤）-serverless入门课_04-原理-faas应用如何才能快速扩缩容.md\":\"35a2eec3\",\"node.js_蒲松洋（秦粤）-serverless入门课_05-后端baas化（上）-noops的微服务.md\":\"7db233e0\",\"node.js_蒲松洋（秦粤）-serverless入门课_06-后端baas化（中）-业务逻辑的拆与合.md\":\"25b4e467\",\"node.js_蒲松洋（秦粤）-serverless入门课_07-后端baas化（下）-containerserverless.md\":\"b6c5fa60\",\"node.js_蒲松洋（秦粤）-serverless入门课_08-搭建私有serverless（一）-k8s和云原生cncf.md\":\"b7267bbc\",\"node.js_蒲松洋（秦粤）-serverless入门课_09-搭建私有serverless（二）-基于k8s的serverless.md\":\"80f35220\",\"node.js_蒲松洋（秦粤）-serverless入门课_10-经验-serverless架构应该如何选型.md\":\"4bffdc65\",\"node.js_蒲松洋（秦粤）-serverless入门课_11-经验-serverless开发最佳实践.md\":\"121314f0\",\"node.js_蒲松洋（秦粤）-serverless入门课_index.md\":\"982f3d92\",\"node.js_蒲松洋（秦粤）-serverless入门课_期末测试-有关serverless-你掌握了多少呢.md\":\"022458f7\",\"node.js_蒲松洋（秦粤）-serverless入门课_特别放送-为什么阿里要举集团之力趟坑serverless.md\":\"ecf08376\",\"node.js_蒲松洋（秦粤）-serverless入门课_结束语-带你整体回顾我们的serverless案例.md\":\"8232b349\",\"node.js_蒲松洋（秦粤）-serverless入门课_结课问卷获奖用户名单.md\":\"12080231\",\"react.js_electron and react 从 0 到 1 实现简历平台实战_1000米里程碑-简历主流程完成.md\":\"0aa50863\",\"react.js_electron and react 从 0 到 1 实现简历平台实战_1500米里程碑-丰富功能.md\":\"a78cb475\",\"react.js_electron and react 从 0 到 1 实现简历平台实战_500米里程-环境搭建篇完成.md\":\"11aa41e0\",\"react.js_electron and react 从 0 到 1 实现简历平台实战_index.md\":\"aeef28a8\",\"react.js_electron and react 从 0 到 1 实现简历平台实战_业务篇-如何写我们的redux与file.md\":\"f6bfd4a2\",\"react.js_electron and react 从 0 到 1 实现简历平台实战_业务篇-思考并补全遗漏的功能细节，整体优化代码，让应用更健壮.md\":\"fc612101\",\"react.js_electron and react 从 0 到 1 实现简历平台实战_业务篇-简历制作之入口页面开发.md\":\"c5c369dd\",\"react.js_electron and react 从 0 到 1 实现简历平台实战_业务篇-简历制作之导出pdf.md\":\"a7722ea7\",\"react.js_electron and react 从 0 到 1 实现简历平台实战_业务篇-简历制作之工具条模块与简历模版之间通信.md\":\"42769c77\",\"react.js_electron and react 从 0 到 1 实现简历平台实战_业务篇-简历制作之常用组件设计与简历数据设计.md\":\"59eb2753\",\"react.js_electron and react 从 0 到 1 实现简历平台实战_业务篇-简历制作之数据的录入与展示.md\":\"124d1571\",\"react.js_electron and react 从 0 到 1 实现简历平台实战_业务篇-简历数据存档且自定义存储路径（多窗口）.md\":\"a23bd5d3\",\"react.js_electron and react 从 0 到 1 实现简历平台实战_业务篇-简历模版列表实现与侧边栏交互效果.md\":\"f1fb5ca0\",\"react.js_electron and react 从 0 到 1 实现简历平台实战_业务篇-首页主题换肤功能实现且hooks优化逻辑.md\":\"12f0744b\",\"react.js_electron and react 从 0 到 1 实现简历平台实战_业务篇-首页开发，好的印象能加分.md\":\"c06e40dc\",\"react.js_electron and react 从 0 到 1 实现简历平台实战_优化篇-公共弹窗拆解优化，让职能更加单一.md\":\"cc969727\",\"react.js_electron and react 从 0 到 1 实现简历平台实战_到达目的地-应用程序发布.md\":\"74bb1eb9\",\"react.js_electron and react 从 0 到 1 实现简历平台实战_基础篇-electron初步认识并掌握基础知识.md\":\"2d5e994f\",\"react.js_electron and react 从 0 到 1 实现简历平台实战_定制篇-自定义 electron 原生应用菜单.md\":\"00c262d1\",\"react.js_electron and react 从 0 到 1 实现简历平台实战_开篇-技术选型和项目结构.md\":\"13aff962\",\"react.js_electron and react 从 0 到 1 实现简历平台实战_彩蛋篇-rcreduxmodel中间件开发设计.md\":\"1ac8ae23\",\"react.js_electron and react 从 0 到 1 实现简历平台实战_彩蛋篇-webpack基础介绍与两大利器.md\":\"6bff14dd\",\"react.js_electron and react 从 0 到 1 实现简历平台实战_打包篇-electron打包体积优化.md\":\"0730307c\",\"react.js_electron and react 从 0 到 1 实现简历平台实战_打包篇-webpack打包优化.md\":\"583fae5b\",\"react.js_electron and react 从 0 到 1 实现简历平台实战_打包篇-应用程序生产环境构建.md\":\"3b6edd78\",\"react.js_electron and react 从 0 到 1 实现简历平台实战_打包篇-生产环境疑难杂症的解决.md\":\"8ac302cb\",\"react.js_electron and react 从 0 到 1 实现简历平台实战_支线篇-打包生成第一个桌面应用（骄傲自豪）.md\":\"7d53376e\",\"react.js_electron and react 从 0 到 1 实现简历平台实战_期望篇-可视化自定义独特的简历模版.md\":\"30df3e35\",\"react.js_electron and react 从 0 到 1 实现简历平台实战_环境篇-动手搭建我们的简历平台.md\":\"acffdb62\",\"react.js_electron and react 从 0 到 1 实现简历平台实战_结尾篇-行而不辍，未来可期.md\":\"e7d6af8d\",\"react.js_electron and react 从 0 到 1 实现简历平台实战_设计篇-需求功能设计与数据存储方案设计.md\":\"46a80473\",\"react.js_electron and react 从 0 到 1 实现简历平台实战_问题篇-常见问题解决.md\":\"1965abb1\",\"react.js_react 组合式开发实践：打造企业管理系统五大核心模块_index.md\":\"7279821d\",\"react.js_react 组合式开发实践：打造企业管理系统五大核心模块_以史为鉴-前端开发的四个时代.md\":\"9dcc8bbb\",\"react.js_react 组合式开发实践：打造企业管理系统五大核心模块_似水流年-企业管理系统的前世今生.md\":\"a0e11e37\",\"react.js_react 组合式开发实践：打造企业管理系统五大核心模块_实战篇 01-开发前准备.md\":\"4309f366\",\"react.js_react 组合式开发实践：打造企业管理系统五大核心模块_实战篇 02-项目脚手架.md\":\"f660a22a\",\"react.js_react 组合式开发实践：打造企业管理系统五大核心模块_实战篇 03-页面布局方案.md\":\"0a63fc0a\",\"react.js_react 组合式开发实践：打造企业管理系统五大核心模块_实战篇 04-权限管理机制.md\":\"099b9753\",\"react.js_react 组合式开发实践：打造企业管理系统五大核心模块_实战篇 05-菜单匹配逻辑.md\":\"6142841c\",\"react.js_react 组合式开发实践：打造企业管理系统五大核心模块_实战篇 06-消息通知设计.md\":\"933fe6db\",\"react.js_react 组合式开发实践：打造企业管理系统五大核心模块_实战篇 07-多语言支持.md\":\"4904290b\",\"react.js_react 组合式开发实践：打造企业管理系统五大核心模块_总结.md\":\"5bffe627\",\"react.js_react 组合式开发实践：打造企业管理系统五大核心模块_继往开来-可视化页面搭建工具.md\":\"f6f0c81f\",\"typescript_typescript 全面进阶指南_tsconfig 全解（上）-构建相关配置.md\":\"08f97490\",\"typescript_typescript 全面进阶指南_tsconfig 全解（下）-检查相关、工程相关配置.md\":\"4eb2870a\",\"typescript_typescript 全面进阶指南_typescript compiler api 上手-打造 ast checker 与 codemod.md\":\"9b3e3d42\",\"typescript_typescript 全面进阶指南_index.md\":\"5ec9c172\",\"typescript_typescript 全面进阶指南_了解类型编程与类型体操的意义，找到平衡点.md\":\"9fee4f98\",\"typescript_typescript 全面进阶指南_全链路 typescript 工具库，找到适合你的工具.md\":\"16985b62\",\"typescript_typescript 全面进阶指南_内置工具类型基础-别再妖魔化工具类型了！.md\":\"ba55b5ce\",\"typescript_typescript 全面进阶指南_内置工具类型进阶-类型编程进阶.md\":\"aa77a3ce\",\"typescript_typescript 全面进阶指南_函数与 class 中的类型-详解函数重载与面向对象.md\":\"b5afc218\",\"typescript_typescript 全面进阶指南_函数类型-协变与逆变的比较.md\":\"08338c95\",\"typescript_typescript 全面进阶指南_反方向类型推导-用好上下文相关类型.md\":\"9031375b\",\"typescript_typescript 全面进阶指南_在 react 中愉快地使用 typescript-内置类型与泛型坑位.md\":\"52317cbc\",\"typescript_typescript 全面进阶指南_基于 prisma  nestjs 的 node api -前置知识储备.md\":\"dc39151f\",\"typescript_typescript 全面进阶指南_基于 prisma  nestjs 的 node api -项目开发与基于 heroku 部署.md\":\"9ecdfd00\",\"typescript_typescript 全面进阶指南_基础类型新成员-模板字符串类型入门.md\":\"da939253\",\"typescript_typescript 全面进阶指南_工欲善其事-打造最舒适的 typescript 开发环境.md\":\"8e44df6b\",\"typescript_typescript 全面进阶指南_工程层面的类型能力-类型声明、类型指令与命名空间.md\":\"eddce6b3\",\"typescript_typescript 全面进阶指南_开篇-用正确的方式学习 typescript.md\":\"ba192ba5\",\"typescript_typescript 全面进阶指南_总结-是结束，也是开始.md\":\"eb8617cf\",\"typescript_typescript 全面进阶指南_掌握字面量类型与枚举，让你的类型再精确一些.md\":\"f502c55f\",\"typescript_typescript 全面进阶指南_探秘内置类型-any、unknown、never 与类型断言.md\":\"b8910dcc\",\"typescript_typescript 全面进阶指南_控制反转与依赖注入-基于装饰器的依赖注入实现.md\":\"a8a8f9b5\",\"typescript_typescript 全面进阶指南_漫谈-大厂一般是怎么考察候选人 typescript 技能水平的？.md\":\"9f350e21\",\"typescript_typescript 全面进阶指南_漫谈-拥抱下一代 node 框架—— deepkit.md\":\"d769ad0a\",\"typescript_typescript 全面进阶指南_类型系统层级-从 top type 到 bottom type.md\":\"93287088\",\"typescript_typescript 全面进阶指南_类型编程基石-typescript 中无处不在的泛型.md\":\"38ec8707\",\"typescript_typescript 全面进阶指南_类型编程好帮手-typescript 类型工具（上）.md\":\"118bf0b5\",\"typescript_typescript 全面进阶指南_类型编程好帮手-typescript 类型工具（下）.md\":\"9ff25f5a\",\"typescript_typescript 全面进阶指南_类型编程新范式-模板字符串工具类型进阶.md\":\"dae87ef8\",\"typescript_typescript 全面进阶指南_类型里的逻辑运算-条件类型与 infer.md\":\"99fb5046\",\"typescript_typescript 全面进阶指南_结构化类型系统-类型兼容性判断的幕后.md\":\"fe7ab2ce\",\"typescript_typescript 全面进阶指南_装饰器与反射元数据-了解装饰器基本原理与应用.md\":\"af33a8e3\",\"typescript_typescript 全面进阶指南_让 eslint 来约束你的 typescript 代码-配置与规则集介绍.md\":\"3a808172\",\"typescript_typescript 全面进阶指南_说说 typescript 和 ecmascript 之间那些事儿.md\":\"088710ed\",\"typescript_typescript 全面进阶指南_进入类型的世界-理解原始类型与对象类型.md\":\"9a604a96\",\"typescript_深入浅出typescript：从基础知识到类型编程_reflect metadata.md\":\"80ae98b4\",\"typescript_深入浅出typescript：从基础知识到类型编程_typescript 与 react 实战(组件篇上).md\":\"e23b66a8\",\"typescript_深入浅出typescript：从基础知识到类型编程_typescript 与 react 实战(组件篇下).md\":\"e93a5665\",\"typescript_深入浅出typescript：从基础知识到类型编程_typescript 企业级服务器开发-实战篇.md\":\"64dab10d\",\"typescript_深入浅出typescript：从基础知识到类型编程_typescript 企业级服务器开发-理论篇.md\":\"0e03eb5e\",\"typescript_深入浅出typescript：从基础知识到类型编程_typescript 工程化-tsconfig.json 配置.md\":\"b85a7edf\",\"typescript_深入浅出typescript：从基础知识到类型编程_typescript 工程化-代码检测.md\":\"5e6859d1\",\"typescript_深入浅出typescript：从基础知识到类型编程_typescript 工程化-单元测试.md\":\"f7d4ce95\",\"typescript_深入浅出typescript：从基础知识到类型编程_typescript 工程化-环境搭建.md\":\"6f21e21c\",\"typescript_深入浅出typescript：从基础知识到类型编程_typescript 的编译原理.md\":\"f28c1e8c\",\"typescript_深入浅出typescript：从基础知识到类型编程_typescript与react实战(redux篇).md\":\"d4c4fcbb\",\"typescript_深入浅出typescript：从基础知识到类型编程_typescript几个实用技巧.md\":\"6c36ea03\",\"typescript_深入浅出typescript：从基础知识到类型编程_typescript的学习之路与君共勉.md\":\"277e9452\",\"typescript_深入浅出typescript：从基础知识到类型编程_typescript 中其他常见类型.md\":\"109adea3\",\"typescript_深入浅出typescript：从基础知识到类型编程_typescript 的原始类型.md\":\"163686bf\",\"typescript_深入浅出typescript：从基础知识到类型编程_vue 实战-typescript 下的 vuex.md\":\"7d8192f4\",\"typescript_深入浅出typescript：从基础知识到类型编程_vue 实战-vue-property-decorator.md\":\"818a527c\",\"typescript_深入浅出typescript：从基础知识到类型编程_vue 实战-环境搭建.md\":\"6962a45e\",\"typescript_深入浅出typescript：从基础知识到类型编程_vue 实战-组件 ui 编写.md\":\"0ab9f7d5\",\"typescript_深入浅出typescript：从基础知识到类型编程_index.md\":\"acc1c27a\",\"typescript_深入浅出typescript：从基础知识到类型编程_函数(function).md\":\"1dfbd153\",\"typescript_深入浅出typescript：从基础知识到类型编程_到底为什么要学习 typescript？.md\":\"4dff813a\",\"typescript_深入浅出typescript：从基础知识到类型编程_可辨识联合类型.md\":\"084d997c\",\"typescript_深入浅出typescript：从基础知识到类型编程_实战-编写 javascript 库编写声明文件.md\":\"96ccbcaf\",\"typescript_深入浅出typescript：从基础知识到类型编程_小册食用指南.md\":\"e273196e\",\"typescript_深入浅出typescript：从基础知识到类型编程_常用工具类型解读.md\":\"882295d5\",\"typescript_深入浅出typescript：从基础知识到类型编程_常见问题答疑.md\":\"fa4aea2f\",\"typescript_深入浅出typescript：从基础知识到类型编程_开始使用 typescript.md\":\"e5063e39\",\"typescript_深入浅出typescript：从基础知识到类型编程_接口(interface).md\":\"787ae4b6\",\"typescript_深入浅出typescript：从基础知识到类型编程_模块与命名空间.md\":\"bed45c2e\",\"typescript_深入浅出typescript：从基础知识到类型编程_泛型（generic）的妙用.md\":\"db32c5c6\",\"typescript_深入浅出typescript：从基础知识到类型编程_深入理解枚举类型.md\":\"89f76674\",\"typescript_深入浅出typescript：从基础知识到类型编程_理论-如何为编写声明文件.md\":\"caad0de3\",\"typescript_深入浅出typescript：从基础知识到类型编程_类(class).md\":\"a532b20e\",\"typescript_深入浅出typescript：从基础知识到类型编程_类型兼容性.md\":\"738150ea\",\"typescript_深入浅出typescript：从基础知识到类型编程_类型断言与类型守卫.md\":\"8a1b6d6f\",\"typescript_深入浅出typescript：从基础知识到类型编程_编写typescript transformer plugin.md\":\"35c1b3ec\",\"typescript_深入浅出typescript：从基础知识到类型编程_装饰器.md\":\"703643f4\",\"typescript_深入浅出typescript：从基础知识到类型编程_解一道 leetcode 中国招聘面试题.md\":\"3f6f55e3\",\"typescript_深入浅出typescript：从基础知识到类型编程_赋值断言、is 关键字、可调用类型注解和类型推导.md\":\"66abed10\",\"typescript_深入浅出typescript：从基础知识到类型编程_高级类型之交叉类型、联合类型、类型别名.md\":\"77752548\",\"typescript_深入浅出typescript：从基础知识到类型编程_高级类型之强大的infer关键字.md\":\"b1bcb486\",\"typescript_深入浅出typescript：从基础知识到类型编程_高级类型之条件类型.md\":\"431f0571\",\"typescript_深入浅出typescript：从基础知识到类型编程_高级类型之索引类型、映射类型.md\":\"27cfc40d\",\"typescript_深入浅出typescript：从基础知识到类型编程_高级装饰器.md\":\"e42e2464\",\"vue.js_vue.js 组件精讲_vue 的构造器—extend 与手动挂载—mount.md\":\"dc060ba9\",\"vue.js_vue.js 组件精讲_index.md\":\"bc9038bd\",\"vue.js_vue.js 组件精讲_写在最后.md\":\"b71bebff\",\"vue.js_vue.js 组件精讲_基础-vue.js 组件的三个 api-prop、event、slot.md\":\"42ba51a8\",\"vue.js_vue.js 组件精讲_实战 1-具有数据校验功能的表单组件——form.md\":\"1b9d768c\",\"vue.js_vue.js 组件精讲_实战 2-组合多选框组件——checkboxgroup and checkbox.md\":\"5f2d22a7\",\"vue.js_vue.js 组件精讲_实战 3-动态渲染 .vue 文件的组件—— display.md\":\"cb6beee6\",\"vue.js_vue.js 组件精讲_实战 4-全局提示组件——alert.md\":\"31757414\",\"vue.js_vue.js 组件精讲_实战 5-可用 render 自定义列的表格组件——table.md\":\"89bf0ff3\",\"vue.js_vue.js 组件精讲_实战 6-可用 slot-scope 自定义列的表格组件——table.md\":\"5720ac79\",\"vue.js_vue.js 组件精讲_实战 7-树形控件——tree.md\":\"6e31feaa\",\"vue.js_vue.js 组件精讲_开篇-vue.js 的精髓——组件.md\":\"330320db\",\"vue.js_vue.js 组件精讲_拓展-vue.js 容易忽略的 api 详解.md\":\"5ec90e93\",\"vue.js_vue.js 组件精讲_拓展-vue.js 面试、常见问题答疑.md\":\"dced2cf8\",\"vue.js_vue.js 组件精讲_拓展-如何做好一个开源项目（上篇）.md\":\"a35a59dc\",\"vue.js_vue.js 组件精讲_拓展-如何做好一个开源项目（下篇）.md\":\"f9fffc38\",\"vue.js_vue.js 组件精讲_更灵活的组件-render 函数与 functional render.md\":\"134634e4\",\"vue.js_vue.js 组件精讲_组件的通信 1-provide  or  inject.md\":\"d139d07a\",\"vue.js_vue.js 组件精讲_组件的通信 2-派发与广播——自行实现 dispatch 和 broadcast 方法.md\":\"83e68bf0\",\"vue.js_vue.js 组件精讲_组件的通信 3-找到任意组件实例——findcomponents 系列方法.md\":\"39a52214\",\"vue.js_vue.js 组件精讲_递归组件与动态组件.md\":\"6216e257\",\"vue.js_剖析 vue.js 内部运行机制_vue.js 运行机制全局概览.md\":\"703a020e\",\"vue.js_剖析 vue.js 内部运行机制_vuex 状态管理的工作原理.md\":\"f1b1e41a\",\"vue.js_剖析 vue.js 内部运行机制_index.md\":\"b20e62c1\",\"vue.js_剖析 vue.js 内部运行机制_template 模板是怎样通过 compile 编译的.md\":\"d5c0acc0\",\"vue.js_剖析 vue.js 内部运行机制_响应式系统的依赖收集追踪原理.md\":\"bc262fe8\",\"vue.js_剖析 vue.js 内部运行机制_响应式系统的基本原理.md\":\"91c7041f\",\"vue.js_剖析 vue.js 内部运行机制_实现 virtual dom 下的一个 vnode 节点.md\":\"f231868a\",\"vue.js_剖析 vue.js 内部运行机制_总结 and 常见问题解答.md\":\"f57e503a\",\"vue.js_剖析 vue.js 内部运行机制_批量异步更新策略及 nexttick 原理.md\":\"23bbc6e3\",\"vue.js_剖析 vue.js 内部运行机制_数据状态更新时的差异 diff 及 patch 机制.md\":\"b03cb30c\",\"index.md\":\"1300d763\",\"其他_git 原理详解及实用指南_index.md\":\"2716b006\",\"其他_git 原理详解及实用指南_上手 1-新公司用 git 管理代码，怎么快速上手？.md\":\"0e2e146d\",\"其他_git 原理详解及实用指南_上手 2-团队工作的基本工作模型.md\":\"894bb4f4\",\"其他_git 原理详解及实用指南_什么是分布式版本控制系统（dvcs).md\":\"9e2e2210\",\"其他_git 原理详解及实用指南_什么是版本控制系统（vcs）.md\":\"cd36b056\",\"其他_git 原理详解及实用指南_总结.md\":\"f945af8f\",\"其他_git 原理详解及实用指南_进阶 1-head、master 与 branch.md\":\"a9b1abb0\",\"其他_git 原理详解及实用指南_进阶 2-push 的本质.md\":\"8d717518\",\"其他_git 原理详解及实用指南_进阶 3-merge-合并 commits.md\":\"2f67353b\",\"其他_git 原理详解及实用指南_进阶 4-feature branching-最流行的工作流.md\":\"eadd7aaf\",\"其他_git 原理详解及实用指南_进阶 5-关于 add.md\":\"d31ef300\",\"其他_git 原理详解及实用指南_进阶 6-看看我都改了什么.md\":\"98123340\",\"其他_git 原理详解及实用指南_额外说点-.gitignore——排除不想被管理的文件和目录.md\":\"d758a06f\",\"其他_git 原理详解及实用指南_高级 1-不喜欢 merge 的分叉？用 rebase 吧.md\":\"a377ba8f\",\"其他_git 原理详解及实用指南_高级 10-branch 删过了才想起来有用？.md\":\"f39953a9\",\"其他_git 原理详解及实用指南_高级 2-刚刚提交的代码，发现写错了怎么办？.md\":\"f21fc828\",\"其他_git 原理详解及实用指南_高级 3-写错的不是最新的提交，而是倒数第二个？.md\":\"c697c30c\",\"其他_git 原理详解及实用指南_高级 4-比错还错，想直接丢弃刚写的提交？.md\":\"a0264372\",\"其他_git 原理详解及实用指南_高级 5-想丢弃的也不是最新的提交？.md\":\"f4d27559\",\"其他_git 原理详解及实用指南_高级 6-代码已经 push 上去了才发现写错？.md\":\"e0a3a06a\",\"其他_git 原理详解及实用指南_高级 7-reset 的本质——不止可以撤销提交.md\":\"7c081a50\",\"其他_git 原理详解及实用指南_高级 8-checkout 的本质.md\":\"fee52546\",\"其他_git 原理详解及实用指南_高级 9-紧急情况-「立即给我打个包，现在马上！」.md\":\"80445478\",\"其他_python数据分析实战：构建股票量化交易系统_index.md\":\"9986e978\",\"其他_python数据分析实战：构建股票量化交易系统_前置基础-matplotlib函数式绘图的方式.md\":\"2dec5d64\",\"其他_python数据分析实战：构建股票量化交易系统_前置基础-matplotlib对象式绘图的方式.md\":\"299884ee\",\"其他_python数据分析实战：构建股票量化交易系统_前置基础-matplotlib模拟随机漫步轨迹【加推篇】.md\":\"829189d2\",\"其他_python数据分析实战：构建股票量化交易系统_前置基础-numpy模拟随机漫步理论.md\":\"da780ec0\",\"其他_python数据分析实战：构建股票量化交易系统_前置基础-pandas构建dataframe股票数据.md\":\"848a78ca\",\"其他_python数据分析实战：构建股票量化交易系统_前置基础-python变量类型及动态特性【加推篇】.md\":\"f358360f\",\"其他_python数据分析实战：构建股票量化交易系统_前置基础-从概率角度谈市场中的博弈.md\":\"22eed341\",\"其他_python数据分析实战：构建股票量化交易系统_前置基础-创建一个python文件的细节【加推篇】.md\":\"5fb4d5f3\",\"其他_python数据分析实战：构建股票量化交易系统_前置基础-开发环境及基础工具说明.md\":\"00e4de28\",\"其他_python数据分析实战：构建股票量化交易系统_前置基础-无可或缺的python异常处理【加推篇】.md\":\"9cbf936c\",\"其他_python数据分析实战：构建股票量化交易系统_前置基础-玩转python遍历工具for..in【加推篇】.md\":\"35e28f7e\",\"其他_python数据分析实战：构建股票量化交易系统_前置基础-量化交易及应用场景简介.md\":\"3641914c\",\"其他_python数据分析实战：构建股票量化交易系统_技术指标可视化-ta-lib技术指标库的扩展应用【加推篇】.md\":\"fe0dc7c3\",\"其他_python数据分析实战：构建股票量化交易系统_技术指标可视化-pyecharts从v0.5至v1版的转变.md\":\"1ec4df72\",\"其他_python数据分析实战：构建股票量化交易系统_技术指标可视化-pyecharts实现web版股票行情界面.md\":\"71a270c3\",\"其他_python数据分析实战：构建股票量化交易系统_技术指标可视化-用ta-lib封装更灵活的指标库【加推篇】.md\":\"2178081c\",\"其他_python数据分析实战：构建股票量化交易系统_技术指标可视化-自定义matplotlib版股票行情界面.md\":\"0e3baad0\",\"其他_python数据分析实战：构建股票量化交易系统_效率优化措施-python扩展c or c加加 加速执行【加推篇】.md\":\"a825f479\",\"其他_python数据分析实战：构建股票量化交易系统_结尾篇-贯穿知识点才能学以致用.md\":\"5f52d334\",\"其他_python数据分析实战：构建股票量化交易系统_股票交易策略-基于凯利公式的仓位管理.md\":\"fe0a9d72\",\"其他_python数据分析实战：构建股票量化交易系统_股票交易策略-基于欧奈尔rps指标选股策略【加推篇】.md\":\"d3d7ec9a\",\"其他_python数据分析实战：构建股票量化交易系统_股票交易策略-择时策略融入atr动态仓位管理【加推篇】.md\":\"5af0c8a1\",\"其他_python数据分析实战：构建股票量化交易系统_股票交易策略-择时策略融入atr风险控制.md\":\"f5df225d\",\"其他_python数据分析实战：构建股票量化交易系统_股票交易策略-收益与风险维度度量策略效果.md\":\"0465daf3\",\"其他_python数据分析实战：构建股票量化交易系统_股票交易策略-海龟择时策略入门量化交易.md\":\"d1b89b3e\",\"其他_python数据分析实战：构建股票量化交易系统_股票交易策略-线性回归算法建立选股策略.md\":\"addff2c7\",\"其他_python数据分析实战：构建股票量化交易系统_股票交易策略-蒙特卡洛算法最优化策略参数.md\":\"93ca5c84\",\"其他_python数据分析实战：构建股票量化交易系统_股票数据分析-全方位访问dataframe格式股票数据.md\":\"02cccecf\",\"其他_python数据分析实战：构建股票量化交易系统_股票数据分析-分时明细数据周期重采样【加推篇】.md\":\"fa66e7c0\",\"其他_python数据分析实战：构建股票量化交易系统_股票数据分析-如何计算主力资金的流入流出【加推篇】.md\":\"7727dfd1\",\"其他_python数据分析实战：构建股票量化交易系统_股票数据分析-股票分时明细数据的获取【加推篇】.md\":\"a5e5127f\",\"其他_python数据分析实战：构建股票量化交易系统_股票数据分析-遍历dataframe格式股票数据的方法.md\":\"e1d9259d\",\"其他_python数据分析实战：构建股票量化交易系统_股票数据分析-除权数据前复权和后复权处理【加推篇】.md\":\"c20d77a3\",\"其他_python数据分析实战：构建股票量化交易系统_股票数据获取-pandas金融模块获取股票数据.md\":\"10729e74\",\"其他_python数据分析实战：构建股票量化交易系统_股票数据获取-差异化分析常用股票数据接口.md\":\"d68b6ae6\",\"其他_python数据分析实战：构建股票量化交易系统_股票数据获取-爬虫抓取东方财富网股吧帖子【加推篇】.md\":\"d3baed3a\",\"其他_python数据分析实战：构建股票量化交易系统_股票数据获取-爬虫方式获取行业板块数据.md\":\"9a2a223e\",\"其他_python数据分析实战：构建股票量化交易系统_股票数据获取-详解网络爬虫的原理和过程.md\":\"73397a45\",\"其他_python数据分析实战：构建股票量化交易系统_自动交易方案-模拟股票客户端交易的原理【加推篇】.md\":\"d7081faa\",\"其他_python数据分析实战：构建股票量化交易系统_贯穿小册-python金融数据分析实战型项目【加推篇】.md\":\"7668a586\",\"其他_python数据分析实战：构建股票量化交易系统_远程下单方案-smtp邮件实时提醒交易【加推篇】.md\":\"a5263a43\",\"其他_python数据分析实战：构建股票量化交易系统_远程下单方案-微信机器人实时提醒交易【加推篇】.md\":\"af32b73e\",\"其他_python数据分析实战：构建股票量化交易系统_远程下单方案-钉钉机器人实时提醒交易【加推篇】.md\":\"e5493373\",\"其他_python数据分析实战：构建股票量化交易系统_量化策略回测-创建属于自己的回测框架【加推篇】.md\":\"a6ef6255\",\"其他_python数据分析实战：构建股票量化交易系统_量化策略回测-基于backtrader建立双均线策略【加推篇】.md\":\"e60279e5\",\"其他_python数据分析实战：构建股票量化交易系统_量化策略回测-如何利用聚宽平台回测交易策略【加推篇】.md\":\"466252a2\",\"其他_python数据分析实战：构建股票量化交易系统_量化策略回测-扒一扒量化回测中常见的陷阱【加推篇】.md\":\"2f32c3a5\",\"其他_redis 深度历险：核心原理与应用实践_index.md\":\"7bd3e0ce\",\"其他_redis 深度历险：核心原理与应用实践_原理 1-鞭辟入里 —— 线程 io 模型.md\":\"0df11167\",\"其他_redis 深度历险：核心原理与应用实践_原理 2-交头接耳 —— 通信协议.md\":\"db15f5cb\",\"其他_redis 深度历险：核心原理与应用实践_原理 3-未雨绸缪 —— 持久化.md\":\"523b7b87\",\"其他_redis 深度历险：核心原理与应用实践_原理 4-雷厉风行 —— 管道.md\":\"dc17c5fe\",\"其他_redis 深度历险：核心原理与应用实践_原理 5-同舟共济 —— 事务.md\":\"3ceb4599\",\"其他_redis 深度历险：核心原理与应用实践_原理 6-小道消息 —— pubsub.md\":\"dba6d4a7\",\"其他_redis 深度历险：核心原理与应用实践_原理 7-开源节流 —— 小对象压缩.md\":\"63d72f7e\",\"其他_redis 深度历险：核心原理与应用实践_原理 8-有备无患 —— 主从同步.md\":\"b11e17e4\",\"其他_redis 深度历险：核心原理与应用实践_基础-万丈高楼平地起 —— redis 基础数据结构.md\":\"51cfc59a\",\"其他_redis 深度历险：核心原理与应用实践_尾声-百尺竿头 —— 继续深造指南.md\":\"48811c47\",\"其他_redis 深度历险：核心原理与应用实践_应用 1-千帆竞发 —— 分布式锁.md\":\"1543f835\",\"其他_redis 深度历险：核心原理与应用实践_应用 2-缓兵之计 —— 延时队列.md\":\"39f1c0c1\",\"其他_redis 深度历险：核心原理与应用实践_应用 3-节衣缩食 —— 位图.md\":\"c17b8315\",\"其他_redis 深度历险：核心原理与应用实践_应用 4-四两拨千斤 —— hyperloglog.md\":\"7f928e75\",\"其他_redis 深度历险：核心原理与应用实践_应用 5-层峦叠嶂 —— 布隆过滤器.md\":\"dd3479ac\",\"其他_redis 深度历险：核心原理与应用实践_应用 6-断尾求生 —— 简单限流.md\":\"31e79a43\",\"其他_redis 深度历险：核心原理与应用实践_应用 7-一毛不拔 —— 漏斗限流.md\":\"28838de0\",\"其他_redis 深度历险：核心原理与应用实践_应用 8-近水楼台 —— geohash.md\":\"912f67b6\",\"其他_redis 深度历险：核心原理与应用实践_应用 9-大海捞针 —— scan.md\":\"cbd82a61\",\"其他_redis 深度历险：核心原理与应用实践_开篇-授人以鱼不若授人以渔 —— redis 可以用来做什么？.md\":\"44dafac4\",\"其他_redis 深度历险：核心原理与应用实践_拓展 1-耳听八方 —— stream.md\":\"00bb3e13\",\"其他_redis 深度历险：核心原理与应用实践_拓展 10-法力无边 —— redis lua 脚本执行原理.md\":\"faf6fc13\",\"其他_redis 深度历险：核心原理与应用实践_拓展 11-短小精悍 —— 命令行工具的妙用.md\":\"c7e53a40\",\"其他_redis 深度历险：核心原理与应用实践_拓展 2-无所不知 —— info 指令.md\":\"4980a56f\",\"其他_redis 深度历险：核心原理与应用实践_拓展 3-拾遗补漏 —— 再谈分布式锁.md\":\"692c05b2\",\"其他_redis 深度历险：核心原理与应用实践_拓展 4-朝生暮死 —— 过期策略.md\":\"7c0b49a0\",\"其他_redis 深度历险：核心原理与应用实践_拓展 5-优胜劣汰 —— lru.md\":\"1b40cbb5\",\"其他_redis 深度历险：核心原理与应用实践_拓展 6-平波缓进 —— 懒惰删除.md\":\"cf36b4b7\",\"其他_redis 深度历险：核心原理与应用实践_拓展 7-妙手仁心 —— 优雅地使用 jedis.md\":\"470935bb\",\"其他_redis 深度历险：核心原理与应用实践_拓展 8-居安思危 —— 保护 redis.md\":\"6e2a03c4\",\"其他_redis 深度历险：核心原理与应用实践_拓展 9-隔墙有耳 —— redis 安全通信.md\":\"df8d7543\",\"其他_redis 深度历险：核心原理与应用实践_源码 1-丝分缕析 —— 探索「字符串」内部.md\":\"f9233e97\",\"其他_redis 深度历险：核心原理与应用实践_源码 10-跋山涉水 —— 深入字典遍历.md\":\"97aa77f5\",\"其他_redis 深度历险：核心原理与应用实践_源码 11-见缝插针 —— 探索 hyperloglog 内部.md\":\"cfbd33a8\",\"其他_redis 深度历险：核心原理与应用实践_源码 2-循序渐进 —— 探索「字典」内部.md\":\"cac92794\",\"其他_redis 深度历险：核心原理与应用实践_源码 3-挨肩迭背 —— 探索「压缩列表」内部.md\":\"c55f80fd\",\"其他_redis 深度历险：核心原理与应用实践_源码 4-风驰电掣 —— 探索「快速列表」内部.md\":\"98e55894\",\"其他_redis 深度历险：核心原理与应用实践_源码 5-凌波微步 —— 探索「跳跃列表」内部.md\":\"c8b5e3a5\",\"其他_redis 深度历险：核心原理与应用实践_源码 6-破旧立新 —— 探索「紧凑列表」内部.md\":\"0296976a\",\"其他_redis 深度历险：核心原理与应用实践_源码 7-金枝玉叶 —— 探索「基数树」内部.md\":\"d3d6039a\",\"其他_redis 深度历险：核心原理与应用实践_源码 8-精益求精 —— lfu vs lru.md\":\"384dc27d\",\"其他_redis 深度历险：核心原理与应用实践_源码 9-如履薄冰 —— 懒惰删除的巨大牺牲.md\":\"0e3e2adc\",\"其他_redis 深度历险：核心原理与应用实践_集群 1-李代桃僵 —— sentinel.md\":\"14270fda\",\"其他_redis 深度历险：核心原理与应用实践_集群 2-分而治之 —— codis.md\":\"02ba87f4\",\"其他_redis 深度历险：核心原理与应用实践_集群 3-众志成城 —— cluster.md\":\"f83ba052\",\"其他_从零开发h5可视化搭建项目_server 端编译实现.md\":\"5cf7bae8\",\"其他_从零开发h5可视化搭建项目_index.md\":\"8cf27eb7\",\"其他_从零开发h5可视化搭建项目_vue3 form render 实现.md\":\"9e4002d9\",\"其他_从零开发h5可视化搭建项目_全局组件注册.md\":\"e593b69a\",\"其他_从零开发h5可视化搭建项目_全局组件设计.md\":\"eaca0072\",\"其他_从零开发h5可视化搭建项目_写在最后.md\":\"10143bf2\",\"其他_从零开发h5可视化搭建项目_前置基础知识准备.md\":\"b7cb28e9\",\"其他_从零开发h5可视化搭建项目_前言-可视化搭建诞生背景.md\":\"c765fb7a\",\"其他_从零开发h5可视化搭建项目_加餐-h5 可视化搭建项目如何在本地跑起来.md\":\"0ec606ae\",\"其他_从零开发h5可视化搭建项目_加餐-当前可视化搭建未解决的问题.md\":\"961646b6\",\"其他_从零开发h5可视化搭建项目_发布流程设计.md\":\"9b59d5fb\",\"其他_从零开发h5可视化搭建项目_可视化编辑区mock and 预览.md\":\"859d1ff3\",\"其他_从零开发h5可视化搭建项目_可视化编辑区实现.md\":\"e609c645\",\"其他_从零开发h5可视化搭建项目_架构设计.md\":\"06697d47\",\"其他_从零开发h5可视化搭建项目_模板动态化交互.md\":\"5ff128b6\",\"其他_从零开发h5可视化搭建项目_模板设计.md\":\"b7080fbf\",\"其他_从零开发h5可视化搭建项目_模板通信设计.md\":\"0c97ba12\",\"其他_从零开发h5可视化搭建项目_稳定性-模板更新策略.md\":\"6e86bfaa\",\"其他_从零开发h5可视化搭建项目_稳定性-组件更新策略.md\":\"f865fd16\",\"其他_从零开发h5可视化搭建项目_设计实现 cli 为开发助力.md\":\"fb103d5b\",\"其他_可视化入门：从 0 到 1 开发一个图表库_index.md\":\"17357284\",\"其他_可视化入门：从 0 到 1 开发一个图表库_分析-压抑的中世纪发生了什么？.md\":\"1a604de0\",\"其他_可视化入门：从 0 到 1 开发一个图表库_分析-哲学家之间在讨论啥“八卦”？.md\":\"a17fb1e7\",\"其他_可视化入门：从 0 到 1 开发一个图表库_分析-哲学流派的“组织架构”是啥样的？.md\":\"85e8a415\",\"其他_可视化入门：从 0 到 1 开发一个图表库_分析-抽象的哲学问题又有谁来解？.md\":\"88cec5a9\",\"其他_可视化入门：从 0 到 1 开发一个图表库_分析-表格带你浅尝数据分析.md\":\"18d8c3ea\",\"其他_可视化入门：从 0 到 1 开发一个图表库_分析-西方哲学中心的“迁徙之旅”.md\":\"ddcf8aed\",\"其他_可视化入门：从 0 到 1 开发一个图表库_基础-可视化工具概览.md\":\"b9801568\",\"其他_可视化入门：从 0 到 1 开发一个图表库_基础-数据分析模型.md\":\"f36ddd88\",\"其他_可视化入门：从 0 到 1 开发一个图表库_基础-绘制一个条形图.md\":\"ba2f8105\",\"其他_可视化入门：从 0 到 1 开发一个图表库_实战-几何图形 - geometry.md\":\"cc412a18\",\"其他_可视化入门：从 0 到 1 开发一个图表库_实战-坐标系 - coordinate.md\":\"e564801e\",\"其他_可视化入门：从 0 到 1 开发一个图表库_实战-搭建开发环境.md\":\"2369257a\",\"其他_可视化入门：从 0 到 1 开发一个图表库_实战-比例尺 - scale.md\":\"c11984a5\",\"其他_可视化入门：从 0 到 1 开发一个图表库_实战-渲染引擎 - renderer.md\":\"0046ec63\",\"其他_可视化入门：从 0 到 1 开发一个图表库_实战-渲染流程 - plot.md\":\"7317377c\",\"其他_可视化入门：从 0 到 1 开发一个图表库_实战-统计 - statistic.md\":\"7d4c0235\",\"其他_可视化入门：从 0 到 1 开发一个图表库_实战-视图 - view.md\":\"c23fe58a\",\"其他_可视化入门：从 0 到 1 开发一个图表库_实战-辅助组件 - guide.md\":\"ec1799f4\",\"其他_可视化入门：从 0 到 1 开发一个图表库_开篇-可视化介绍.md\":\"2b624369\",\"其他_可视化入门：从 0 到 1 开发一个图表库_总结-回顾过去，展望未来.md\":\"dff3c9f4\",\"其他_基于 python 实现微信公众号爬虫_index.md\":\"acfc6f28\",\"其他_基于 python 实现微信公众号爬虫_使用 fiddler 抓包分析公众号请求过程.md\":\"d5f59d35\",\"其他_基于 python 实现微信公众号爬虫_使用 requests 实现一个简单网页爬虫.md\":\"c6200c6e\",\"其他_基于 python 实现微信公众号爬虫_利用 pandas 对爬取数据进行分析.md\":\"a6c45564\",\"其他_基于 python 实现微信公众号爬虫_基于 matplotlib 实现数据可视化展示.md\":\"9e17fe4b\",\"其他_基于 python 实现微信公众号爬虫_将爬取的文章存储到mongodb.md\":\"6739854c\",\"其他_基于 python 实现微信公众号爬虫_小结.md\":\"11b7eba1\",\"其他_基于 python 实现微信公众号爬虫_微信公众号爬虫的基本原理.md\":\"b8d67b42\",\"其他_基于 python 实现微信公众号爬虫_抓取微信公众号所有历史文章.md\":\"925b2a1a\",\"其他_基于 python 实现微信公众号爬虫_抓取微信公众号第一篇文章.md\":\"5e57f4d2\",\"其他_基于 python 实现微信公众号爬虫_搭建数据分析环境-anaconda、jupyter notebook.md\":\"8a29da7b\",\"其他_基于 python 实现微信公众号爬虫_获取文章阅读数、点赞数、评论数、赞赏数.md\":\"120d8ce9\",\"其他_如何使用 canvas 制作出炫酷的网页背景特效_canvas 的应用场景.md\":\"611acef2\",\"其他_如何使用 canvas 制作出炫酷的网页背景特效_index.md\":\"e63f4389\",\"其他_如何使用 canvas 制作出炫酷的网页背景特效_什么是 canvas.md\":\"087978be\",\"其他_如何使用 canvas 制作出炫酷的网页背景特效_使你的 canvas 更加优雅.md\":\"911ea26e\",\"其他_如何使用 canvas 制作出炫酷的网页背景特效_使你的随机粒子动起来.md\":\"cfe7dc0e\",\"其他_如何使用 canvas 制作出炫酷的网页背景特效_使你的鼠标和屏幕互动.md\":\"84a99a40\",\"其他_如何使用 canvas 制作出炫酷的网页背景特效_制作属于你自己的特效.md\":\"d932e5b0\",\"其他_如何使用 canvas 制作出炫酷的网页背景特效_怎么实现随机粒子.md\":\"52652fa8\",\"其他_如何使用 canvas 制作出炫酷的网页背景特效_手摸手带你入门 canvas.md\":\"2982b44b\",\"其他_如何使用 canvas 制作出炫酷的网页背景特效_炫酷背景特效的通性.md\":\"37b2ea8c\",\"其他_涂伟忠-正则表达式入门课_01-元字符-如何巧妙记忆正则表达式的基本元件.md\":\"7f815822\",\"其他_涂伟忠-正则表达式入门课_02-量词与贪婪-小小的正则-也可能把cpu拖垮！.md\":\"3c485f78\",\"其他_涂伟忠-正则表达式入门课_03-分组与引用-如何用正则实现更复杂的查找和替换操作.md\":\"2bb1ea09\",\"其他_涂伟忠-正则表达式入门课_04-匹配模式-一次性掌握正则中常见的4种匹配模式.md\":\"cc7011d7\",\"其他_涂伟忠-正则表达式入门课_05-断言-如何用断言更好地实现替换重复出现的单词.md\":\"667fe1b1\",\"其他_涂伟忠-正则表达式入门课_06-转义-正则中转义需要注意哪些问题.md\":\"230b140d\",\"其他_涂伟忠-正则表达式入门课_07-正则有哪些常见的流派及其特性.md\":\"57fa5f6f\",\"其他_涂伟忠-正则表达式入门课_08-应用1-正则如何处理unicode编码的文本.md\":\"1fe8866e\",\"其他_涂伟忠-正则表达式入门课_09-应用2-如何在编辑器中使用正则完成工作.md\":\"4043fe07\",\"其他_涂伟忠-正则表达式入门课_10-应用3-如何在语言中用正则让文本处理能力上一个台阶.md\":\"f0799753\",\"其他_涂伟忠-正则表达式入门课_11-如何理解正则的匹配原理以及优化原则.md\":\"090304a3\",\"其他_涂伟忠-正则表达式入门课_12-问题集锦-详解正则常见问题及解决方案.md\":\"ec10d732\",\"其他_涂伟忠-正则表达式入门课_index.md\":\"df761d47\",\"其他_涂伟忠-正则表达式入门课_加餐-从编程语言的角度来理解正则表达式.md\":\"9047e785\",\"其他_涂伟忠-正则表达式入门课_导读-余晟-我是怎么学习和使用正则的.md\":\"a5ef4d4b\",\"其他_涂伟忠-正则表达式入门课_结束语-使用正则提高你的人生效率.md\":\"063b6e93\",\"其他_涂伟忠-正则表达式入门课_结课测试-这些正则知识-你都掌握了吗.md\":\"c545fffa\",\"其他_详解 laravel 源码中优秀的设计模式_index.md\":\"c5892ee2\",\"其他_详解 laravel 源码中优秀的设计模式_使用代理快速接入第三方库.md\":\"454eaee6\",\"其他_详解 laravel 源码中优秀的设计模式_初探 laravel 和其中的设计模式.md\":\"d6e82d88\",\"其他_详解 laravel 源码中优秀的设计模式_制造工具的工厂模式.md\":\"28eeee6f\",\"其他_详解 laravel 源码中优秀的设计模式_回顾和总结.md\":\"46b622fa\",\"其他_详解 laravel 源码中优秀的设计模式_基于装饰器的日志写入器.md\":\"83f2b9fc\",\"其他_详解 laravel 源码中优秀的设计模式_容易被忽略的迭代器.md\":\"32a8cde7\",\"其他_详解 laravel 源码中优秀的设计模式_控制反转和服务容器.md\":\"0c8c7b95\",\"其他_详解 laravel 源码中优秀的设计模式_查询语句建造器.md\":\"1b603cd7\",\"其他_详解 laravel 源码中优秀的设计模式_让观察者监听事件.md\":\"abe0855b\",\"其他_详解 laravel 源码中优秀的设计模式_责任链和管道的协作.md\":\"fe95f5c0\",\"其他_详解 laravel 源码中优秀的设计模式_通过容器实现的外观模式.md\":\"52cb90ad\",\"其他_详解 laravel 源码中优秀的设计模式_通过策略选择驱动.md\":\"a78cc8cf\",\"其他_详解 laravel 源码中优秀的设计模式_附录 1 设计模式的七大原则.md\":\"faadca31\",\"小程序_taro 多端开发实现原理与项目实战_index.md\":\"e3fdbacb\",\"小程序_taro 多端开发实现原理与项目实战_基础篇 1-react 核心语法初识.md\":\"9d863903\",\"小程序_taro 多端开发实现原理与项目实战_基础篇 2-微信小程序开发入门与技术选型.md\":\"c929c0f4\",\"小程序_taro 多端开发实现原理与项目实战_基础篇 3-多端统一开发框架 taro 的安装与使用.md\":\"0c3cf935\",\"小程序_taro 多端开发实现原理与项目实战_基础篇 4-taro 开发说明与注意事项.md\":\"00eb68db\",\"小程序_taro 多端开发实现原理与项目实战_基础篇 5-用 taro 实现一个简单的 todo 项目.md\":\"7cb40cea\",\"小程序_taro 多端开发实现原理与项目实战_基础篇 6-在 taro 中使用 redux.md\":\"81f10d0d\",\"小程序_taro 多端开发实现原理与项目实战_实战篇 1-多端电商平台完整项目概述及开发准备.md\":\"8519e37a\",\"小程序_taro 多端开发实现原理与项目实战_实战篇 10-微信小程序端及 h5 端预览适配与发布.md\":\"894f34d1\",\"小程序_taro 多端开发实现原理与项目实战_实战篇 11-react native 端打包与发布.md\":\"5817fae1\",\"小程序_taro 多端开发实现原理与项目实战_实战篇 2-小程序云的介绍与使用.md\":\"ee58a7fc\",\"小程序_taro 多端开发实现原理与项目实战_实战篇 3-通过小程序云搭建电商后台服务.md\":\"bd96e2aa\",\"小程序_taro 多端开发实现原理与项目实战_实战篇 4-商品列表页开发及性能优化.md\":\"0d4c695a\",\"小程序_taro 多端开发实现原理与项目实战_实战篇 5-商品详情页面开发.md\":\"e7f6acdc\",\"小程序_taro 多端开发实现原理与项目实战_实战篇 6-购物车开发.md\":\"b21b0951\",\"小程序_taro 多端开发实现原理与项目实战_实战篇 7-结算页面开发.md\":\"4f541d77\",\"小程序_taro 多端开发实现原理与项目实战_实战篇 8-微信小程序端用户授权处理.md\":\"306d08a7\",\"小程序_taro 多端开发实现原理与项目实战_实战篇 9-微信小程序开发填坑指南.md\":\"be1da636\",\"小程序_taro 多端开发实现原理与项目实战_开篇-前端多端统一开发背景与趋势介绍.md\":\"6144955c\",\"小程序_taro 多端开发实现原理与项目实战_总结.md\":\"7fed081e\",\"小程序_taro 多端开发实现原理与项目实战_进阶篇 1-taro 设计思想及架构.md\":\"723b74d1\",\"小程序_taro 多端开发实现原理与项目实战_进阶篇 2-cli 原理及不同端的运行机制.md\":\"fff5c26f\",\"小程序_taro 多端开发实现原理与项目实战_进阶篇 3-组件库及 api 的设计与适配.md\":\"09bacef9\",\"小程序_taro 多端开发实现原理与项目实战_进阶篇 4-jsx 转换微信小程序模板的实现（上）.md\":\"60340f80\",\"小程序_taro 多端开发实现原理与项目实战_进阶篇 5-jsx 转换微信小程序模板的实现（下）.md\":\"bdbaa721\",\"小程序_taro 多端开发实现原理与项目实战_进阶篇 6-运行时揭秘 - 小程序运行时.md\":\"799b8693\",\"小程序_taro 多端开发实现原理与项目实战_进阶篇 7-运行时揭秘 - h5 运行时.md\":\"be23fc74\",\"小程序_taro 多端开发实现原理与项目实战_进阶篇 8-运行时揭秘 - rn 运行时.md\":\"fca308a1\",\"小程序_微信小游戏开发入门：从 0 到 1 实现井字棋游戏_index.md\":\"3ea89717\",\"小程序_微信小游戏开发入门：从 0 到 1 实现井字棋游戏_基础篇 1-微信小游戏开发基础.md\":\"7a27fefa\",\"小程序_微信小游戏开发入门：从 0 到 1 实现井字棋游戏_基础篇 2-微信小游戏开放能力.md\":\"dc8e30da\",\"小程序_微信小游戏开发入门：从 0 到 1 实现井字棋游戏_基础篇 3-游戏开发引擎及支持情况.md\":\"42f84a4a\",\"小程序_微信小游戏开发入门：从 0 到 1 实现井字棋游戏_实战篇 1-开发前的准备.md\":\"dcbf577e\",\"小程序_微信小游戏开发入门：从 0 到 1 实现井字棋游戏_实战篇 2-单机游戏实现.md\":\"f4235ed0\",\"小程序_微信小游戏开发入门：从 0 到 1 实现井字棋游戏_实战篇 3-基于腾讯云的服务器环境搭建.md\":\"92e3dc1b\",\"小程序_微信小游戏开发入门：从 0 到 1 实现井字棋游戏_实战篇 4-基于 socket.io 的对战服务详解.md\":\"5e658bb9\",\"小程序_微信小游戏开发入门：从 0 到 1 实现井字棋游戏_实战篇 5-对战游戏实现.md\":\"0ad428df\",\"小程序_微信小游戏开发入门：从 0 到 1 实现井字棋游戏_实战篇 6-游戏排行实现.md\":\"00713daf\",\"小程序_微信小游戏开发入门：从 0 到 1 实现井字棋游戏_实战篇 7-游戏生态接入.md\":\"c2ed3c75\",\"小程序_微信小游戏开发入门：从 0 到 1 实现井字棋游戏_实战篇 8-发布小游戏.md\":\"c6e60a86\",\"小程序_微信小游戏开发入门：从 0 到 1 实现井字棋游戏_开篇-微信小游戏介绍.md\":\"bac388ee\",\"小程序_微信小游戏开发入门：从 0 到 1 实现井字棋游戏_总结篇-优化与总结.md\":\"9ad5c192\",\"工程化_babel 插件通关秘籍_babel macros.md\":\"7ff5b222\",\"工程化_babel 插件通关秘籍_babel 插件和 preset.md\":\"c5c1941f\",\"工程化_babel 插件通关秘籍_babel 插件的单元测试.md\":\"603533f3\",\"工程化_babel 插件通关秘籍_babel 的 api.md\":\"9fded3a3\",\"工程化_babel 插件通关秘籍_babel 的 ast.md\":\"4956018b\",\"工程化_babel 插件通关秘籍_babel 的介绍.md\":\"4af39303\",\"工程化_babel 插件通关秘籍_babel 的内置功能（上）.md\":\"39a0e356\",\"工程化_babel 插件通关秘籍_babel 的内置功能（下）.md\":\"a3d190cd\",\"工程化_babel 插件通关秘籍_babel 的编译流程.md\":\"46a021a2\",\"工程化_babel 插件通关秘籍_babel 配置的原理.md\":\"03c8d61b\",\"工程化_babel 插件通关秘籍_code- frame 和代码高亮原理.md\":\"8dccb49d\",\"工程化_babel 插件通关秘籍_generator 和 sourcemap 的奥秘.md\":\"9eb94e0a\",\"工程化_babel 插件通关秘籍_js parser 的历史.md\":\"da04c7aa\",\"工程化_babel 插件通关秘籍_index.md\":\"0baac91e\",\"工程化_babel 插件通关秘籍_traverse 的 path、scope、visitor.md\":\"9f619c9c\",\"工程化_babel 插件通关秘籍_实战案例- js 解释器.md\":\"0a2418dc\",\"工程化_babel 插件通关秘籍_实战案例- linter.md\":\"f5d2b1e8\",\"工程化_babel 插件通关秘籍_实战案例- 压缩混淆.md\":\"ba031c46\",\"工程化_babel 插件通关秘籍_实战案例- 模块遍历器.md\":\"dec67250\",\"工程化_babel 插件通关秘籍_实战案例- 类型检查.md\":\"61197b63\",\"工程化_babel 插件通关秘籍_实战案例- 自动国际化.md\":\"254df3d6\",\"工程化_babel 插件通关秘籍_实战案例-插入函数调用参数.md\":\"ad5e9ec8\",\"工程化_babel 插件通关秘籍_实战案例-自动埋点.md\":\"5eaba362\",\"工程化_babel 插件通关秘籍_实战案例-自动生成 api 文档.md\":\"a36067c6\",\"工程化_babel 插件通关秘籍_小册总结.md\":\"e4c62fe8\",\"工程化_babel 插件通关秘籍_工具介绍-vscode debugger 的使用.md\":\"d4a414b9\",\"工程化_babel 插件通关秘籍_手写 babel- cli篇.md\":\"4434787f\",\"工程化_babel 插件通关秘籍_手写 babel- core篇.md\":\"f4d69eb9\",\"工程化_babel 插件通关秘籍_手写 babel- generator篇.md\":\"7adc2c79\",\"工程化_babel 插件通关秘籍_手写 babel- parser 篇.md\":\"3e00f46c\",\"工程化_babel 插件通关秘籍_手写 babel- traverse -- path篇.md\":\"e8c539f9\",\"工程化_babel 插件通关秘籍_手写 babel- traverse -- scope篇.md\":\"12e8c961\",\"工程化_babel 插件通关秘籍_手写 babel- traverse 篇.md\":\"8a62aa53\",\"工程化_babel 插件通关秘籍_手写 babel- 总结.md\":\"35adda45\",\"工程化_babel 插件通关秘籍_手写 babel-思路篇.md\":\"b77f5191\",\"工程化_初探前端工程化_polyfill 垫片思想在前端的应用.md\":\"13f127e8\",\"工程化_初探前端工程化_index.md\":\"a8d4610d\",\"工程化_初探前端工程化_下一代 js 编译器-babel.md\":\"2577b241\",\"工程化_初探前端工程化_下一代构建方案-no-bundle 构建.md\":\"f16b4023\",\"工程化_初探前端工程化_优化 webpack 配置（一）-提升开发体验.md\":\"c7ba9054\",\"工程化_初探前端工程化_优化 webpack 配置（二）-提升构建产物质量.md\":\"e5f48ae8\",\"工程化_初探前端工程化_团队协作规范（一）-命名规范、ui 设计规范.md\":\"e45ff185\",\"工程化_初探前端工程化_团队协作规范（二）-项目结构、workflow、git commit.md\":\"8b51754a\",\"工程化_初探前端工程化_在 babel 中使用 polyfill.md\":\"474a4f06\",\"工程化_初探前端工程化_如何从 0 到 1 搭建一个现代前端项目？.md\":\"fd382d60\",\"工程化_初探前端工程化_容器化部署方案-docker.md\":\"d2cc2b26\",\"工程化_初探前端工程化_常见构建工具及其对比.md\":\"7edb45c8\",\"工程化_初探前端工程化_开篇词-什么是前端工程？.md\":\"8026dd28\",\"工程化_初探前端工程化_探索 npm 安装机制.md\":\"72571b11\",\"工程化_初探前端工程化_模块化-分治思想在前端的应用.md\":\"cd93dfe0\",\"工程化_初探前端工程化_组件化-为前端开发降本提效.md\":\"fb248dfe\",\"工程化_初探前端工程化_结束语-未来展望.md\":\"7f3a31f7\",\"工程化_初探前端工程化_脚手架-提升团队开发利器.md\":\"9aa00ec4\",\"工程化_初探前端工程化_软件开发“最后一公里”-持续集成和持续部署.md\":\"953a6de5\",\"工程化_用 npm script 打造超溜的前端工作流_index.md\":\"9ae6b32f\",\"工程化_用 npm script 打造超溜的前端工作流_为什么选择 npm script.md\":\"72867a74\",\"工程化_用 npm script 打造超溜的前端工作流_入门篇 01-创建并运行 npm script 命令.md\":\"863bf915\",\"工程化_用 npm script 打造超溜的前端工作流_入门篇 02-运行多个 npm script 的各种姿势.md\":\"f98182ba\",\"工程化_用 npm script 打造超溜的前端工作流_入门篇 03-给 npm script 传递参数和添加注释.md\":\"4954c863\",\"工程化_用 npm script 打造超溜的前端工作流_实战篇 01-监听文件变化并自动运行 npm script.md\":\"e33192eb\",\"工程化_用 npm script 打造超溜的前端工作流_实战篇 02-结合 live-reload 实现自动刷新.md\":\"f5f1bad0\",\"工程化_用 npm script 打造超溜的前端工作流_实战篇 03-在 git hooks 中运行 npm script.md\":\"ddacd8fe\",\"工程化_用 npm script 打造超溜的前端工作流_实战篇 04-用 npm script 实现构建流水线.md\":\"7c8732b2\",\"工程化_用 npm script 打造超溜的前端工作流_实战篇 05-用 npm script 实现服务自动化运维.md\":\"18d3c853\",\"工程化_用 npm script 打造超溜的前端工作流_进阶篇 01-使用 npm script 的钩子.md\":\"36d3ac56\",\"工程化_用 npm script 打造超溜的前端工作流_进阶篇 02-在 npm script 中使用环境变量.md\":\"02dc2796\",\"工程化_用 npm script 打造超溜的前端工作流_进阶篇 03-实现 npm script 命令自动补全.md\":\"7adb5e42\",\"工程化_用 npm script 打造超溜的前端工作流_高阶篇 01-实现 npm script 跨平台兼容.md\":\"1df90392\",\"工程化_用 npm script 打造超溜的前端工作流_高阶篇 02-把庞大的 npm script 拆到单独文件中.md\":\"daeba74a\",\"工程化_用 npm script 打造超溜的前端工作流_高阶篇 03-用 node.js 脚本替代复杂的 npm script.md\":\"49467c21\",\"计算机_javascript 设计模式核⼼原理与应⽤实践_index.md\":\"ec71f967\",\"计算机_javascript 设计模式核⼼原理与应⽤实践_创建型-单例模式——vuex的数据管理哲学.md\":\"f49f9368\",\"计算机_javascript 设计模式核⼼原理与应⽤实践_创建型-单例模式——面试真题手把手教学.md\":\"336c7ed2\",\"计算机_javascript 设计模式核⼼原理与应⽤实践_创建型-原型模式——谈prototype无小事.md\":\"367667a8\",\"计算机_javascript 设计模式核⼼原理与应⽤实践_创建型-工厂模式·抽象工厂——理解“开放封闭”.md\":\"0349034b\",\"计算机_javascript 设计模式核⼼原理与应⽤实践_创建型-工厂模式·简单工厂——区分“变与不变”.md\":\"46ba5d07\",\"计算机_javascript 设计模式核⼼原理与应⽤实践_前方的路.md\":\"44674b84\",\"计算机_javascript 设计模式核⼼原理与应⽤实践_开篇-前端工程师的成长论.md\":\"c15eb244\",\"计算机_javascript 设计模式核⼼原理与应⽤实践_结构型-代理模式——一家小型婚介所的发家致富之路.md\":\"89a43009\",\"计算机_javascript 设计模式核⼼原理与应⽤实践_结构型-代理模式——应用实践范例解析.md\":\"96689bd4\",\"计算机_javascript 设计模式核⼼原理与应⽤实践_结构型-装饰器模式——对象装上它，就像开了挂.md\":\"af498e0b\",\"计算机_javascript 设计模式核⼼原理与应⽤实践_结构型-装饰器模式——深入装饰器原理与优秀案例.md\":\"889755a7\",\"计算机_javascript 设计模式核⼼原理与应⽤实践_结构型-适配器模式——兼容代码就是一把梭.md\":\"9ee8eaa5\",\"计算机_javascript 设计模式核⼼原理与应⽤实践_行为型-状态模式——自助咖啡机背后的力量.md\":\"e104e7a3\",\"计算机_javascript 设计模式核⼼原理与应⽤实践_行为型-策略模式——重构小能手，拆分“胖逻辑”.md\":\"fa116fc2\",\"计算机_javascript 设计模式核⼼原理与应⽤实践_行为型-观察者模式——面试真题手把手教学.md\":\"0c6ef7d7\",\"计算机_javascript 设计模式核⼼原理与应⽤实践_行为型-观察者模式——鬼故事-产品经理拉了一个钉钉群.md\":\"a0643f6a\",\"计算机_javascript 设计模式核⼼原理与应⽤实践_行为型-迭代器模式——真·遍历专家.md\":\"5bdecaef\",\"计算机_javascript 设计模式核⼼原理与应⽤实践_设计模式的“道”与“术”.md\":\"e14e6b38\",\"计算机_前端算法与数据结构面试：底层逻辑解读与大厂真题训练_index.md\":\"42d4f94b\",\"计算机_前端算法与数据结构面试：底层逻辑解读与大厂真题训练_二叉树真题归纳与解读.md\":\"cb68be93\",\"计算机_前端算法与数据结构面试：底层逻辑解读与大厂真题训练_场景化解读-递归与回溯思想在真题中的应用.md\":\"95cb37bd\",\"计算机_前端算法与数据结构面试：底层逻辑解读与大厂真题训练_大厂真题训练与解读——google 真题.md\":\"bbc0c8b9\",\"计算机_前端算法与数据结构面试：底层逻辑解读与大厂真题训练_大厂真题训练与解读——头条真题.md\":\"f65c4d20\",\"计算机_前端算法与数据结构面试：底层逻辑解读与大厂真题训练_大厂真题训练与解读——微软真题.md\":\"171a6885\",\"计算机_前端算法与数据结构面试：底层逻辑解读与大厂真题训练_大厂真题训练与解读——腾讯真题.md\":\"d86704e9\",\"计算机_前端算法与数据结构面试：底层逻辑解读与大厂真题训练_姿势特别的链表——环形链表专题.md\":\"d59087d5\",\"计算机_前端算法与数据结构面试：底层逻辑解读与大厂真题训练_字符串的应用——真题归纳与解读.md\":\"46406737\",\"计算机_前端算法与数据结构面试：底层逻辑解读与大厂真题训练_快慢指针与多指针——玩转链表复杂操作.md\":\"cc165e91\",\"计算机_前端算法与数据结构面试：底层逻辑解读与大厂真题训练_快速上手——从0到1掌握算法面试需要的数据结构（一）.md\":\"6901d6bd\",\"计算机_前端算法与数据结构面试：底层逻辑解读与大厂真题训练_快速上手——从0到1掌握算法面试需要的数据结构（三）.md\":\"de7cae6f\",\"计算机_前端算法与数据结构面试：底层逻辑解读与大厂真题训练_快速上手——从0到1掌握算法面试需要的数据结构（二）.md\":\"2ba67f07\",\"计算机_前端算法与数据结构面试：底层逻辑解读与大厂真题训练_思维课-算法面试的评价逻辑.md\":\"e0409853\",\"计算机_前端算法与数据结构面试：底层逻辑解读与大厂真题训练_排序算法专题（上）.md\":\"cc7e6602\",\"计算机_前端算法与数据结构面试：底层逻辑解读与大厂真题训练_排序算法专题（下）.md\":\"a1035daa\",\"计算机_前端算法与数据结构面试：底层逻辑解读与大厂真题训练_数组的应用——真题归纳与解读.md\":\"c63a30a6\",\"计算机_前端算法与数据结构面试：底层逻辑解读与大厂真题训练_普通人也能吃透的动态规划思想专题（上）.md\":\"2771bec1\",\"计算机_前端算法与数据结构面试：底层逻辑解读与大厂真题训练_普通人也能吃透的动态规划思想专题（下）.md\":\"d16108a2\",\"计算机_前端算法与数据结构面试：底层逻辑解读与大厂真题训练_栈与队列怎么玩（上）.md\":\"33bcb444\",\"计算机_前端算法与数据结构面试：底层逻辑解读与大厂真题训练_栈与队列怎么玩（下）.md\":\"2026ce77\",\"计算机_前端算法与数据结构面试：底层逻辑解读与大厂真题训练_特殊的二叉树——二叉搜索树专题.md\":\"1a77fb6c\",\"计算机_前端算法与数据结构面试：底层逻辑解读与大厂真题训练_特殊的二叉树——堆结构及其在排序中的应用.md\":\"b3ec8591\",\"计算机_前端算法与数据结构面试：底层逻辑解读与大厂真题训练_特殊的二叉树——平衡二叉树专题.md\":\"2bcf15f5\",\"计算机_前端算法与数据结构面试：底层逻辑解读与大厂真题训练_算法的衡量——轻松理解时间复杂度与空间复杂度.md\":\"d519d4af\",\"计算机_前端算法与数据结构面试：底层逻辑解读与大厂真题训练_递归初相见——二叉树递归遍历的三种姿势.md\":\"5337e1f1\",\"计算机_前端算法与数据结构面试：底层逻辑解读与大厂真题训练_遍历专题-dfs 与 bfs.md\":\"9e37f7bc\",\"计算机_前端算法与数据结构面试：底层逻辑解读与大厂真题训练_链表的应用——真题归纳与解读.md\":\"f2c87524\",\"计算机_前端算法与数据结构面试：底层逻辑解读与大厂真题训练_面试总有套路，算法不是玄学——写给普通人的前端算法面试攻略.md\":\"6951186d\",\"计算机_朱维刚-重学线性代数_01-导读-如何在机器学习中运用线性代数工具.md\":\"4871ce4c\",\"计算机_朱维刚-重学线性代数_02-基本概念-线性代数研究的到底是什么问题.md\":\"510cb23e\",\"计算机_朱维刚-重学线性代数_03-矩阵-为什么说矩阵是线性方程组的另一种表达.md\":\"0110dc35\",\"计算机_朱维刚-重学线性代数_04-解线性方程组-为什么用矩阵求解的效率这么高.md\":\"c6b3f246\",\"计算机_朱维刚-重学线性代数_05-线性空间-如何通过向量的结构化空间在机器学习中做降维处理.md\":\"405034f4\",\"计算机_朱维刚-重学线性代数_06-线性无关-如何理解向量在n维空间的几何意义.md\":\"adf8812a\",\"计算机_朱维刚-重学线性代数_07-基和秩-为什么说它表达了向量空间中“有用”的向量个数.md\":\"0d49204a\",\"计算机_朱维刚-重学线性代数_08-线性映射-如何从坐标系角度理解两个向量空间之间的函数.md\":\"a87ffb09\",\"计算机_朱维刚-重学线性代数_09-仿射空间-如何在图形的平移操作中大显身手.md\":\"06239ec2\",\"计算机_朱维刚-重学线性代数_10-解析几何-为什么说它是向量从抽象到具象的表达.md\":\"7ec1d0a5\",\"计算机_朱维刚-重学线性代数_11-如何运用线性代数方法解决图论问题.md\":\"06fa1a43\",\"计算机_朱维刚-重学线性代数_12-如何通过矩阵转换让3d图形显示到二维屏幕上.md\":\"4447c72d\",\"计算机_朱维刚-重学线性代数_13-如何通过有限向量空间加持的希尔密码-提高密码被破译的难度.md\":\"51f6d56c\",\"计算机_朱维刚-重学线性代数_14-如何在深度学习中运用数值代数的迭代法做训练.md\":\"36845afc\",\"计算机_朱维刚-重学线性代数_15-如何从计算机的角度来理解线性代数.md\":\"8963ae45\",\"计算机_朱维刚-重学线性代数_index.md\":\"3eb0c67d\",\"计算机_朱维刚-重学线性代数_基础通关-线性代数5道典型例题及解析.md\":\"d58467f1\",\"计算机_朱维刚-重学线性代数_强化通关-线性代数水平测试20题.md\":\"7a1f7486\",\"计算机_朱维刚-重学线性代数_结束语-和数学打交道这么多年-我的三点感悟.md\":\"9597a529\",\"面试_web 前端面试指南与高频考题解析_hr 面-谈钱不伤感情.md\":\"4f82c3d8\",\"面试_web 前端面试指南与高频考题解析_index.md\":\"93886948\",\"面试_web 前端面试指南与高频考题解析_一面 1-es 基础知识点与高频考题解析.md\":\"3eb662ac\",\"面试_web 前端面试指南与高频考题解析_一面 2-js-web-api 知识点与高频考题解析.md\":\"422cc2e8\",\"面试_web 前端面试指南与高频考题解析_一面 3-css-html 知识点与高频考题解析.md\":\"2824e93f\",\"面试_web 前端面试指南与高频考题解析_一面 4-从容应对算法题目.md\":\"d368c993\",\"面试_web 前端面试指南与高频考题解析_一面 5-浏览器相关知识点与高频考题解析.md\":\"eedbabfe\",\"面试_web 前端面试指南与高频考题解析_一面 6-开发环境相关知识点与高频考题解析.md\":\"c79c395d\",\"面试_web 前端面试指南与高频考题解析_二面 1-如何回答常见的软技能问题.md\":\"a28dd792\",\"面试_web 前端面试指南与高频考题解析_二面 2-如何介绍项目及应对项目细节追问.md\":\"dba3a9ed\",\"面试_web 前端面试指南与高频考题解析_其他-面试注意事项.md\":\"b6cd2775\",\"面试_web 前端面试指南与高频考题解析_准备-简历编写和面试前准备.md\":\"33d646a3\",\"面试_web 前端面试指南与高频考题解析_总结与补充说明.md\":\"aee521fd\",\"面试_前端性能优化原理与实践_index.md\":\"da2000a5\",\"面试_前端性能优化原理与实践_前方的路-希望以此为你的起点.md\":\"40ee573f\",\"面试_前端性能优化原理与实践_存储篇 1-浏览器缓存机制介绍与缓存策略剖析.md\":\"b2ad1ca5\",\"面试_前端性能优化原理与实践_存储篇 2-本地存储——从 cookie 到 web storage、indexeddb.md\":\"af83e08f\",\"面试_前端性能优化原理与实践_应用篇 1-优化首屏体验——lazy-load 初探.md\":\"d3864814\",\"面试_前端性能优化原理与实践_应用篇 2-事件的节流（throttle）与防抖（debounce）.md\":\"29bf4074\",\"面试_前端性能优化原理与实践_开篇-知识体系与小册格局.md\":\"3c5b7f99\",\"面试_前端性能优化原理与实践_彩蛋篇-cdn 的缓存与回源机制解析.md\":\"2b2de524\",\"面试_前端性能优化原理与实践_性能监测篇-performance、lighthouse 与性能 api.md\":\"fd222c11\",\"面试_前端性能优化原理与实践_渲染篇 1-服务端渲染的探索与实践.md\":\"b3fb3183\",\"面试_前端性能优化原理与实践_渲染篇 2-知己知彼——解锁浏览器背后的运行机制.md\":\"9c06793b\",\"面试_前端性能优化原理与实践_渲染篇 3-对症下药——dom 优化原理与基本实践.md\":\"81f37a6b\",\"面试_前端性能优化原理与实践_渲染篇 4-千方百计——event loop 与异步更新策略.md\":\"59d948df\",\"面试_前端性能优化原理与实践_渲染篇 5-最后一击——回流（reflow）与重绘（repaint）.md\":\"6d93ec2d\",\"面试_前端性能优化原理与实践_网络篇 1-webpack 性能调优与 gzip 原理.md\":\"3d1a2e8b\",\"面试_前端性能优化原理与实践_网络篇 2-图片优化——质量与性能的博弈.md\":\"c7973bda\",\"面试_前端面试之道_css 常考面试题资料.md\":\"99687cf9\",\"面试_前端面试之道_devtools tips.md\":\"8f8efa7f\",\"面试_前端面试之道_es6 知识点及常考面试题.md\":\"a8e0bb06\",\"面试_前端面试之道_event loop.md\":\"4b400905\",\"面试_前端面试之道_http or 2 及 http or 3.md\":\"eb0f7981\",\"面试_前端面试之道_http 及 tls.md\":\"96f4c9af\",\"面试_前端面试之道_js 基础知识点及常考面试题（一）.md\":\"f26ff796\",\"面试_前端面试之道_js 基础知识点及常考面试题（二）.md\":\"f0c849f4\",\"面试_前端面试之道_js 异步编程及常考面试题.md\":\"30861101\",\"面试_前端面试之道_js 思考题.md\":\"653146a3\",\"面试_前端面试之道_js 进阶知识点及常考面试题.md\":\"6615d155\",\"面试_前端面试之道_react 和 vue 两大框架之间的相爱相杀.md\":\"005f71f5\",\"面试_前端面试之道_react 常考基础知识点.md\":\"494c2936\",\"面试_前端面试之道_react 常考进阶知识点.md\":\"cef0ef33\",\"面试_前端面试之道_tcp.md\":\"40beb206\",\"面试_前端面试之道_udp.md\":\"97493def\",\"面试_前端面试之道_vue 常考基础知识点.md\":\"d853e8ef\",\"面试_前端面试之道_vue 常考进阶知识点.md\":\"d7755b2d\",\"面试_前端面试之道_webpack 性能优化.md\":\"e95034a1\",\"面试_前端面试之道_index.md\":\"d237af71\",\"面试_前端面试之道_从 v8 中看 js 性能优化.md\":\"31d2d4ab\",\"面试_前端面试之道_前方的路，让我们结伴同行.md\":\"20d5d779\",\"面试_前端面试之道_如何写好一封简历.md\":\"f6e91540\",\"面试_前端面试之道_安全防范知识点.md\":\"db4234b2\",\"面试_前端面试之道_实现小型打包工具.md\":\"589857cb\",\"面试_前端面试之道_小册食用指南.md\":\"517ddb11\",\"面试_前端面试之道_常考算法题解析.md\":\"311e3a65\",\"面试_前端面试之道_常见数据结构.md\":\"36555c81\",\"面试_前端面试之道_性能优化琐碎事.md\":\"376d1db5\",\"面试_前端面试之道_手写 promise.md\":\"fd1aad8d\",\"面试_前端面试之道_浏览器基础知识点及常考面试题.md\":\"c7be1a41\",\"面试_前端面试之道_浏览器渲染原理.md\":\"4226ce49\",\"面试_前端面试之道_浏览器缓存机制.md\":\"d168e8a5\",\"面试_前端面试之道_监控.md\":\"acb2af95\",\"面试_前端面试之道_设计模式.md\":\"058a9e05\",\"面试_前端面试之道_输入 url 到页面渲染的整个流程.md\":\"b192a919\",\"面试_前端面试之道_面试常用技巧.md\":\"776c7d08\"}")</script>
    <script type="module" async src="/assets/app.c4f45da1.js"></script>
    
  </body>
</html>